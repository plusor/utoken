(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["assets"],{"00cd":function(t,e,s){},"0111":function(t,e,s){"use strict";var a=s("ea15"),i=s.n(a);i.a},"0220":function(t,e,s){"use strict";var a=s("dd41"),i=s.n(a);i.a},"0432":function(t,e,s){},"05f1":function(t,e,s){},"07d3":function(t,e,s){"use strict";var a=s("81c4"),i=s.n(a);i.a},"0c33":function(t,e,s){},"0dec":function(t,e,s){"use strict";var a=s("8622"),i=s.n(a);i.a},"0dee":function(t,e,s){},"0f12":function(t,e,s){"use strict";var a=s("5d15"),i=s.n(a);i.a},"101a":function(t,e,s){"use strict";var a=s("56a2"),i=s.n(a);i.a},"128b":function(t,e,s){},1464:function(t,e,s){},"234e":function(t,e,s){},2371:function(t,e,s){"use strict";var a=s("b40b"),i=s.n(a);i.a},"29da":function(t,e,s){"use strict";var a=s("00cd"),i=s.n(a);i.a},"2cbf":function(t,e,s){},"2e37":function(t,e,s){"use strict";var a=s("c626"),i=s.n(a);i.a},"2f8e":function(t,e,s){"use strict";var a=s("34984"),i=s.n(a);i.a},"2fc2":function(t,e,s){"use strict";var a=s("7849"),i=s.n(a);i.a},34984:function(t,e,s){},"34d8":function(t,e,s){},"3b88":function(t,e,s){"use strict";var a=s("5c75"),i=s.n(a);i.a},"3e89":function(t,e,s){"use strict";var a=s("d6df"),i=s.n(a);i.a},"3ff5":function(t,e,s){"use strict";var a=s("641c"),i=s.n(a);i.a},"40df":function(t,e,s){"use strict";var a=s("128b"),i=s.n(a);i.a},4292:function(t,e,s){"use strict";var a=s("0432"),i=s.n(a);i.a},"44c7":function(t,e,s){"use strict";var a=s("92ae"),i=s.n(a);i.a},"44e5":function(t,e,s){"use strict";var a=s("bd776"),i=s.n(a);i.a},4729:function(t,e,s){},"49cd":function(t,e,s){"use strict";var a=s("8abd"),i=s.n(a);i.a},"506f":function(t,e,s){},5353:function(t,e,s){"use strict";var a=s("4729"),i=s.n(a);i.a},5391:function(t,e,s){"use strict";var a=s("7010"),i=s.n(a);i.a},"56a2":function(t,e,s){},"5c75":function(t,e,s){},"5d15":function(t,e,s){},6134:function(t,e,s){"use strict";var a=s("2724"),i=s("c2ce"),o=s("c576"),n=s("e76c");s("224e")("match",1,function(t,e,s,r){return[function(s){var a=t(this),i=void 0==s?void 0:s[e];return void 0!==i?i.call(s,a):new RegExp(s)[e](String(a))},function(t){var e=r(s,t,this);if(e.done)return e.value;var c=a(t),l=String(this);if(!c.global)return n(c,l);var d=c.unicode;c.lastIndex=0;var u,h=[],p=0;while(null!==(u=n(c,l))){var f=String(u[0]);h[p]=f,""===f&&(c.lastIndex=o(l,i(c.lastIndex),d)),p++}return 0===p?null:h}]})},6259:function(t,e,s){},"641c":function(t,e,s){},"6a3d":function(t,e,s){"use strict";var a=s("34d8"),i=s.n(a);i.a},"6ac0":function(t,e,s){"use strict";var a=s("05f1"),i=s.n(a);i.a},"6d428":function(t,e,s){"use strict";var a=s("e90e"),i=s.n(a);i.a},7010:function(t,e,s){},7570:function(t,e,s){"use strict";var a=s("0c33"),i=s.n(a);i.a},7849:function(t,e,s){},"81c4":function(t,e,s){},8622:function(t,e,s){},"89e0":function(t,e,s){"use strict";var a=s("1464"),i=s.n(a);i.a},"8a60":function(t,e,s){"use strict";var a=s("f820"),i=s.n(a);i.a},"8abd":function(t,e,s){},"8ed2":function(t,e,s){},"92ae":function(t,e,s){},9663:function(t,e,s){},9679:function(t,e,s){},"977b":function(t,e,s){},"98c1":function(t,e,s){"use strict";var a=s("0dee"),i=s.n(a);i.a},"98dc":function(t,e,s){!function(e,s){t.exports=s()}(0,function(){return function(t){function e(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,s){s(7);var a=s(5)(s(1),s(6),null,null);t.exports=a.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t="undefined"!=typeof window&&window.devicePixelRatio||1;return function(e){return Math.round(e*t)/t}}();e.default={name:"VueSliderComponent",props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:6},data:{type:Array,default:null},dotSize:{type:Number,default:16},dotWidth:{type:Number,required:!1},dotHeight:{type:Number,required:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:[Boolean,Array],default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},value:{type:[String,Number,Array,Object],default:0},piecewiseLabel:{type:Boolean,default:!1},debug:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},minRange:{type:Number},maxRange:{type:Number},processDragable:{type:Boolean,default:!1},useKeyboard:{type:Boolean,default:!1},actionsKeyboard:{type:Array,default:function(){return[function(t){return t-1},function(t){return t+1}]}},piecewiseFilter:{type:Function},tooltipMerge:{type:Boolean,default:!0},startAnimation:{type:Boolean,default:!1},enableCross:{type:Boolean,default:!0},sliderStyle:[Array,Object,Function],focusStyle:[Array,Object,Function],tooltipDir:[Array,String],formatter:[String,Function],mergeFormatter:[String,Function],piecewiseStyle:Object,disabledStyle:Object,piecewiseActiveStyle:Object,processStyle:Object,bgStyle:Object,tooltipStyle:[Array,Object,Function],disabledDotStyle:[Array,Object,Function],labelStyle:Object,labelActiveStyle:Object},data:function(){return{flag:!1,dragFlag:!1,crossFlag:!1,keydownFlag:null,focusFlag:!1,processFlag:!1,processSign:null,size:0,fixedValue:0,focusSlider:0,currentValue:0,currentSlider:0,isComponentExists:!0,isMounted:!1}},computed:{dotWidthVal:function(){return"number"==typeof this.dotWidth?this.dotWidth:this.dotSize},dotHeightVal:function(){return"number"==typeof this.dotHeight?this.dotHeight:this.dotSize},flowDirection:function(){return"vue-slider-"+this.direction+(this.reverse?"-reverse":"")},tooltipMergedPosition:function(){if(!this.isMounted)return{};var t=this.tooltipDirection[0];if(this.$refs.dot0){if("vertical"===this.direction){var e={};return e[t]="-"+(this.dotHeightVal/2-this.width/2+9)+"px",e}var s={};return s[t]="-"+(this.dotWidthVal/2-this.height/2+9)+"px",s.left="50%",s}},tooltipDirection:function(){var t=this.tooltipDir||("vertical"===this.direction?"left":"top");return Array.isArray(t)?this.isRange?t:t[1]:this.isRange?[t,t]:t},tooltipStatus:function(){return"hover"===this.tooltip&&this.flag?"vue-slider-always":this.tooltip?"vue-slider-"+this.tooltip:""},tooltipClass:function(){return["vue-slider-tooltip-"+this.tooltipDirection,"vue-slider-tooltip"]},disabledArray:function(){return Array.isArray(this.disabled)?this.disabled:[this.disabled,this.disabled]},boolDisabled:function(){return this.disabledArray.every(function(t){return!0===t})},isDisabled:function(){return"none"===this.eventType||this.boolDisabled},disabledClass:function(){return this.boolDisabled?"vue-slider-disabled":""},stateClass:function(){return{"vue-slider-state-process-drag":this.processFlag,"vue-slider-state-drag":this.flag&&!this.processFlag&&!this.keydownFlag,"vue-slider-state-focus":this.focusFlag}},isRange:function(){return Array.isArray(this.value)},slider:function(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:this.$refs.dot},minimum:function(){return this.data?0:this.min},val:{get:function(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set:function(t){if(this.data)if(this.isRange){var e=this.data.indexOf(t[0]),s=this.data.indexOf(t[1]);e>-1&&s>-1&&(this.currentValue=[e,s])}else{var a=this.data.indexOf(t);a>-1&&(this.currentValue=a)}else this.currentValue=t}},currentIndex:function(){return this.isRange?this.data?this.currentValue:[this.getIndexByValue(this.currentValue[0]),this.getIndexByValue(this.currentValue[1])]:this.getIndexByValue(this.currentValue)},indexRange:function(){return this.isRange?this.currentIndex:[0,this.currentIndex]},maximum:function(){return this.data?this.data.length-1:this.max},multiple:function(){var t=(""+this.interval).split(".")[1];return t?Math.pow(10,t.length):1},spacing:function(){return this.data?1:this.interval},total:function(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!=0&&this.printError("Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap:function(){return this.size/this.total},position:function(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap,(this.currentValue[1]-this.minimum)/this.spacing*this.gap]:(this.currentValue-this.minimum)/this.spacing*this.gap},isFixed:function(){return this.fixed||this.minRange},limit:function(){return this.isRange?this.isFixed?[[0,(this.total-this.fixedValue)*this.gap],[this.fixedValue*this.gap,this.size]]:[[0,this.position[1]],[this.position[0],this.size]]:[0,this.size]},valueLimit:function(){return this.isRange?this.isFixed?[[this.minimum,this.maximum-this.fixedValue*(this.spacing*this.multiple)/this.multiple],[this.minimum+this.fixedValue*(this.spacing*this.multiple)/this.multiple,this.maximum]]:[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},idleSlider:function(){return 0===this.currentSlider?1:0},wrapStyles:function(){return"vertical"===this.direction?{height:"number"==typeof this.height?this.height+"px":this.height,padding:this.dotHeightVal/2+"px "+this.dotWidthVal/2+"px"}:{width:"number"==typeof this.width?this.width+"px":this.width,padding:this.dotHeightVal/2+"px "+this.dotWidthVal/2+"px"}},sliderStyles:function(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:"function"==typeof this.sliderStyle?this.sliderStyle(this.val,this.currentIndex):this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},focusStyles:function(){return Array.isArray(this.focusStyle)?this.isRange?this.focusStyle:this.focusStyle[1]:"function"==typeof this.focusStyle?this.focusStyle(this.val,this.currentIndex):this.isRange?[this.focusStyle,this.focusStyle]:this.focusStyle},disabledDotStyles:function(){var t=this.disabledDotStyle;if(Array.isArray(t))return t;if("function"==typeof t){var e=t(this.val,this.currentIndex);return Array.isArray(e)?e:[e,e]}return t?[t,t]:[{backgroundColor:"#ccc"},{backgroundColor:"#ccc"}]},tooltipStyles:function(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:"function"==typeof this.tooltipStyle?this.tooltipStyle(this.val,this.currentIndex):this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles:function(){return"vertical"===this.direction?{width:this.width+"px",height:"100%"}:{height:this.height+"px"}},dotStyles:function(){return"vertical"===this.direction?{width:this.dotWidthVal+"px",height:this.dotHeightVal+"px",left:-(this.dotWidthVal-this.width)/2+"px"}:{width:this.dotWidthVal+"px",height:this.dotHeightVal+"px",top:-(this.dotHeightVal-this.height)/2+"px"}},piecewiseDotStyle:function(){return"vertical"===this.direction?{width:this.width+"px",height:this.width+"px"}:{width:this.height+"px",height:this.height+"px"}},piecewiseDotWrap:function(){if(!this.piecewise&&!this.piecewiseLabel)return!1;for(var t=[],e=0;e<=this.total;e++){var s="vertical"===this.direction?{bottom:this.gap*e-this.width/2+"px",left:0}:{left:this.gap*e-this.height/2+"px",top:0},a=this.reverse?this.total-e:e,i=this.data?this.data[a]:this.spacing*a+this.min;this.piecewiseFilter&&!this.piecewiseFilter({index:a,label:i})||t.push({style:s,index:a,label:this.formatter?this.formatting(i):i})}return t}},watch:{value:function(t){this.flag||this.setValue(t,!0)},max:function(t){if(t<this.min)return this.printError("The maximum value can not be less than the minimum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},min:function(t){if(t>this.max)return this.printError("The minimum value can not be greater than the maximum value.");var e=this.limitValue(this.val);this.setValue(e),this.refresh()},show:function(t){var e=this;t&&!this.size&&this.$nextTick(function(){e.refresh()})},fixed:function(){this.computedFixedValue()},minRange:function(){this.computedFixedValue()},reverse:function(){this.$refs.process.style.cssText="",this.refresh()}},methods:{bindEvents:function(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousedown",this.blurSlider),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),window.addEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.addEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.addEventListener("transitionend",this.handleOverlapTooltip))},unbindEvents:function(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousedown",this.blurSlider),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd),document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.removeEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.removeEventListener("transitionend",this.handleOverlapTooltip))},handleKeydown:function(t){if(!this.useKeyboard||!this.focusFlag)return!1;switch(t.keyCode){case 37:case 40:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[0]);break;case 38:case 39:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[1])}},handleKeyup:function(){this.keydownFlag&&(this.keydownFlag=!1,this.flag=!1)},changeFocusSlider:function(t){var e=this;if(this.isRange){var s=this.currentIndex.map(function(s,a){if(a===e.focusSlider||e.fixed){var i=t(s),o=e.fixed?e.valueLimit[a]:[0,e.total];if(i<=o[1]&&i>=o[0])return i}return s});s[0]>s[1]&&(this.focusSlider=0===this.focusSlider?1:0,s=s.reverse()),this.setIndex(s)}else this.setIndex(t(this.currentIndex))},blurSlider:function(t){var e=this.isRange?this.$refs["dot"+this.focusSlider]:this.$refs.dot;if(!e||e===t.target||e.contains(t.target))return!1;this.focusFlag=!1},formatting:function(t){return"string"==typeof this.formatter?this.formatter.replace(/\{value\}/,t):this.formatter(t)},mergeFormatting:function(t,e){return"string"==typeof this.mergeFormatter?this.mergeFormatter.replace(/\{(value1|value2)\}/g,function(s,a){return"value1"===a?t:e}):this.mergeFormatter(t,e)},getPos:function(t){return this.realTime&&this.getStaticData(),"vertical"===this.direction?this.reverse?t.pageY-this.offset:this.size-(t.pageY-this.offset):this.reverse?this.size-(t.clientX-this.offset):t.clientX-this.offset},processClick:function(t){this.fixed&&t.stopPropagation()},wrapClick:function(t){var e=this;if(this.isDisabled||!this.clickable||this.processFlag||this.dragFlag)return!1;var s=this.getPos(t);if(this.isRange)if(this.disabledArray.every(function(t){return!1===t}))this.currentSlider=s>(this.position[1]-this.position[0])/2+this.position[0]?1:0;else if(this.disabledArray[0]){if(s<this.position[0])return!1;this.currentSlider=1}else if(this.disabledArray[1]){if(s>this.position[1])return!1;this.currentSlider=0}if(this.disabledArray[this.currentSlider])return!1;if(this.setValueOnPos(s),this.isRange&&this.tooltipMerge){var a=setInterval(function(){return e.handleOverlapTooltip()},16.7);setTimeout(function(){return window.clearInterval(a)},1e3*this.speed)}},moveStart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments[2];if(this.disabledArray[e])return!1;if(this.stopPropagation&&t.stopPropagation(),this.isRange){if(this.currentSlider=e,s){if(!this.processDragable)return!1;this.processFlag=!0,this.processSign={pos:this.position,start:this.getPos(t.targetTouches&&t.targetTouches[0]?t.targetTouches[0]:t)}}this.enableCross||this.val[0]!==this.val[1]||(this.crossFlag=!0)}!s&&this.useKeyboard&&(this.focusFlag=!0,this.focusSlider=e),this.flag=!0,this.$emit("drag-start",this)},moving:function(t){if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.processFlag?(this.currentSlider=0,this.setValueOnPos(this.processSign.pos[0]+this.getPos(t)-this.processSign.start,!0),this.currentSlider=1,this.setValueOnPos(this.processSign.pos[1]+this.getPos(t)-this.processSign.start,!0)):(this.dragFlag=!0,this.setValueOnPos(this.getPos(t),!0)),this.isRange&&this.tooltipMerge&&this.handleOverlapTooltip()},moveEnd:function(t){var e=this;if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,window.setTimeout(function(){e.crossFlag=!1,e.dragFlag=!1,e.processFlag=!1},0),this.setPosition()},setValueOnPos:function(t,e){var s=this.isRange?this.limit[this.currentSlider]:this.limit,a=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit,i=Math.round(t/this.gap);if(t>=s[0]&&t<=s[1]){var o=this.getValueByIndex(i);this.setTransform(t),this.setCurrentValue(o,e),this.isRange&&(this.fixed||this.isLessRange(t,i))&&(this.setTransform(t+this.fixedValue*this.gap*(0===this.currentSlider?1:-1),!0),this.setCurrentValue((o*this.multiple+this.fixedValue*this.spacing*this.multiple*(0===this.currentSlider?1:-1))/this.multiple,e,!0))}else{var n=t<s[0]?0:1,r=0===n?1:0;this.setTransform(s[n]),this.setCurrentValue(a[n]),this.isRange&&(this.fixed||this.isLessRange(t,i))?(this.setTransform(this.limit[this.idleSlider][n],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][n],e,!0)):!this.isRange||!this.enableCross&&!this.crossFlag||this.isFixed||this.disabledArray[n]||this.currentSlider!==r||(this.focusSlider=n,this.currentSlider=n)}this.crossFlag=!1},isLessRange:function(t,e){if(!this.isRange||!this.minRange&&!this.maxRange)return!1;var s=0===this.currentSlider?this.currentIndex[1]-e:e-this.currentIndex[0];return this.minRange&&s<=this.minRange?(this.fixedValue=this.minRange,!0):this.maxRange&&s>=this.maxRange?(this.fixedValue=this.maxRange,!0):(this.computedFixedValue(),!1)},isDiff:function(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||(Array.isArray(t)&&t.length===e.length?t.some(function(t,s){return t!==e[s]}):t!==e)},setCurrentValue:function(t,e,s){var a=s?this.idleSlider:this.currentSlider;if(t<this.minimum||t>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[a],t)&&(this.currentValue.splice(a,1,t),this.lazy&&this.flag||this.syncValue()):this.isDiff(this.currentValue,t)&&(this.currentValue=t,this.lazy&&this.flag||this.syncValue()),e||this.setPosition()},getValueByIndex:function(t){return(this.spacing*this.multiple*t+this.minimum*this.multiple)/this.multiple},getIndexByValue:function(t){return Math.round((t-this.minimum)*this.multiple)/(this.spacing*this.multiple)},setIndex:function(t){if(Array.isArray(t)&&this.isRange){var e=void 0;e=this.data?[this.data[t[0]],this.data[t[1]]]:[this.getValueByIndex(t[0]),this.getValueByIndex(t[1])],this.setValue(e)}else t=this.getValueByIndex(t),this.isRange&&(this.currentSlider=t>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(t)},setValue:function(t,e,s){var a=this;if(this.isDiff(this.val,t)){var i=this.limitValue(t);this.val=this.isRange?i.concat():i,this.computedFixedValue(),this.syncValue(e)}this.$nextTick(function(){return a.setPosition(s)})},computedFixedValue:function(){if(!this.isFixed)return this.fixedValue=0,!1;this.fixedValue=Math.max(this.fixed?this.currentIndex[1]-this.currentIndex[0]:0,this.minRange||0)},setPosition:function(t){this.flag||this.setTransitionTime(void 0===t?this.speed:t),this.isRange?(this.setTransform(this.position[0],1===this.currentSlider),this.setTransform(this.position[1],0===this.currentSlider)):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform:function(t,e){var s=e?this.idleSlider:this.currentSlider,i=a(("vertical"===this.direction?this.dotHeightVal/2-t:t-this.dotWidthVal/2)*(this.reverse?-1:1)),o="vertical"===this.direction?"translateY("+i+"px)":"translateX("+i+"px)",n=this.fixed?this.fixedValue*this.gap+"px":(0===s?this.position[1]-t:t-this.position[0])+"px",r=this.fixed?(0===s?t:t-this.fixedValue*this.gap)+"px":(0===s?t:this.position[0])+"px";this.isRange?(this.slider[s].style.transform=o,this.slider[s].style.WebkitTransform=o,this.slider[s].style.msTransform=o,"vertical"===this.direction?(this.$refs.process.style.height=n,this.$refs.process.style[this.reverse?"top":"bottom"]=r):(this.$refs.process.style.width=n,this.$refs.process.style[this.reverse?"right":"left"]=r)):(this.slider.style.transform=o,this.slider.style.WebkitTransform=o,this.slider.style.msTransform=o,"vertical"===this.direction?(this.$refs.process.style.height=t+"px",this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width=t+"px",this.$refs.process.style[this.reverse?"right":"left"]=0))},setTransitionTime:function(t){if(t||this.$refs.process.offsetWidth,this.isRange){for(var e=0;e<this.slider.length;e++)this.slider[e].style.transitionDuration=t+"s",this.slider[e].style.WebkitTransitionDuration=t+"s";this.$refs.process.style.transitionDuration=t+"s",this.$refs.process.style.WebkitTransitionDuration=t+"s"}else this.slider.style.transitionDuration=t+"s",this.slider.style.WebkitTransitionDuration=t+"s",this.$refs.process.style.transitionDuration=t+"s",this.$refs.process.style.WebkitTransitionDuration=t+"s"},limitValue:function(t){var e=this;if(this.data)return t;var s=function(s){return s<e.min?(e.printError("The value of the slider is "+t+", the minimum value is "+e.min+", the value of this slider can not be less than the minimum value"),e.min):s>e.max?(e.printError("The value of the slider is "+t+", the maximum value is "+e.max+", the value of this slider can not be greater than the maximum value"),e.max):s};return this.isRange?t.map(function(t){return s(t)}):s(t)},isActive:function(t){return t>=this.indexRange[0]&&t<=this.indexRange[1]},syncValue:function(t){var e=this.isRange?this.val.concat():this.val;this.$emit("input",e),this.keydownFlag&&this.$emit("on-keypress",e),t||this.$emit("callback",e)},getValue:function(){return this.val},getIndex:function(){return this.currentIndex},getStaticData:function(){this.$refs.elem&&(this.size="vertical"===this.direction?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.offset="vertical"===this.direction?this.$refs.elem.getBoundingClientRect().top+window.pageYOffset||document.documentElement.scrollTop:this.$refs.elem.getBoundingClientRect().left)},refresh:function(){this.$refs.elem&&(this.getStaticData(),this.computedFixedValue(),this.setPosition(0))},printError:function(t){this.debug&&console.error("[VueSlider error]: "+t)},handleOverlapTooltip:function(){var t=this.tooltipDirection[0]===this.tooltipDirection[1];if(this.isRange&&t){var e=this.reverse?this.$refs.tooltip1:this.$refs.tooltip0,s=this.reverse?this.$refs.tooltip0:this.$refs.tooltip1,a=e.getBoundingClientRect(),i=s.getBoundingClientRect(),o=a.right,n=i.left,r=a.top,c=i.top+i.height,l="horizontal"===this.direction&&o>n,d="vertical"===this.direction&&c>r;l||d?this.handleDisplayMergedTooltip(!0):this.handleDisplayMergedTooltip(!1)}},handleDisplayMergedTooltip:function(t){var e=this.$refs.tooltip0,s=this.$refs.tooltip1,a=this.$refs.process.getElementsByClassName("vue-merged-tooltip")[0];t?(e.style.visibility="hidden",s.style.visibility="hidden",a.style.visibility="visible"):(e.style.visibility="visible",s.style.visibility="visible",a.style.visibility="hidden")}},mounted:function(){var t=this;if(this.isComponentExists=!0,"undefined"==typeof window||"undefined"==typeof document)return this.printError("window or document is undefined, can not be initialization.");this.$nextTick(function(){t.isComponentExists&&(t.getStaticData(),t.setValue(t.limitValue(t.value),!0,t.startAnimation?t.speed:0),t.bindEvents(),t.isRange&&t.tooltipMerge&&!t.startAnimation&&t.$nextTick(function(){t.handleOverlapTooltip()}))}),this.isMounted=!0},beforeDestroy:function(){this.isComponentExists=!1,this.unbindEvents()}}},function(t,e,s){"use strict";var a=s(0);t.exports=a},function(t,e,s){e=t.exports=s(4)(),e.push([t.i,'.vue-slider-component{position:relative;box-sizing:border-box;-ms-user-select:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.vue-slider-component.vue-slider-disabled{opacity:.5;cursor:not-allowed}.vue-slider-component.vue-slider-has-label{margin-bottom:15px}.vue-slider-component.vue-slider-disabled .vue-slider-dot{cursor:not-allowed}.vue-slider-component .vue-slider{position:relative;display:block;border-radius:15px;background-color:#ccc}.vue-slider-component .vue-slider:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;z-index:2}.vue-slider-component .vue-slider-process{position:absolute;border-radius:15px;background-color:#3498db;transition:all 0s;z-index:1}.vue-slider-component .vue-slider-process.vue-slider-process-dragable{cursor:pointer;z-index:3}.vue-slider-component.vue-slider-horizontal .vue-slider-process{width:0;height:100%;top:0;left:0;will-change:width}.vue-slider-component.vue-slider-vertical .vue-slider-process{width:100%;height:0;bottom:0;left:0;will-change:height}.vue-slider-component.vue-slider-horizontal-reverse .vue-slider-process{width:0;height:100%;top:0;right:0}.vue-slider-component.vue-slider-vertical-reverse .vue-slider-process{width:100%;height:0;top:0;left:0}.vue-slider-component .vue-slider-dot{position:absolute;transition:all 0s;will-change:transform;cursor:pointer;z-index:5}.vue-slider-component .vue-slider-dot .vue-slider-dot-handle{width:100%;height:100%;border-radius:50%;background-color:#fff;box-shadow:.5px .5px 2px 1px rgba(0,0,0,.32)}.vue-slider-component .vue-slider-dot.vue-slider-dot-focus .vue-slider-dot-handle{box-shadow:0 0 2px 1px #3498db}.vue-slider-component .vue-slider-dot.vue-slider-dot-dragging{z-index:5}.vue-slider-component .vue-slider-dot.vue-slider-dot-disabled{z-index:4}.vue-slider-component.vue-slider-horizontal .vue-slider-dot{left:0}.vue-slider-component.vue-slider-vertical .vue-slider-dot{bottom:0}.vue-slider-component.vue-slider-horizontal-reverse .vue-slider-dot{right:0}.vue-slider-component.vue-slider-vertical-reverse .vue-slider-dot{top:0}.vue-slider-component .vue-slider-tooltip-wrap{display:none;position:absolute;z-index:9}.vue-slider-component .vue-slider-tooltip{display:block;font-size:14px;white-space:nowrap;padding:2px 5px;min-width:20px;text-align:center;color:#fff;border-radius:5px;border:1px solid #3498db;background-color:#3498db}.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-top{top:-9px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-bottom{bottom:-9px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-left{top:50%;left:-9px;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-right{top:50%;right:-9px;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}.vue-slider-component .vue-slider-tooltip-top .vue-merged-tooltip .vue-slider-tooltip:before,.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-top .vue-slider-tooltip:before{content:"";position:absolute;bottom:-10px;left:50%;width:0;height:0;border:5px solid transparent;border:6px solid transparent\\0;border-top-color:inherit;-webkit-transform:translate(-50%);transform:translate(-50%)}.vue-slider-component .vue-slider-tooltip-wrap.vue-merged-tooltip{display:block;visibility:hidden}.vue-slider-component .vue-slider-tooltip-bottom .vue-merged-tooltip .vue-slider-tooltip:before,.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-bottom .vue-slider-tooltip:before{content:"";position:absolute;top:-10px;left:50%;width:0;height:0;border:5px solid transparent;border:6px solid transparent\\0;border-bottom-color:inherit;-webkit-transform:translate(-50%);transform:translate(-50%)}.vue-slider-component .vue-slider-tooltip-left .vue-merged-tooltip .vue-slider-tooltip:before,.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-left .vue-slider-tooltip:before{content:"";position:absolute;top:50%;right:-10px;width:0;height:0;border:5px solid transparent;border:6px solid transparent\\0;border-left-color:inherit;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-component .vue-slider-tooltip-right .vue-merged-tooltip .vue-slider-tooltip:before,.vue-slider-component .vue-slider-tooltip-wrap.vue-slider-tooltip-right .vue-slider-tooltip:before{content:"";position:absolute;top:50%;left:-10px;width:0;height:0;border:5px solid transparent;border:6px solid transparent\\0;border-right-color:inherit;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-component .vue-slider-dot.vue-slider-hover:hover .vue-slider-tooltip-wrap{display:block}.vue-slider-component .vue-slider-dot.vue-slider-always .vue-slider-tooltip-wrap{display:block!important}.vue-slider-component .vue-slider-piecewise{position:absolute;width:100%;padding:0;margin:0;left:0;top:0;height:100%;list-style:none}.vue-slider-component .vue-slider-piecewise-item{position:absolute;width:8px;height:8px}.vue-slider-component .vue-slider-piecewise-dot{position:absolute;left:50%;top:50%;width:100%;height:100%;display:inline-block;background-color:rgba(0,0,0,.16);border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:2;transition:all .3s}.vue-slider-component .vue-slider-piecewise-item:first-child .vue-slider-piecewise-dot,.vue-slider-component .vue-slider-piecewise-item:last-child .vue-slider-piecewise-dot{visibility:hidden}.vue-slider-component.vue-slider-horizontal-reverse .vue-slider-piecewise-label,.vue-slider-component.vue-slider-horizontal .vue-slider-piecewise-label{position:absolute;display:inline-block;top:100%;left:50%;white-space:nowrap;font-size:12px;color:#333;-webkit-transform:translate(-50%,8px);transform:translate(-50%,8px);visibility:visible}.vue-slider-component.vue-slider-vertical-reverse .vue-slider-piecewise-label,.vue-slider-component.vue-slider-vertical .vue-slider-piecewise-label{position:absolute;display:inline-block;top:50%;left:100%;white-space:nowrap;font-size:12px;color:#333;-webkit-transform:translate(8px,-50%);transform:translate(8px,-50%);visibility:visible}.vue-slider-component .vue-slider-sr-only{clip:rect(1px,1px,1px,1px);height:1px;width:1px;overflow:hidden;position:absolute!important}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var s=this[e];s[2]?t.push("@media "+s[2]+"{"+s[1]+"}"):t.push(s[1])}return t.join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(a[o]=!0)}for(i=0;i<e.length;i++){var n=e[i];"number"==typeof n[0]&&a[n[0]]||(s&&!n[2]?n[2]=s:s&&(n[2]="("+n[2]+") and ("+s+")"),t.push(n))}},t}},function(t,e){t.exports=function(t,e,s,a){var i,o=t=t||{},n=typeof t.default;"object"!==n&&"function"!==n||(i=t,o=t.default);var r="function"==typeof o?o.options:o;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),s&&(r._scopeId=s),a){var c=Object.create(r.computed||null);Object.keys(a).forEach(function(t){var e=a[t];c[t]=function(){return e}}),r.computed=c}return{esModule:i,exports:o,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"wrap",class:["vue-slider-component",t.flowDirection,t.disabledClass,t.stateClass,{"vue-slider-has-label":t.piecewiseLabel}],style:[t.wrapStyles,t.boolDisabled?t.disabledStyle:null],on:{click:t.wrapClick}},[s("div",{ref:"elem",staticClass:"vue-slider",style:[t.elemStyles,t.bgStyle],attrs:{"aria-hidden":"true"}},[t.isRange?[s("div",{key:"dot0",ref:"dot0",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider,"vue-slider-dot-dragging":t.flag&&0===t.currentSlider,"vue-slider-dot-disabled":!t.boolDisabled&&t.disabledArray[0]}],style:t.dotStyles,on:{mousedown:function(e){t.moveStart(e,0)},touchstart:function(e){t.moveStart(e,0)}}},[t._t("dot",[s("div",{staticClass:"vue-slider-dot-handle",style:[!t.boolDisabled&&t.disabledArray[0]?t.disabledDotStyles[0]:null,t.sliderStyles[0],t.focusFlag&&0===t.focusSlider?t.focusStyles[0]:null]})],{value:t.val[0],index:0,disabled:t.disabledArray[0]}),t._v(" "),s("div",{ref:"tooltip0",class:["vue-slider-tooltip-"+t.tooltipDirection[0],"vue-slider-tooltip-wrap"]},[t._t("tooltip",[s("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles[0]},[t._v(t._s(t.formatter?t.formatting(t.val[0]):t.val[0]))])],{value:t.val[0],index:0,disabled:!t.boolDisabled&&t.disabledArray[0]})],2)],2),t._v(" "),s("div",{key:"dot1",ref:"dot1",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&1===t.focusSlider,"vue-slider-dot-dragging":t.flag&&1===t.currentSlider,"vue-slider-dot-disabled":!t.boolDisabled&&t.disabledArray[1]}],style:t.dotStyles,on:{mousedown:function(e){t.moveStart(e,1)},touchstart:function(e){t.moveStart(e,1)}}},[t._t("dot",[s("div",{staticClass:"vue-slider-dot-handle",style:[!t.boolDisabled&&t.disabledArray[1]?t.disabledDotStyles[1]:null,t.sliderStyles[1],t.focusFlag&&1===t.focusSlider?t.focusStyles[1]:null]})],{value:t.val[1],index:1,disabled:t.disabledArray[1]}),t._v(" "),s("div",{ref:"tooltip1",class:["vue-slider-tooltip-"+t.tooltipDirection[1],"vue-slider-tooltip-wrap"]},[t._t("tooltip",[s("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles[1]},[t._v(t._s(t.formatter?t.formatting(t.val[1]):t.val[1]))])],{value:t.val[1],index:1,disabled:!t.boolDisabled&&t.disabledArray[1]})],2)],2)]:[s("div",{key:"dot",ref:"dot",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider,"vue-slider-dot-dragging":t.flag&&0===t.currentSlider}],style:t.dotStyles,on:{mousedown:t.moveStart,touchstart:t.moveStart}},[t._t("dot",[s("div",{staticClass:"vue-slider-dot-handle",style:[t.sliderStyles,t.focusFlag&&0===t.focusSlider?t.focusStyles:null]})],{value:t.val,disabled:t.boolDisabled}),t._v(" "),s("div",{class:["vue-slider-tooltip-"+t.tooltipDirection,"vue-slider-tooltip-wrap"]},[t._t("tooltip",[s("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles},[t._v(t._s(t.formatter?t.formatting(t.val):t.val))])],{value:t.val})],2)],2)],t._v(" "),s("ul",{staticClass:"vue-slider-piecewise"},t._l(t.piecewiseDotWrap,function(e,a){return s("li",{key:a,staticClass:"vue-slider-piecewise-item",style:[t.piecewiseDotStyle,e.style]},[t._t("piecewise",[t.piecewise?s("span",{staticClass:"vue-slider-piecewise-dot",style:[t.piecewiseStyle,t.isActive(e.index)?t.piecewiseActiveStyle:null]}):t._e()],{value:t.val,label:e.label,index:a,first:0===a,last:a===t.piecewiseDotWrap.length-1,active:t.isActive(e.index)}),t._v(" "),t._t("label",[t.piecewiseLabel?s("span",{staticClass:"vue-slider-piecewise-label",style:[t.labelStyle,t.isActive(e.index)?t.labelActiveStyle:null]},[t._v("\n            "+t._s(e.label)+"\n          ")]):t._e()],{value:t.val,label:e.label,index:a,first:0===a,last:a===t.piecewiseDotWrap.length-1,active:t.isActive(e.index)})],2)})),t._v(" "),s("div",{ref:"process",class:["vue-slider-process",{"vue-slider-process-dragable":t.isRange&&t.processDragable}],style:t.processStyle,on:{click:t.processClick,mousedown:function(e){t.moveStart(e,0,!0)},touchstart:function(e){t.moveStart(e,0,!0)}}},[s("div",{ref:"mergedTooltip",class:["vue-merged-tooltip","vue-slider-tooltip-"+t.tooltipDirection[0],"vue-slider-tooltip-wrap"],style:t.tooltipMergedPosition},[t._t("tooltip",[s("span",{staticClass:"vue-slider-tooltip",style:t.tooltipStyles},[t._v("\n            "+t._s(t.mergeFormatter?t.mergeFormatting(t.val[0],t.val[1]):t.formatter?t.val[0]===t.val[1]?t.formatting(t.val[0]):t.formatting(t.val[0])+" - "+t.formatting(t.val[1]):t.val[0]===t.val[1]?t.val[0]:t.val[0]+" - "+t.val[1])+"\n          ")])],{value:t.val,merge:!0})],2)]),t._v(" "),t.isRange||t.data?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"vue-slider-sr-only",attrs:{type:"range",min:t.min,max:t.max},domProps:{value:t.val},on:{__r:function(e){t.val=e.target.value}}})],2)])},staticRenderFns:[]}},function(t,e,s){var a=s(3);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),s(8)("743d98f5",a,!0)},function(t,e,s){function a(t){for(var e=0;e<t.length;e++){var s=t[e],a=d[s.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](s.parts[i]);for(;i<s.parts.length;i++)a.parts.push(o(s.parts[i]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{var n=[];for(i=0;i<s.parts.length;i++)n.push(o(s.parts[i]));d[s.id]={id:s.id,refs:1,parts:n}}}}function i(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function o(t){var e,s,a=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(a){if(f)return m;a.parentNode.removeChild(a)}if(v){var o=p++;a=h||(h=i()),e=n.bind(null,a,o,!1),s=n.bind(null,a,o,!0)}else a=i(),e=r.bind(null,a),s=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else s()}}function n(t,e,s,a){var i=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=g(e,i);else{var o=document.createTextNode(i),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(o,n[e]):t.appendChild(o)}}function r(t,e){var s=e.css,a=e.media,i=e.sourceMap;if(a&&t.setAttribute("media",a),i&&(s+="\n/*# sourceURL="+i.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=s(9),d={},u=c&&(document.head||document.getElementsByTagName("head")[0]),h=null,p=0,f=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,s){f=s;var i=l(t,e);return a(i),function(e){for(var s=[],o=0;o<i.length;o++){var n=i[o],r=d[n.id];r.refs--,s.push(r)}e?(i=l(t,e),a(i)):i=[];for(o=0;o<s.length;o++){r=s[o];if(0===r.refs){for(var c=0;c<r.parts.length;c++)r.parts[c]();delete d[r.id]}}}};var g=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var s=[],a={},i=0;i<e.length;i++){var o=e[i],n=o[0],r=o[1],c=o[2],l=o[3],d={id:t+":"+i,css:r,media:c,sourceMap:l};a[n]?a[n].parts.push(d):s.push(a[n]={id:n,parts:[d]})}return s}}])})},"9b53":function(t,e,s){"use strict";var a=s("2cbf"),i=s.n(a);i.a},"9c0f":function(t,e,s){"use strict";var a=s("8ed2"),i=s.n(a);i.a},"9d12":function(t,e,s){},"9df2":function(t,e,s){"use strict";var a=s("de34"),i=s.n(a);i.a},"9f23":function(t,e,s){"use strict";e["a"]={open:function(t,e){window.cordova.ThemeableBrowser.open(e,"_blank",{title:{staticText:t},browserProgress:{showProgress:!0,progressBgColor:"#ffffff",progressColor:"#007e9c"},closeButton:{wwwImage:"static/img/back.png",wwwImagePressed:"static/img/back_pressed.png",wwwImageDensity:2,align:"left",event:"backPressed"}})}}},a1ab:function(t,e,s){"use strict";var a=s("f6e2"),i=s.n(a);i.a},a1fa:function(t,e,s){},a517:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assets-container",staticStyle:{width:"100%"}},[s("van-nav-bar",[s("span",{attrs:{slot:"left"},on:{click:t.toScan},slot:"left"},[s("i",{staticClass:"ultfont ult-scan"})]),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.$t("assets.assets"))+"\n      ")]),s("span",{attrs:{slot:"right"},on:{click:t.viewAccounts},slot:"right"},[s("i",{staticClass:"ultfont ult-menu"})])]),s("pl-content-block",{ref:"contentBlock",attrs:{offsetTop:46,offsetBottom:51}},[s("van-pull-refresh",{staticStyle:{"min-height":"100%"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[s("van-swipe",{ref:"swipe",staticStyle:{"overflow-y":"auto",height:"100%"},attrs:{refs:"swipe",duration:200,loop:!1,"show-indicators":!1,"initial-swipe":t.index},on:{change:t.swipeChange}},t._l(t.wallets,function(e,a){return s("van-swipe-item",{key:a,class:{"asset-active":t.index===a,"asset-active-prev":t.index===a+1,"asset-active-next":t.index===a-1,"asset-active-prev-1":t.index===a+2,"asset-active-next-1":t.index===a-2}},[s("asset-item",{ref:"assetItem",refInFor:!0,attrs:{data:e},on:{assetClick:t.showAssetDetail,topCardClick:t.viewAcctDetail,showQRcode:t.showQRcode,addAssets:t.addAssets,toTrade:t.toTrade}})],1)}),1)],1)],1),s("view-accounts",{ref:"viewAccounts",on:{afterDelAcct:t.setWallets,selectWallet:t.selectWallet,updateAcct:function(e){t.setWallets()}}}),s("assets-add",{ref:"assetsAdd"}),s("receive-asset",{ref:"receiveAsset",attrs:{"short-code":t.shortCode},on:{scanQrcode:t.toScan}}),s("acct-detail",{ref:"acctDetail",on:{afterDelAcct:t.setWallets}}),s("asset-detail",{ref:"assetDetail"}),s("send-transaction",{ref:"sendTransaction"}),s("address-add",{ref:"addressAdd"}),s("trade",{ref:"trade"}),s("van-actionsheet",{attrs:{"cancel-text":t.$t("common.cancelText"),actions:t.actions},on:{select:t.onSelect},model:{value:t.showActions,callback:function(e){t.showActions=e},expression:"showActions"}})],1)},i=[],o=(s("3f87"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"asset-item"},[s("div",{staticClass:"top-wrapper"},[s("div",{staticClass:"asset-top-card",class:t.data.type+"-bg",on:{click:t.topCardClick}},[t._m(0),s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"qrcode",on:{click:function(e){e.stopPropagation(),t.showQRcode(t.data.type)}}},[s("i",{staticClass:"ultfont ult-qrcode"})]),s("div",{staticClass:"title text-ellipsis"},[s("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.dprImg(t.shortType(t.data.type)+"-w.png"),width:"25",height:"25"}}),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v("  "+t._s(t.data.name))])]),s("div",{staticClass:"content",class:t.setStatAmtClass},[s("span",{staticClass:"normal-font"},[t._v(" ≈ ")]),s("pl-privacy",[t._v(t._s(t._f("cutTail")(t._f("currency")(t.statAmt,"","4")))+" ")]),s("span",{staticClass:"small-font"},[t._v(" "+t._s(t.$store.state.setting.currencyUnit)+"\n          ")])],1),s("div",{staticClass:"bottom"},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{complete:!1,address:t.data.address}}),t._m(1)],1)])])]),s("pl-content-block",{staticStyle:{"overflow-y":"hidden"},attrs:{offsetTop:214,offsetBottom:51,heightType:"minHeight"}},[t.loading?s("div",{staticClass:"text-center"},[s("van-loading",{staticStyle:{margin:"10px auto"}})],1):s("div",[t.activated?s("div",[this.balances&&this.balances.length>0?s("div",{staticClass:"asset-bar"},[s("div",{staticClass:"big-font",staticStyle:{"font-weight":"bold"}},[s("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("assets.assets")))]),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v("\n             \n            "),t.$store.state.setting.privacyMode?s("van-icon",{attrs:{name:"password-not-view"},on:{click:function(e){t.setMode(!1)}}}):s("van-icon",{attrs:{name:"password-view"},on:{click:function(e){t.setMode(!0)}}})],1)]),t.showTradeBtn?s("span",{staticClass:"add-btn",staticStyle:{right:"70px"},on:{click:t.toTrade}},[s("img",{attrs:{src:t.dprImg("trade.png"),width:"20",height:"20"}})]):t._e(),t.showAddBtn?s("span",{staticClass:"add-btn",on:{click:t.addAssets}},[s("img",{attrs:{src:t.dprImg("add.png"),width:"20",height:"20"}})]):t._e()]):t._e(),s("div",{staticClass:"asset-list"},t._l(t.assets,function(e,a){return s("div",{key:a,staticClass:"asset-list-item item-block",on:{click:function(s){t.assetClick(e)}}},[s("div",{staticClass:"content"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{attrs:{width:"35"}},[s("span",{staticClass:"img-icon"},[e.logo?s("img",{attrs:{src:e.logo}}):"XRP"===e.code?s("img",{attrs:{src:"static/img/"+e.code+"-1@3x.png"}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})])]),s("td",{attrs:{width:"90"}},[s("div",{staticClass:"big-font",staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.code))]),e.name?s("span",{staticClass:"text-main"},["unknown"!==e.name?s("span",[t._v(t._s(e.name))]):s("span",[s("pl-wallet-addr",{staticClass:"x-small-font",attrs:{complete:!1,address:e.issuer,length:4,"show-copy":!1}})],1)]):t._e()]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"big-font"},[s("pl-privacy",{attrs:{switchable:!1}},[t._v(t._s(t._f("cutTail")(t._f("currency")(e.value,"","8"))))])],1),t.isShowMarket(e.value,e.code,e.issuer)?s("div",{staticClass:"text-main small-font"},["XLM"!==e.code?s("div",[t._v("\n                      ≈ \n                      "),s("pl-privacy",{attrs:{suffix:t.$store.state.setting.currencyUnit,switchable:!1}},[t._v("\n                        "+t._s(t._f("market")(e.value,e.code,e.issuer))+"\n                      ")])],1):t._e(),"XLM"===e.code?s("div",[t._v("\n                      "+t._s(t.$t("assets.frozenNative"))+"\n                      "),s("pl-privacy",{attrs:{suffix:t.$store.state.setting.currencyUnit,switchable:!1}},[t._v("\n                        "+t._s(e.frozenNative)+" XLM\n                      ")])],1):t._e()]):t._e()])])])])])}),0)]):s("account-activated",{attrs:{"acct-type":t.data.type,"short-acct-type":t.shortType(t.data.type)},on:{transitionActivated:function(e){t.showQRcode(t.data.type)}}})],1)])],1)}),n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg"},[s("img",{attrs:{src:"static/img/card-bg.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"pull-right"},[s("i",{staticClass:"ultfont ult-ellipsis"})])}],r=(s("eee6"),s("7378"),s("c839"),s("7ea5")),c=(s("76b8"),s("2553")),l=s("00d8"),d={methods:{getConfigAssets:function(t){var e=c["a"][t],s=[];switch(t){case l["a"].ethereum:return Object.keys(e.tokens()).forEach(function(t){var a=e.tokens()[t],i={code:a.symbol,name:a.name,issuer:a.address};s.push(i)}),s;case l["a"].ripple:return Object.keys(e.tokens()).forEach(function(t){var a=e.tokens()[t];a.assets.forEach(function(t){t.list&&s.push({code:t.code,issuer:t.issuer,name:a.name,logo:a.logo})})}),s;case l["a"].stellar:var a=e.tokens();return Object.keys(a).forEach(function(t){var a=e.tokens()[t];a.assets.forEach(function(t){t.list&&s.push({code:t.code,issuer:t.issuer,name:a.name,logo:a.logo})})}),s;default:return[]}},getConfigAssetsMap:function(t){var e=this.getConfigAssets(t),s={};return e.forEach(function(t){s[t.code+(t.issuer||"")]=t}),s}}},u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.acctType?s("div",{staticClass:"item-block acct-activated normal-font"},[s("div",{staticClass:"text-center title",domProps:{textContent:t._s(t.$t("assets.accountActivatedTitle"))}}),t.isStellar?s("div",{staticClass:"text-muted msg"},[t._v("\n    "+t._s(t.$t("assets.stellarAccountActivatedMsg"))+"\n  ")]):s("div",[t._v("\n    "+t._s(t.$t("assets.xrpAccountActivatedMsg"))+"\n  ")]),s("div",{staticClass:"opt"},[s("van-row",[s("van-col",{staticClass:"text-center text-danger",attrs:{span:"24"},domProps:{textContent:t._s(t.$t("assets.accountActivatedMode"))},nativeOn:{click:function(e){return t.toTransitionActivated(e)}}})],1)],1)]):t._e()},h=[],p={props:{acctType:{type:String,default:""},shortAcctType:{type:String,default:""}},computed:{activatedValue:function(){return this.acctType===l["c"].AccountType.stellar?1:this.acctType===l["c"].AccountType.ripple?20:0},isStellar:function(){return this.acctType===l["c"].AccountType.stellar}},methods:{toTransitionActivated:function(){this.$emit("transitionActivated")}}},f=p,m=(s("a1ab"),s("048f")),v=Object(m["a"])(f,u,h,!1,null,"7a6ea5b5",null);v.options.__file="account-activated.vue";var g=v.exports,b=s("8a8d"),y=s.n(b),w=s("f5fb"),x={mixins:[d],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1}},components:{accountActivated:g},computed:{showAddBtn:function(){return!this.data||this.data.type!==l["a"].bitcoin},showTradeBtn:function(){return!(!this.data||this.data.type!==l["a"].stellar)},activated:function(){if(this.data&&this.data.address){var t=this.$store.state.activatedMap[this.data.address];return!1!==t}return!0},assets:function(){var t=[];if(this.data&&this.data.address){var e=this.getConfigAssetsMap(this.data.type);this.balances&&this.balances.forEach(function(s,a){var i=Object(r["a"])({},s),o=e[s.code+(s.issuer||"")];o?(i.logo=o.logo||"",i.name=o.name||"unknown",i.issuer=o.issuer,t.push(i)):0===a?t.push(i):(i.logo="static/img/unknown.png",i.name||(i.name="unknown"),t.push(i))})}return t},balances:function(){return this.data.address?this.$store.state.balances[this.data.address]:[]},statAmt:function(){var t=this.assets,e=0;if(t&&t.length>0){var s=this.$store.state.markets;t.forEach(function(t){var a=t.issuer?"".concat(t.code,"-").concat(t.issuer):t.code,i=s[a];if(i&&i.marketPrice){var o=new y.a(t.value).times(i.marketPrice);e=new y.a(e).plus(o)}})}return e>1?e=e.toFixed(2):e>0&&e<1&&(e=e.toFixed(4)),Number(e)},setStatAmtClass:function(){return this.statAmt&&this.statAmt.toString().length>12?"x-large-font":"x-x-large-font"}},methods:{isShowMarket:function(t,e,s){return Object(w["a"])(t,e,s)>0},setMode:function(t){this.$store.dispatch("setPrivacyMode",t)},setActive:function(){var t=this;this.balances&&0!==this.balances.length||(this.loading=!0);var e=Object(r["a"])({},this.data,{setBalance:!1});this.$store.dispatch("setAccount",e),this.$store.dispatch("setBalances",this.data).then(function(){t.loading=!1}).catch(function(e){console.info(e),t.loading=!1})},shortType:function(t){return c["a"][t].symbol||t},assetClick:function(t){this.$emit("assetClick",t)},topCardClick:function(){this.$emit("topCardClick")},showQRcode:function(t){this.$emit("showQRcode",this.shortType(t))},addAssets:function(){this.$emit("addAssets")},toTrade:function(){var t=this;this.balances.length>1?this.$emit("toTrade"):this.$dialog.confirm({title:this.$t("common.tip"),message:this.$t("trade.tradeTip")}).then(function(){t.$emit("toTrade")})}}},$=x,C=(s("0111"),Object(m["a"])($,o,n,!1,null,"1c57aa16",null));C.options.__file="asset-item.vue";var _=C.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-my-wallet"},[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"90%",height:"100%"},attrs:{position:"right"},model:{value:t.showVpop,callback:function(e){t.showVpop=e},expression:"showVpop"}},[s("view-account-item",{attrs:{accounts:t.createAccounts,title:t.$t("assets.currentAccount"),"opt-text":t.$t("common.add"),"opt-falg":t.createAccounts.length<100,isImport:""},on:{"update:accounts":function(e){t.createAccounts=e},"update:optFalg":function(e){t.$set(t.createAccounts,"length < 100",e)},opt:t.addWalletAcct,viewDetail:t.toAcctDetail,selectWallet:t.selectWallet,close:t.close}}),s("view-account-item",{attrs:{accounts:t.importAccounts,title:t.$t("assets.importAccount"),"opt-text":t.$t("common.import")},on:{"update:accounts":function(e){t.importAccounts=e},opt:t.importWalletAcct,viewDetail:t.toAcctDetail,selectWallet:t.selectWallet,close:t.close}})],1),s("account-type-select",{ref:"accountTypeSelect",on:{done:t.updateCurrentAcct}}),s("wallet-type-select",{ref:"walletTypeSelect",on:{done:t.updateImportAcct,refreshAll:t.refreshAccts}}),s("acct-detail",{ref:"acctDetail",on:{afterDelAcct:t.afterDelAcct}})],1)},A=[],S=s("b00f"),T=s("afed"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"coin-type-select"},[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%",overflow:"hidden"},attrs:{position:"right"},model:{value:t.showVpop,callback:function(e){t.showVpop=e},expression:"showVpop"}},[s("pl-header",[s("van-nav-bar",{attrs:{title:t.title,fixed:"","z-index":999},on:{"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])])],1),s("pl-content-block",{attrs:{offsetTop:46}},[s("content-block",{attrs:{"min-height":"200px"}},[s("top-block",{attrs:{title:t.$t("wallet.selectAccountType")}},[s("img",{attrs:{src:"static/img/account-select@3x.png",width:"45",height:"45"}})]),s("type-select",{attrs:{clickable:!0,isCheck:!1},on:{"click-opt":t.toImportWallet}},[s("span",{attrs:{slot:"type-right-icon"},slot:"type-right-icon"},[s("van-icon",{attrs:{name:"arrow"}})],1)])],1)],1)],1),s("import-wallet-acct",{ref:"importWalletAcct",on:{done:t.done,refreshAll:t.refreshAll}})],1)},H=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"import-wallet"},[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%",overflow:"hidden"},attrs:{position:"right"},model:{value:t.showVpop,callback:function(e){t.showVpop=e},expression:"showVpop"}},[s("van-nav-bar",{attrs:{title:t.barTitle},on:{"click-right":t.toScan,"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("span",{attrs:{slot:"right"},slot:"right"},[s("i",{staticClass:"ultfont ult-scan"})])]),s("pl-content-block",{attrs:{offsetTop:46}},[s("div",[s("div",{staticClass:"padding text-center",staticStyle:{"margin-top":"10px","margin-bottom":"15px"}},[s("span",{staticClass:"top-btn",class:{"select text-white":"1"==t.tagSelect},staticStyle:{"border-radius":"3px 0 0 3px"},on:{click:function(e){e.stopPropagation(),t.onchangeTag("1")}}},[t._v(t._s(t.$t("wallet.mnemonicCode")))]),s("span",{staticClass:"top-btn",class:{"select text-white":"2"==t.tagSelect},staticStyle:{"border-radius":"0 3px 3px 0"},on:{click:function(e){e.stopPropagation(),t.onchangeTag("2")}}},[t._v(t._s(t.$t("wallet.privateKey")))])]),"1"==t.tagSelect?s("wallet-text-area",{attrs:{tip:t.$t("wallet.recoverWalletTip"),placeholder:t.$t("wallet.recoverWalletPlaceholder")},model:{value:t.form.memorizingWords,callback:function(e){t.$set(t.form,"memorizingWords",e)},expression:"form.memorizingWords"}}):"2"==t.tagSelect?s("wallet-text-area",{attrs:{tip:t.$t("wallet.privateKeyTip"),placeholder:t.$t("wallet.privateKeyPlaceholder")},model:{value:t.form.privateKey,callback:function(e){t.$set(t.form,"privateKey",e)},expression:"form.privateKey"}}):t._e()],1),s("wallet-tip",{staticStyle:{"margin-top":"15px","padding-bottom":"10px"},attrs:{tip:t.$t("wallet.exportWalletPwdTip")}}),s("password-block",{ref:"passwordBlock",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),s("button-bottom",[s("div",{staticClass:"text-primary text-center",staticStyle:{"padding-bottom":"10px"}},[s("van-icon",{staticClass:"text-primary",staticStyle:{"vertical-align":"middle"},attrs:{name:"idcard"}}),t._v("  "),s("span",{staticStyle:{"vertical-align":"middle"},on:{click:t.viewHelp}},[t._v(t._s(t.bottomTip))])],1),s("van-button",{attrs:{size:"large",round:"",type:"primary"},domProps:{textContent:t._s(t.$t("wallet.immediatelyImport"))},on:{click:t.importWallet}})],1)],1)],1),s("help",{ref:"help"})],1)},M=[],E=(s("0be8"),s("48de")),O=s("6444"),I=s("acac"),F=s("72f8"),N=s("9d61"),V=s("56cd"),B=s("4f20"),R=s("9ab1"),L={mixins:[E["a"]],components:{help:O["a"],passwordBlock:I["a"],walletTextArea:F["a"],walletTip:N["a"],buttonBottom:V["a"]},data:function(){return{coin:{},source:"",tagSelect:"1",showVpop:!1,form:{memorizingWords:"",walletPwd:"",confirmWalletPwd:"",privateKey:""}}},computed:{bottomTip:function(){return"1"===this.tagSelect?this.$t("wallet.oneSecUnderstandMnemonicCode"):"2"===this.tagSelect?this.$t("wallet.oneSecUnderstandPrivateKey"):""},barTitle:function(){return this.$t("common.import")+" "+this.coin.name+" "+this.$t("common.account")}},methods:{show:function(t,e){this.source=e,this.coin=t,this.resetForm(),this.showVpop=!0},close:function(){this.showVpop=!1},resetForm:function(){var t=this;this.tagSelect="1",this.form.memorizingWords="",this.form.privateKey="",this.$nextTick(function(){t.$refs.passwordBlock.resetForm()})},onchangeTag:function(t){this.resetForm(),this.tagSelect=t},viewHelp:function(){"1"===this.tagSelect?this.$refs.help.show("mnemonic"):"2"===this.tagSelect&&this.$refs.help.show("private-key")},toScan:function(){var t=this;B["a"].scan(this).then(function(e){e&&e.address&&""!==e.address?"1"===t.tagSelect?t.form.memorizingWords=e.address:"2"===t.tagSelect&&(t.form.privateKey=e.address):t.$toast(t.$t("assets.scanFailTip"))},function(e){console.error(e),t.$toast(e)})},checkFormFields:function(){return this.form.walletPwd!==this.form.confirmWalletPwd?(this.$toast(this.$t("common.confirmPwdTip")),!1):this.form.walletPwd?this.form.walletPwd.length<6?(this.$toast(this.$t("wallet.passwordLimitTip")),!1):this.form.privateKey&&this.form.privateKey.length<64&&"ethereum"===this.coin.type?(this.$toast(this.$t("wallet.invalidPrivateKeyTip")),!1):!(this.form.memorizingWords&&this.form.memorizingWords.split(" ").length<12)||(this.$toast(this.$t("wallet.invalidMnemonicCodeTip")),!1):(this.$toast(this.$t("common.notEmptyPwd")),!1)},updateAccountState:function(t){var e=this,s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("wallet.importing")});this.$collecitons.account.findAndUpdateAcct({address:t.address},function(s){return s.password=R["a"].encryptMD5(e.form.walletPwd),"1"===e.tagSelect?(s.secret=R["a"].encryptAES(t.secret,e.form.walletPwd),s.mnemonicCode=R["a"].encryptAES(e.form.memorizingWords,e.form.walletPwd)):"2"===e.tagSelect&&(s.mnemonicCode="",s.secret=R["a"].encryptAES(t.secret,e.form.walletPwd)),s.state="N"}),setTimeout(function(){s.clear(),e.close(),e.$emit("refreshAll")},1e3)},importWallet:function(){var t=this;if(this.checkFormFields()){var e=this.getHdWalletAccount(this.coin.type,this.form.memorizingWords,this.form.privateKey);if(e){var s=this.$collecitons.account.findByAddress(e.address);if(s)"D"===s.state?this.updateAccountState(e):this.$toast(this.$t("wallet.existWalletTip"));else{var a=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("wallet.importing")});if("1"===this.tagSelect){var i=this.form.memorizingWords.split(" ");if(i.length<12)return void this.$toast(this.$t("wallet.invalidMnemonicCodeTip"));try{this.createWalletAcctByMnemonicCode([this.coin.type],this.form.memorizingWords,this.form.walletPwd,this.source,!0),setTimeout(function(){a.clear(),t.close(),t.$emit("done")},1e3)}catch(o){o.toString().indexOf("Invalid mnemonic")>=0&&this.$toast(this.$t("wallet.invalidMnemonicCodeTip")),console.error(o)}}else if("2"===this.tagSelect){if(!this.form.privateKey)return void this.$toast(this.$t("wallet.privateKeyNotEmpty"));try{this.createWalletAcctByPrivateKey(this.coin.type,this.form.privateKey,this.form.walletPwd,this.source,!0),setTimeout(function(){a.clear(),t.close(),t.$emit("done")},1e3)}catch(o){this.$toast(this.$t("wallet.invalidPrivateKeyTip")),console.error(o)}}}}else"1"===this.tagSelect?this.$toast(this.$t("wallet.invalidMnemonicCodeTip")):"2"===this.tagSelect&&this.$toast(this.$t("wallet.invalidPrivateKeyTip"))}}}},j=L,W=(s("40df"),Object(m["a"])(j,D,M,!1,null,"29aadd1b",null));W.options.__file="import-wallet-pop.vue";var z=W.exports,Y=s("6145"),X=s("b375"),q=s("984b"),K={components:{importWalletAcct:z,topBlock:X["a"],contentBlock:Y["a"],typeSelect:q["a"]},data:function(){return{showVpop:!1,checkedValue:"",source:""}},computed:{title:function(){return this.$t("wallet.importAcct")}},methods:{show:function(t){this.showVpop=!0,this.source=t},close:function(){this.showVpop=!1},toImportWallet:function(t){this.$refs.importWalletAcct.show(t,this.source)},done:function(){this.close(),this.$emit("done")},refreshAll:function(){this.close(),this.$emit("refreshAll")}}},U=K,Q=(s("4292"),Object(m["a"])(U,P,H,!1,null,null,null));Q.options.__file="import-type-select-pop.vue";var G=Q.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"large-van-cell-container"},[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"right"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("acct.acctInformation"),"left-arrow":""},on:{"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("pl-content-block",{attrs:{offsetTop:46}},[s("van-cell-group",{staticClass:"item-block margin-top",attrs:{border:!1}},[s("van-cell",{attrs:{title:t.$t("acct.acctName"),value:t.currentAccount.name,"is-link":""},nativeOn:{click:function(e){return t.openAcctNameDia(e)}}})],1),s("van-cell-group",{staticClass:"item-block margin-top",attrs:{border:!1}},[s("van-cell",{attrs:{title:t.$t("acct.modifyPwd"),"is-link":""},on:{click:t.toModifyPassword}}),s("van-cell",{attrs:{title:t.$t("acct.exportPrivateKey"),"is-link":""},on:{click:function(e){t.toCheckPassword("1")}}}),t.currentAccount.mnemonicCode?s("van-cell",{attrs:{title:t.$t("acct.exportMnemonicCode"),"is-link":""},on:{click:function(e){t.toCheckPassword("2")}}}):t._e()],1),s("pl-block",{staticClass:"margin-top item-block margin-bottom"},[s("div",{staticClass:"text-center qrcode-container"},[s("qrcode",{staticClass:"qrcode",attrs:{value:t.currentAccount.address,options:{size:200}}})],1),s("div",{staticClass:"addr text-center"},[s("pl-wallet-addr",{staticClass:"small-font text-primary",attrs:{complete:"",address:t.account.address}})],1)]),"0"!==t.delFlag?s("div",{staticClass:"single-btn margin-bottom margin-top"},[s("van-button",{attrs:{size:"large",round:"",type:"primary"},domProps:{textContent:t._s(t.$t("acct.deleteWallet"))},on:{click:function(e){t.toCheckPassword("3")}}})],1):t._e()],1),s("van-dialog",{attrs:{"show-cancel-button":"",title:t.$t("acct.modifyAcctName")},on:{confirm:t.confirmAcctName},model:{value:t.showAcctNameDialog,callback:function(e){t.showAcctNameDialog=e},expression:"showAcctNameDialog"}},[s("van-field",{attrs:{"input-align":"center",placeholder:t.$t("acct.acctNamePlaceholder")},model:{value:t.acctName,callback:function(e){t.acctName=e},expression:"acctName"}})],1)],1),s("modify-password",{ref:"modifyPassword"}),s("password-dialog",{ref:"pwdDialog",on:{done:t.done}}),s("export-secret",{ref:"exportSecret"}),s("backups-memorizing-words",{ref:"backupsMemorizing"})],1)},J=[],tt=(s("ff66"),s("ea23"),s("dbff"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{height:"100%",width:"100%"},attrs:{position:"right"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("acct.modifyPwd")},on:{"click-left":t.close,"click-right":t.save}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("span",{staticClass:"normal-font text-primary",attrs:{slot:"right"},domProps:{textContent:t._s(t.$t("common.save"))},slot:"right"})]),s("div",{staticClass:"item-block"},[s("van-cell-group",{attrs:{border:!1}},[s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password","data-vv-as":t.$t("acct.oldPwd"),name:"oldWalletPwd",placeholder:t.$t("acct.oldPwdPlaceholder")},model:{value:t.form.oldWalletPwd,callback:function(e){t.$set(t.form,"oldWalletPwd",e)},expression:"form.oldWalletPwd"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password","data-vv-as":t.$t("acct.newPwd"),name:"newWalletPwd",placeholder:t.$t("acct.newPwdPlaceholder")},model:{value:t.form.newWalletPwd,callback:function(e){t.$set(t.form,"newWalletPwd",e)},expression:"form.newWalletPwd"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{type:"password","data-vv-as":t.$t("acct.confirmPwd"),name:"confirmWalletPwd",placeholder:t.$t("acct.confirmPwdPlaceholder")},model:{value:t.form.confirmWalletPwd,callback:function(e){t.$set(t.form,"confirmWalletPwd",e)},expression:"form.confirmWalletPwd"}})],1)],1)],1)],1)}),et=[],st={data:function(){return{showPop:!1,form:{oldWalletPwd:"",newWalletPwd:"",confirmWalletPwd:""}}},methods:{close:function(){this.showPop=!1},show:function(){this.form.oldWalletPwd="",this.form.newWalletPwd="",this.form.confirmWalletPwd="",this.showPop=!0},save:function(){var t=this;this.form.newWalletPwd===this.form.confirmWalletPwd?this.form.oldWalletPwd?this.form.newWalletPwd?this.form.newWalletPwd.length<6?this.$toast(this.$t("wallet.passwordLimitTip")):this.$validator.validateAll().then(function(e){if(e){var s=t.$store.state.account;if(s){if(s.password!==R["a"].encryptMD5(t.form.oldWalletPwd))return void t.$toast(t.$t("acct.oldPwdErrorTip"));var a={address:t.$store.state.account.address};t.form.oldWalletPwd!==t.form.newWalletPwd&&(t.$collecitons.account.findAndUpdateAcct({identityId:t.$store.state.account.identityId},function(e){var s=R["a"].decryptAES(e.secret,t.form.oldWalletPwd),a=R["a"].encryptAES(s,t.form.newWalletPwd);if(e.mnemonicCode){var i=R["a"].decryptAES(e.mnemonicCode,t.form.oldWalletPwd),o=R["a"].encryptAES(i,t.form.newWalletPwd);e.mnemonicCode=o}return e.secret=a}),t.$collecitons.identity.findAndUpdateIdentity({id:t.$store.state.account.identityId},function(e){var s=R["a"].decryptAES(e.value,t.form.oldWalletPwd),a=R["a"].encryptAES(s,t.form.newWalletPwd);return e.value=a})),t.$collecitons.account.findAndUpdateAcct(a,function(e){var s=R["a"].encryptMD5(t.form.newWalletPwd);return e.password=s,t.$store.dispatch("setAccount",e),e.password=s}),t.close()}}else t.$toast(t.validateErrors.items[0].msg)}):this.$toast(this.$t("acct.newPwdPlaceholder")):this.$toast(this.$t("acct.oldPwdPlaceholder")):this.$toast(this.$t("common.confirmPwdTip"))}}},at=st,it=(s("101a"),Object(m["a"])(at,tt,et,!1,null,"59a1840c",null));it.options.__file="modify-password-pop.vue";var ot=it.exports,nt=s("b6cc"),rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[s("van-dialog",{staticStyle:{right:"5%",width:"90%"},attrs:{"close-on-click-overlay":!1,"show-cancel-button":!0,"confirm-button-text":t.$t("common.copy")},on:{confirm:t.copy,cancel:t.close},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[s("div",{staticClass:"copy-secret-container"},[s("div",{staticClass:"copy-secret-container__title text-center"},[s("van-row",[s("van-col",{attrs:{span:"24"}},[s("span",{staticStyle:{"font-weight":"bold"},domProps:{textContent:t._s(t.$t("acct.exportPrivateKey"))}})])],1)],1),s("div",{staticClass:"text-danger copy-secret-container__tip",domProps:{textContent:t._s(t.$t("acct.exportWarning"))}}),s("div",{staticClass:"copy-secret-container__content"},[t._v("\n        "+t._s(t.currentAccountSecret)+"\n      ")])])])],1)},ct=[],lt={data:function(){return{showDialog:!1,password:""}},computed:{currentAccountSecret:function(){return this.password?R["a"].decryptAES(this.$store.state.account.secret,this.password):""}},methods:{show:function(t){this.password=t,this.showDialog=!0},close:function(){this.showDialog=!1},copy:function(){var t=this;this.$copyText(this.currentAccountSecret).then(function(){t.$toast(t.$t("common.copySuccess"))},function(){t.$toast(t.$t("common.copyFail"))})}}},dt=lt,ut=(s("2371"),Object(m["a"])(dt,rt,ct,!1,null,"1d9b7002",null));ut.options.__file="export-secret-dialog.vue";var ht=ut.exports,pt=s("72d0"),ft=s("cee1"),mt=s("6119"),vt={components:{modifyPassword:ot,passwordDialog:nt["a"],exportSecret:ht,backupsMemorizingWords:pt["a"],qrcode:ft["a"]},data:function(){return{showPop:!1,account:{},acctName:"",showAcctNameDialog:!1,checkType:""}},computed:{currentAccount:function(){return this.$store.state.account},delFlag:function(){var t=this.$collecitons.identity.findById(this.account.identityId);if(t&&t.source===mt["a"].CREATED){var e=this.$collecitons.account.findByIdentityId(t.id);return e&&1===e.length?"0":"1"}return"2"}},methods:{show:function(t){this.account=t,this.acctName=t.name,this.showPop=!0},close:function(){this.showPop=!1},openAcctNameDia:function(){this.showAcctNameDialog=!0},confirmAcctName:function(){var t=this,e={address:this.account.address};this.$collecitons.account.findAndUpdateAcct(e,function(e){return e.name=t.acctName,t.$store.dispatch("setAccount",e),e.name=t.acctName})},toModifyPassword:function(){this.$refs.modifyPassword.show()},toCheckPassword:function(t){this.checkType=t,this.$refs.pwdDialog.show()},removeDataAndUpdateActions:function(t,e){var s=this,a=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular"});"1"===this.delFlag?this.$collecitons.account.findAndUpdateAcct(t,function(t){return t.state="D"}):this.$collecitons.account.findAndRemoveAcct(t),this.$collecitons.history.removeHistory(t),this.$collecitons.asset.removAssetByAddressAndName(t);var i={};i[this.account.address]="",this.$store.dispatch("setPasswordMap",i);var o=this.$collecitons.account.findAll();if(o&&o.length>0){var n=Object(r["a"])({},o[0],{setBalance:!1});this.$store.dispatch("setAccount",n),this.$emit("afterDelAcct")}else this.$collecitons.identity.deleteIdentityById(e);setTimeout(function(){a.clear(),s.close()},1e3)},delWallet:function(){var t=this;if(this.account){var e=this.currentAccount.identityId,s={address:this.account.address};"1"===this.delFlag?this.$dialog.confirm({title:this.$t("common.tip"),message:this.$t("acct.delAcctTip")}).then(function(){t.removeDataAndUpdateActions(s,e)}):this.removeDataAndUpdateActions(s,e)}else this.$toast(this.$t("acct.acctNotexist"))},done:function(t){this.currentAccount.password===R["a"].encryptMD5(t)?"1"===this.checkType?this.$refs.exportSecret.show(t):"2"===this.checkType?this.$refs.backupsMemorizing.show(R["a"].decryptAES(this.currentAccount.mnemonicCode,t),t,"backups"):"3"===this.checkType&&this.delWallet():this.$toast(this.$t("acct.pwdError"))}}},gt=vt,bt=(s("dd1c"),Object(m["a"])(gt,Z,J,!1,null,"b6722a62",null));bt.options.__file="acct-detail.vue";var yt=bt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-account-item"},[s("van-row",{staticClass:"wallet-title"},[s("van-col",{attrs:{span:"13"}},[s("div",{staticClass:"text-font-weight-bold"},[t._v(t._s(t.title))])]),t.optFalg?s("van-col",{staticClass:"text-right",attrs:{span:"11"},nativeOn:{click:function(e){return t.toEmitOpt(e)}}},[t.isImport?s("img",{staticStyle:{"vertical-align":"middle","margin-right":"8px"},attrs:{src:"static/img/account-add@3x.png",width:"20",height:"20"}}):s("img",{staticStyle:{"vertical-align":"middle","margin-right":"8px"},attrs:{src:"static/img/account-import@3x.png",width:"20",height:"20"}}),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.optText))])]):t._e()],1),s("div",{staticClass:"wallet-content-container"},t._l(t.accounts,function(e){return s("div",{key:e.address,staticClass:"wallet-content item-block",class:e.type+"-bg",on:{click:function(s){t.toSelectWallet(e)}}},[t._m(0,!0),s("div",{staticClass:"wallet-content-wrapper"},[s("div",{staticClass:"wallet-content-block"},[s("div",{staticClass:"text"},[s("div",[s("div",{staticClass:"text-ellipsis",staticStyle:{width:"180px"}},[s("span",{staticClass:"icon-container"},[s("img",{staticClass:"vertical-align-middle",attrs:{src:"static/img/"+t.shortType(e.type)+"-w.png"}})]),s("span",{staticClass:"big-font vertical-align-middle"},[t._v(t._s(e.name))])]),e.address==t.currentAccount.address?s("span",{staticClass:"more select vertical-align-middle"},[s("van-icon",{staticClass:"icon",class:e.type,attrs:{name:"success"}})],1):t._e()]),s("div",{staticClass:"normal-font addr-text"},[s("span",{staticClass:"vertical-align-middle small-font"},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{complete:!1,"show-copy":!1,address:e.address}}),s("span",{staticClass:"more",staticStyle:{"text-align":"right"},on:{click:function(s){t.toAcctDetail(e)}}},[s("i",{staticClass:"ultfont ult-ellipsis"})])],1)])])])])])}),0),s("acct-detail",{ref:"acctDetail"})],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg"},[s("img",{attrs:{src:"static/img/card-bg.png"}})])}],$t={components:{acctDetail:yt},props:{accounts:{type:Array,default:function(){return[]}},title:String,optText:String,optFalg:{type:Boolean,default:!0},isImport:{type:Boolean,default:!1}},data:function(){return{}},computed:{currentAccount:function(){return this.$store.state.account}},methods:{shortType:function(t){return c["a"][t].symbol||t},toEmitOpt:function(){this.$emit("opt")},toSelectWallet:function(t){this.$emit("selectWallet",t)},toAcctDetail:function(t){this.$emit("viewDetail",t)}}},Ct=$t,_t=(s("3e89"),s("a99e"),Object(m["a"])(Ct,wt,xt,!1,null,"130afac2",null));_t.options.__file="view-account-item.vue";var kt=_t.exports,At={components:{accountTypeSelect:T["a"],walletTypeSelect:G,viewAccountItem:kt,acctDetail:yt},data:function(){return{showVpop:!1,importAccounts:[],createAccounts:[]}},methods:{show:function(){this.updateCurrentAcct(),this.updateImportAcct(),this.showVpop=!0},close:function(){this.showVpop=!1},selectWallet:function(t){this.$emit("selectWallet",t)},addWalletAcct:function(){this.$refs.accountTypeSelect.show(mt["a"].ADD)},importWalletAcct:function(){this.$refs.walletTypeSelect.show(mt["a"].IMPORT)},toAcctDetail:function(t){this.$refs.acctDetail.show(t)},afterDelAcct:function(){this.$emit("afterDelAcct")},refreshAccts:function(){this.updateCurrentAcct(),this.updateImportAcct()},updateCurrentAcct:function(){var t=this.$collecitons.identity.findBySource(mt["a"].CREATED);t&&t.length>0&&(this.createAccounts=this.$collecitons.account.findByIdentityId(t[0].id)),this.$emit("updateAcct")},updateImportAcct:function(){var t=this;this.importAccounts=[];var e=this.$collecitons.identity.findBySource(mt["a"].IMPORT);e&&e.length>0&&e.forEach(function(e){var s;(s=t.importAccounts).push.apply(s,Object(S["a"])(t.$collecitons.account.findByIdentityId(e.id)))}),this.$emit("updateAcct")}}},St=At,Tt=(s("8a60"),Object(m["a"])(St,k,A,!1,null,"5d606b7d",null));Tt.options.__file="view-accounts-pop.vue";var Pt=Tt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%",overflow:"hidden"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{on:{"click-left":t.close,"click-right":t.toScan}},[s("div",{attrs:{slot:"title"},slot:"title"},[t.asset.name?s("div",[s("div",{staticStyle:{"line-height":"30px"}},[t._v(t._s(t.asset.code))]),"unknown"!==t.asset.name?s("div",{staticClass:"text-muted small-font",staticStyle:{"line-height":"15px","margin-top":"-4px"}},[t._v(" ("+t._s(t.asset.name)+")")]):s("div",{staticStyle:{"line-height":"15px","margin-top":"-4px"}},[s("pl-wallet-addr",{staticClass:"small-font text-muted",attrs:{complete:!1,address:t.asset.issuer,"show-copy":!1}})],1)]):s("div",[t._v("\n        "+t._s(t.asset.code)+"\n      ")])]),s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("span",{attrs:{slot:"right"},slot:"right"},[s("i",{staticClass:"ultfont ult-scan"})])]),s("pl-content-block",{ref:"contentBlock",attrs:{offsetTop:46,offsetBottom:45}},[s("pull-refresh",{ref:"pullRefresh",staticStyle:{"min-height":"100%"},attrs:{"animation-duration":t.animationDuration},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[s("pl-content-block",{staticStyle:{"overflow-y":"hidden"},attrs:{offsetTop:46,offsetBottom:45,heightType:"minHeight"}},[s("div",{staticClass:"asset-blc text-center item-block"},[t.asset.logo?s("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.asset.logo}}):"XRP"===t.asset.code?s("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:"static/img/"+t.asset.code+"-1@3x.png"}}):s("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:"static/img/"+t.asset.code+"@3x.png",onerror:"this.src='static/img/unknown.png'"}}),s("p",{staticClass:"x-x-large-font text-main",staticStyle:{"line-height":"45px"}},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.balance,"","8"))))]),t.isShowMarket(t.balance,t.asset.code,t.asset.issuer)?s("p",{staticClass:"small-font text-primary",staticStyle:{"line-height":"20px"}},[t._v("≈ "+t._s(t._f("market")(t.balance,t.asset.code,t.asset.issuer)))]):t._e()]),t.showPop?s("tx-history",{ref:"rxHistory",staticClass:"margin-top",attrs:{asset:t.asset},on:{showDetail:t.showDetail,addAddress:t.addAddress}}):t._e()],1)],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[t.isStellar?s("van-row",{staticClass:"van-hairline--top"},[s("van-col",{attrs:{span:"8"}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",type:"default"},domProps:{textContent:t._s(t.$t("common.receivables"))},nativeOn:{click:function(e){return t.receiveAsset(e)}}})],1),s("van-col",{attrs:{span:"8"}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",type:"gray"},domProps:{textContent:t._s(t.$t("common.exchange"))},nativeOn:{click:function(e){return t.exchange(e)}}})],1),s("van-col",{attrs:{span:"8"}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",type:"primary"},domProps:{textContent:t._s(t.$t("common.transferAccounts"))},nativeOn:{click:function(e){return t.transfer(e)}}})],1)],1):s("van-row",{staticClass:"van-hairline--top"},[s("van-col",{attrs:{span:"12"}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",type:"default"},domProps:{textContent:t._s(t.$t("common.receivables"))},nativeOn:{click:function(e){return t.receiveAsset(e)}}})],1),s("van-col",{attrs:{span:"12"}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",type:"primary"},domProps:{textContent:t._s(t.$t("common.transferAccounts"))},nativeOn:{click:function(e){return t.transfer(e)}}})],1)],1)],1),s("receive-asset",{ref:"receiveAsset",attrs:{"short-code":t.asset.code,"nav-title":t.reNavTitle,"can-change-asset":!1},on:{scanQrcode:t.toScan}}),s("send-transaction",{ref:"sendTransaction",on:{done:t.onRefresh}}),s("tx-detail",{ref:"txDetail"}),s("address-add",{ref:"addressAdd"}),s("stellar-exchange",{ref:"stellarExchange"})],1)},Dt=[],Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"receive-container",attrs:{overlay:!1,"overlay-style":{background:"rgba(39, 51, 50, 0.9)"}},nativeOn:{click:function(e){return e.target!==e.currentTarget?null:t.closePopup(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("van-nav-bar",{staticClass:"no-border",staticStyle:{background:"transparent",color:"#fff",border:"none"},attrs:{title:t.barTitle},on:{"click-left":t.closePopup,"click-right":t.toScan}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("span",{attrs:{slot:"right"},slot:"right"},[s("i",{staticClass:"ultfont ult-scan"})])]),s("div",{staticClass:"card"},[s("div",{staticClass:"header text-center",class:t.$store.state.account.type+"-bg"},[s("p",{staticClass:"big-font"},[t._v(t._s(t.$store.state.account.name))]),s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.address}})],1),s("div",{staticClass:"qrcode-container text-center"},[s("div",{staticClass:"small-font",staticStyle:{padding:"15px 0 10px"}},[t._v(t._s(t.$t("scan.scanQrCode"))),s("b",{staticClass:"normal-font text-primary"},[t._v(" "+t._s(t.assetCode))])]),t.transferAmt?s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(t.transferAmt)+"  "+t._s(t.shortCode))]):t._e(),s("qrcode",{staticClass:"qrcode",attrs:{value:t.qrCodeText,options:{size:200}},nativeOn:{click:function(e){return t.toCopyAddress(e)}}}),s("p",{staticClass:"small-font",domProps:{textContent:t._s(t.$t("scan.copyQrCodeAddress"))}})],1),s("div",{staticClass:"footer van-hairline--top"},[s("van-row",[s("van-col",{staticClass:"text-center padding text-primary",attrs:{span:24},nativeOn:{click:function(e){return t.toSetAmt(e)}}},[t._v(t._s(t.$t("common.setAmt")))])],1)],1)]),t.canChangeAsset?t._e():s("div",{staticClass:"share text-center text-primary",on:{click:function(e){t.showShareActions=!0}}},[t._v(t._s(t.$t("scan.shareReceiptCode")))]),s("van-actionsheet",{attrs:{overlay:!0,"cancel-text":t.$t("common.cancelText"),actions:t.shareActions},on:{select:t.onShare},model:{value:t.showShareActions,callback:function(e){t.showShareActions=e},expression:"showShareActions"}}),s("set-amount",{ref:"setAmount",on:{done:t.setAmt}})],1)},Et=[],Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"popup-wapper",staticStyle:{height:"100%",width:"100%"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("assets.setReceivablesAmt")},on:{"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("div",{staticClass:"b-white padding set-amount border-radius"},[s("div",{staticClass:"title",domProps:{textContent:t._s(t.$t("scan.transferAmt"))}}),s("van-field",{ref:"amountInput",staticClass:"large-font text-primary",staticStyle:{"padding-left":"20px"},attrs:{type:"number",placeholder:t.$t("scan.transferAmtPlaceholder")},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[s("span",{staticClass:"text-main large-font",attrs:{slot:"icon"},slot:"icon"},[t._v(t._s(t.coinType))])]),s("div",{staticClass:"btn"},[s("van-button",{attrs:{size:"large",round:"",type:"primary"},domProps:{textContent:t._s(t.$t("common.sure"))},on:{click:function(e){t.sure()}}})],1)],1),s("van-number-keyboard",{attrs:{show:t.showKeyboard,theme:"custom","extra-key":".","close-button-text":t.$t("common.complete")},on:{close:t.closeKeyboard,input:t.onInput,delete:t.onDelete}})],1)},It=[],Ft={data:function(){return{showPop:!1,showKeyboard:!1,amount:"",coinType:""}},methods:{show:function(t){var e=this;this.amount="",this.coinType=t,this.showPop=!0,this.$nextTick(function(){e.$refs["amountInput"].$refs["input"].focus()})},close:function(){this.showPop=!1},inputFocus:function(){this.showKeyboard=!0},inputBlur:function(){this.showKeyboard=!1},onInput:function(t){this.amount+=t},closeKeyboard:function(){this.showKeyboard=!1},onDelete:function(){this.amount=this.amount.slice(0,this.amount.length-1)},sure:function(){var t=this,e=/^[0-9]+.?[0-9]*$/;this.amount&&!e.test(this.amount)?this.$toast(this.$t("scan.inputIllegal")):setTimeout(function(){t.$emit("done",t.amount),t.close()},300)}}},Nt=Ft,Vt=(s("6ac0"),Object(m["a"])(Nt,Ot,It,!1,null,"a1f3b050",null));Vt.options.__file="set-amount.vue";var Bt=Vt.exports,Rt={props:{canChangeAsset:{type:Boolean,default:!0},navTitle:{type:String,default:function(){return""}},shortCode:{type:String,default:""}},data:function(){return{show:!1,assetCode:"",transferAmt:"",showShareActions:!1}},components:{qrcode:ft["a"],setAmount:Bt},computed:{shareActions:function(){return[{name:this.$t("scan.shareWeiXin"),action:"wechat"},{name:this.$t("scan.shareQQ"),action:"QQ"}]},address:function(){return this.$store.state.account&&this.$store.state.account.address?this.$store.state.account.address:""},qrCodeText:function(){return this.transferAmt&&""!==this.transferAmt?(console.info("address=".concat(this.address,"&transferAmt=").concat(this.transferAmt)),"address=".concat(this.address,"&transferAmt=").concat(this.transferAmt)):this.address},barTitle:function(){return this.shortCode+" "+this.$t("common.receivables")}},methods:{showPopup:function(t){this.transferAmt="",this.assetCode=t,this.show=!0},toScan:function(){this.$emit("scanQrcode")},closePopup:function(){this.show=!1},toCopyAddress:function(){var t=this;this.$copyText(this.address).then(function(){t.$toast(t.$t("common.copySuccess"))},function(){t.$toast(t.$t("common.copyFail"))})},toSetAmt:function(){this.$refs.setAmount.show(this.shortCode)},setAmt:function(t){this.transferAmt=t},onShare:function(t){var e=this;this.showShareActions=!1;var s=this,a={text:s.address};if(window.sharesdk)switch(t.action){case"wechat":window.sharesdk.isInstallClient.promise(window.ShareSDK.ClientType.Wechat).then(function(t){t?window.sharesdk.share(window.ShareSDK.PlatformType.WechatSession,window.ShareSDK.ShareType.Text,a,function(t){console.log("分享成功："+t)},function(t){t.state!=window.ShareSDK.ResponseState.Cancel&&e.$toast("分享失败："+t.error)}):e.$toast(e.$t("scan.shareWeiXinFail"))});break;case"QQ":window.sharesdk.isInstallClient.promise(window.ShareSDK.ClientType.QQ).then(function(t){t?window.sharesdk.share(window.ShareSDK.PlatformType.QQFriend,window.ShareSDK.ShareType.Text,a,function(t){console.log("分享成功："+t)},function(t){t.state!=window.ShareSDK.ResponseState.Cancel&&e.$toast("分享失败："+t.error)}):e.$toast(e.$t("scan.shareQQFail"))});break;default:break}else this.$toast(this.$t("scan.equipmentType"))}}},Lt=Rt,jt=(s("f6df"),Object(m["a"])(Lt,Mt,Et,!1,null,"8927b7b8",null));jt.options.__file="receive-asset.vue";var Wt=jt.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("div",{staticClass:"transfer-container",staticStyle:{width:"100%"}},[s("van-nav-bar",{attrs:{title:t.asset.code+"转账"},on:{"click-left":function(e){t.close()}}},[s("div",{attrs:{slot:"title"},slot:"title"},[t.asset.name?s("div",[s("div",{staticStyle:{"line-height":"30px"}},[t._v(t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts")))]),s("div",{staticClass:"text-muted small-font",staticStyle:{"line-height":"15px"}},[t._v(" ("+t._s(t.asset.name)+")")])]):s("div",[t._v("\n        "+t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts"))+"\n      ")])]),s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("span",{attrs:{slot:"right"},slot:"right"},[s("i",{staticClass:"ultfont ult-scan",on:{click:t.toScan}})])])],1),s(t.sendType,{ref:"component",tag:"component",attrs:{asset:t.asset,"transfer-amt":t.transferAmt,address:t.address},on:{done:t.done}})],1)},Yt=[],Xt=s("7d86"),qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"transfer-container",staticStyle:{width:"100%"}},[s("pl-content-block",{attrs:{offsetTop:46,offsetBottom:45}},[s("div",{staticClass:"item-block",staticStyle:{"padding-bottom":"0"}},[s("pl-block",[s("div",{staticClass:"normal-font",staticStyle:{padding:"0 0 10px"}},[t._v("\n        "+t._s(t.asset.code)+"\n        "),s("span",{staticClass:"small-font pull-right"},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("transaction.balance"))+" ")]),s("span",{staticClass:"text-primary"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.balance,"","7")))+" "+t._s(t.asset.code))])])])]),s("van-field",{staticClass:"x-large-font",attrs:{type:"number",name:"amt",placeholder:t.$t("transaction.amtPlaceholder")},model:{value:t.form.amt,callback:function(e){t.$set(t.form,"amt",e)},expression:"form.amt"}},[s("span",{staticClass:"small-font",attrs:{slot:"button"},slot:"button"},[t._v("≈ "+t._s(t._f("market")(t.form.amt,t.asset.code,t.asset.issuer)))])])],1)],1),s("receive-address",{staticClass:"item-block",attrs:{accountType:t.ethereum},model:{value:t.form.receiveAddress,callback:function(e){t.$set(t.form,"receiveAddress",e)},expression:"form.receiveAddress"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("address.invalidAddressTip"))}})]),s("div",{staticClass:"item-block"},[s("pl-block",[s("div",{staticStyle:{padding:"0 0 10px",overflow:"hidden"}},[s("div",{staticClass:"pull-left normal-font"},[t._v(t._s(t.$t("transaction.minerFee")))]),s("div",{staticClass:"pull-right"},[s("span",{staticClass:"small-font"},[t._v(t._s(t.fee)+" ether ≈ "+t._s(t._f("cutTail")(t._f("currency")(t._f("market")(t.fee,t.ETH,""),"","7")))+" "+t._s(t.$store.state.setting.currencyUnit))])])]),s("div",{staticClass:"slider"},[s("van-slider",{attrs:{"bar-height":"4px"},on:{change:function(e){t.calcGas()}},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),s("van-row",{staticClass:"small-font",staticStyle:{"padding-bottom":"20px"}},[s("van-col",{attrs:{span:"8"},domProps:{textContent:t._s(t.$t("transaction.slow"))}}),s("van-col",{staticClass:"text-center text-muted",attrs:{span:"8"}},[t._v(t._s(t.form.gasPrice)+" gwei")]),s("van-col",{staticClass:"text-right",attrs:{span:"8"},domProps:{textContent:t._s(t.$t("transaction.fast"))}})],1)],1)],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:!t.form.amt||!t.form.receiveAddress,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:t.firstStep}})],1)],1),s("van-actionsheet",{attrs:{"close-on-click-overlay":!1},model:{value:t.showFirstStep,callback:function(e){t.showFirstStep=e},expression:"showFirstStep"}},[s("div",{staticClass:"transfer-sub-warpper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSecondStep,expression:"!showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("transaction.confirmTransferAcctMsg")},on:{"click-left":function(e){t.showFirstStep=!1}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("van-icon",{attrs:{name:"close"}})],1)]),s("div",[s("div",{staticClass:"text-center x-x-large-font",staticStyle:{padding:"20px 0px"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(t.form.amt,"","7")))+" "),s("small",[t._v(t._s(t.asset.code))])]),s("van-cell-group",[s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.transferAcctType"))},slot:"title"}),t._v("\n              "+t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts"))+"\n            ")]),s("van-cell",{attrs:{title:t.$t("common.receivablesAddress")}},[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.receivablesAddress"))},slot:"title"}),s("div",[t._v(t._s(t.form.receiveAddress))])]),s("van-cell",{attrs:{title:t.$t("common.paymentAddress")}},[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.paymentAddress"))},slot:"title"}),s("div",[t._v(t._s(t.$store.state.account.address))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.minerFee"))},slot:"title"}),s("div",[t._v("\n                "+t._s(t._f("cutTail")(t._f("currency")(t.fee,"","7")))+" ether\n                "),s("br"),s("span",{staticClass:"text-muted small-font"},[t._v("= Gas("+t._s(t.form.gasLimit)+") * Gas Price("+t._s(t.form.gasPrice)+" gwei)")])])])],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:function(e){t.secondStep()}}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSecondStep,expression:"showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("common.inputPwd"),"left-arrow":""},on:{"click-left":function(e){t.showSecondStep=!1}}}),s("van-cell-group",[s("van-field",{directives:[{name:"show",rawName:"v-show",value:!t.displayPassword,expression:"!displayPassword"}],ref:"password",attrs:{type:"password",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-not-view"},on:{"click-icon":function(e){t.displayPassword=!0}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),s("van-field",{directives:[{name:"show",rawName:"v-show",value:t.displayPassword,expression:"displayPassword"}],ref:"visualPassword",attrs:{type:"text",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-view"},on:{"click-icon":function(e){t.displayPassword=!1}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:!t.form.password,type:"primary"},domProps:{textContent:t._s(t.$t("transaction.submit"))},on:{click:t.submit}})],1)],1)])])],1)},Kt=[],Ut=(s("b5aa"),s("4a1a")),Qt=(s("8383"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("pl-block",[s("div",{staticClass:"normal-font",staticStyle:{padding:"0 0 10px"}},[t._v("\n      "+t._s(t.$t("common.receivablesAddress"))+"\n    ")]),s("van-field",{attrs:{placeholder:t.$t("common.receivablesAddressPlaceholder"),clearable:"",type:"textarea",rows:"1",autosize:"",name:"receiveAddress"},model:{value:t.receiveAddress,callback:function(e){t.receiveAddress=e},expression:"receiveAddress"}},[s("span",{attrs:{slot:"icon"},slot:"icon"},[s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:t.dprImg("book.png")},on:{click:t.toSelectAddress}})])]),t._t("default")],2),s("address-list",{ref:"addressList",on:{done:t.setReceiveAddress}})],1)}),Gt=[],Zt=s("aca4"),Jt={components:{addressList:Zt["a"]},props:{value:String,accountType:String},watch:{value:function(t){t!==this.receiveAddress&&(this.receiveAddress=t)},receiveAddress:function(t){this.$emit("input",t)}},data:function(){return{receiveAddress:this.value}},methods:{toSelectAddress:function(){this.$refs.addressList.show("2",this.accountType)},setReceiveAddress:function(t){this.receiveAddress=t.value,this.$emit("input",t.value),this.$emit("change",t)}}},te=Jt,ee=(s("e4b7"),Object(m["a"])(te,Qt,Gt,!1,null,null,null));ee.options.__file="receive-address.vue";var se=ee.exports,ae=s("ba8f"),ie=s.n(ae),oe={components:{receiveAddress:se},props:{asset:{type:Object,default:function(){return{}}},address:String,transferAmt:String},data:function(){return{showFirstStep:!1,showSecondStep:!1,displayPassword:!1,form:{amt:"",receiveAddress:"",remark:"",gasLimit:6e4,gasPrice:"5",password:""},minGasPrice:5,rate:0,loading:!1,addressValid:!0,ethereum:l["a"].ethereum,ETH:l["b"].ETH}},watch:{"form.receiveAddress":function(){if(this.form.receiveAddress){if(!this.$wallet.isValidAddress(this.form.receiveAddress))return void(this.addressValid=!1);this.addressValid=!0}else this.addressValid=!0},displayPassword:function(){var t=this;this.showSecondStep&&(this.displayPassword?this.$nextTick(function(){t.$refs["visualPassword"].$refs["input"].focus()}):this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()}))}},computed:{fee:function(){if(this.$wallet&&this.$wallet.getInstance()){var t=new y.a(this.form.gasPrice).times("1000000000").times(this.form.gasLimit).toFixed(0);return this.$wallet.getInstance().utils.fromWei(t,"ether")}return 0},balance:function(){return this.getBalance(this.asset.code,this.asset.issuer).value},errMsg:function(){return{"intrinsic gas too low":"gas "+this.$t("transaction.gasTooLow"),"insufficient funds for gas * price + value":this.$t("transaction.insufficientFundsGasAndValue")}}},created:function(){this.init()},methods:{init:function(){var t=this;this.showFirstStep=!1,this.showSecondStep=!1,this.displayPassword=!1,this.form={amt:"",receiveAddress:"",remark:"",gasLimit:6e4,gasPrice:"5",password:""},this.address&&""!==this.address&&(this.form.receiveAddress=this.address),this.transferAmt&&""!==this.transferAmt&&(this.form.amt=Number(this.transferAmt)),this.$wallet.getGasPriceForGwei().then(function(e){t.minGasPrice=Math.round(new Number(e)),t.form.gasPrice=t.minGasPrice+""})},firstStep:function(){var t=new y.a(this.form.amt);t.lte(0)?this.$toast(this.$t("transaction.amountGreaterThanZero")):t.gt(this.balance)?this.$toast(this.$t("transaction.balanceTooLowTip")):this.$wallet.isValidAddress(this.form.receiveAddress)?this.showFirstStep=!0:this.$toast(this.$t("address.invalidAddressTip"))},secondStep:function(){var t=this;this.showSecondStep=!0,this.form.password="",this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()})},getErrMsg:function(t){var e=this.$t("common.transactionFail");if(t&&t.message){var s=t.message.replace("Returned error: ","");return this.errMsg[s]?this.errMsg[s]:e}return e},submit:function(){var t=this,e=R["a"].encryptMD5(this.form.password);if(e===this.$store.state.account.password){var s;this.$store.state.account.type===this.ethereum&&(s={assetCode:this.asset.code,gasLimit:this.form.gasLimit,gasPrice:this.$wallet.getInstance().utils.toWei(this.form.gasPrice,"gwei")});var a=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("transaction.inTransactionMessage")});this.$wallet.sendTransaction(R["a"].decryptAES(this.$store.state.account.secret,this.form.password),this.form.receiveAddress,this.form.amt,s).then(function(e){console.info(e),t.setTempHistory(e,t.form.receiveAddress,t.form.amt,s,function(){a.message=t.$t("transaction.transactionBroadcastSuccess"),setTimeout(function(){a.clear(),t.$emit("done")},1e3)})}).catch(function(e){console.info(e),t.$toast(t.getErrMsg(e)),setTimeout(function(){a.clear()},2e3)})}else this.$toast(this.$t("transaction.walletPwdError"))},setTempHistory:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e,s,a,i,o){var n,r,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(){var i,l,d,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.$wallet.getTransaction(e);case 2:if(i=t.sent,n++,console.info("tx(".concat(n,"):"),i),i){t.next=11;break}if(20!==n){t.next=9;break}return o(),t.abrupt("return");case 9:return setTimeout(r,2e3),t.abrupt("return");case 11:l=c.$store.state.account,d="0",i.gas&&i.gasPrice&&(d=new y.a(i.gas).times(i.gasPrice).toFixed()),u={address:l.address,acctType:l.type,assetCode:c.asset.code,assetIssuer:c.asset.issuer,txHash:i.hash,amount:a,blockNumber:i.blockNumber,to:s,from:i.from,fee:c.$wallet.getInstance().utils.fromWei(d,"ether"),txType:"0",txTime:(new ie.a).format("YYYYMMDD HH:mm:ss"),data:i,confirmations:0},c.$collecitons.tempHistory.insertHistory(u),o();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r();case 3:case"end":return t.stop()}},t,this)}));function e(e,s,a,i,o){return t.apply(this,arguments)}return e}(),calcGas:function(){var t=new y.a(this.minGasPrice),e=new y.a(30);this.form.gasPrice=e.minus(t).div(100).times(this.rate).plus(t).toFixed(2)}}},ne=oe,re=(s("9c0f"),Object(m["a"])(ne,qt,Kt,!1,null,null,null));re.options.__file="send-ethereum.vue";var ce=re.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"transfer-container",staticStyle:{width:"100%"}},[s("pl-content-block",{attrs:{offsetTop:46,offsetBottom:45}},[s("div",{staticClass:"item-block",staticStyle:{"padding-bottom":"0"}},[s("pl-block",[s("div",{staticClass:"normal-font",staticStyle:{padding:"0 0 10px"}},[t._v("\n          "+t._s(t.asset.code)+"\n          "),s("span",{staticClass:"small-font pull-right"},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("transaction.balance"))+" ")]),s("span",{staticClass:"text-primary"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.balance,"","7")))+" "+t._s(t.asset.code))])])])]),s("van-field",{staticClass:"x-large-font",attrs:{type:"number",name:"amt",placeholder:t.$t("transaction.amtPlaceholder")},model:{value:t.form.amt,callback:function(e){t.$set(t.form,"amt",e)},expression:"form.amt"}},[s("span",{staticClass:"small-font",attrs:{slot:"button"},slot:"button"},[t._v("≈ "+t._s(t._f("market")(t.form.amt,t.asset.code,t.asset.issuer)))])])],1)],1),s("receive-address",{staticClass:"item-block",attrs:{accountType:t.stellar},on:{change:t.changeReceiveAddress},model:{value:t.form.receiveAddress,callback:function(e){t.$set(t.form,"receiveAddress",e)},expression:"form.receiveAddress"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("address.invalidAddressTip"))}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressActivated,expression:"!addressActivated"}],staticClass:"text-info",domProps:{textContent:t._s(t.$t("transaction.stellarUnActivationAddressMsg"))}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.trustAsset,expression:"!trustAsset"}],staticClass:"text-danger",domProps:{innerHTML:t._s(t.$t("transaction.notTrustAssetMsg",{code:t.asset.code}))}})]),s("div",{staticClass:"item-block"},[s("pl-block",[s("div",{staticStyle:{padding:"0 0 10px"}},[s("div",{staticClass:"pull-left normal-font"},[t._v("Memo")]),s("div",{staticClass:"pull-right"},t._l(t.memoTypes,function(e,a){return s("span",{key:a,staticClass:"memo-type",class:{active:t.form.memoType===e.value,disabled:!t.canSelectMemoType},on:{click:function(s){t.selectMemo(e.value)}}},[t.form.memoType===e.value?s("span",{staticClass:"icon text-success"},[s("van-icon",{staticStyle:{"vertical-align":"middle"},attrs:{name:"certificate"}})],1):t._e(),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.text))])])}),0)]),s("van-field",{attrs:{placeholder:t.$t("transaction.inputMemoPlaceholder"),clearable:""},model:{value:t.form.memo,callback:function(e){t.$set(t.form,"memo",e)},expression:"form.memo"}}),s("small",{directives:[{name:"show",rawName:"v-show",value:t.isNeedMemo&&!t.form.memo,expression:"isNeedMemo && !form.memo"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("transaction.stellarNeedMemo"))}}),s("small",{directives:[{name:"show",rawName:"v-show",value:t.isValidMemo,expression:"isValidMemo"}],staticClass:"text-danger"},[t._v(t._s(t.isValidMemo))])],1)],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:t.firstBthDisabled,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:t.firstStep}})],1)],1),s("van-actionsheet",{attrs:{"close-on-click-overlay":!1},model:{value:t.showFirstStep,callback:function(e){t.showFirstStep=e},expression:"showFirstStep"}},[s("div",{staticClass:"transfer-sub-warpper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSecondStep,expression:"!showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("transaction.confirmTransferAcctMsg")},on:{"click-left":function(e){t.showFirstStep=!1}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("van-icon",{attrs:{name:"close"}})],1)]),s("div",[s("div",{staticClass:"text-center x-x-large-font",staticStyle:{padding:"20px 0px"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(t.form.amt,"","7")))+" "),s("small",[t._v(t._s(t.asset.code))])]),s("van-cell-group",[s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.transferAcctType"))},slot:"title"}),t._v("\n              "+t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts"))+"\n            ")]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.receivablesAddress"))},slot:"title"}),s("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.form.receiveAddress))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.paymentAddress"))},slot:"title"}),s("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$store.state.account.address))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},slot:"title"},[t._v("memo_"+t._s(t.form.memoType))]),s("div",[t._v(t._s(t.form.memo))])])],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:function(e){t.secondStep()}}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSecondStep,expression:"showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("common.inputPwd"),"left-arrow":""},on:{"click-left":function(e){t.showSecondStep=!1}}}),s("van-cell-group",[s("van-field",{directives:[{name:"show",rawName:"v-show",value:!t.displayPassword,expression:"!displayPassword"}],ref:"password",attrs:{type:"password",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-not-view"},on:{"click-icon":function(e){t.displayPassword=!0}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),s("van-field",{directives:[{name:"show",rawName:"v-show",value:t.displayPassword,expression:"displayPassword"}],ref:"visualPassword",attrs:{type:"text",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-view"},on:{"click-icon":function(e){t.displayPassword=!1}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:!t.form.password,type:"primary"},domProps:{textContent:t._s(t.$t("transaction.submit"))},on:{click:t.submit}})],1)],1)])])],1)},de=[],ue=s("40ec"),he=s.n(ue),pe={components:{receiveAddress:se},props:{asset:{type:Object,default:function(){return{}}},address:String,transferAmt:String},data:function(){return{showFirstStep:!1,showSecondStep:!1,displayPassword:!1,isNeedMemo:!1,canSelectMemoType:!0,form:{amt:"",receiveAddress:"",memo:"",memoType:he.a.MemoText,remark:"",password:""},loading:!1,addressValid:!0,addressActivated:!0,trustAsset:!0,memoTypes:[{text:"ID",value:he.a.MemoID},{text:"Text",value:he.a.MemoText},{text:"Hash",value:he.a.MemoHash}],stellar:l["a"].stellar}},watch:{"form.receiveAddress":function(){var t=this;if(this.form.receiveAddress){if(!this.$wallet.isValidAddress(this.form.receiveAddress))return this.addressValid=!1,this.addressActivated=!0,void(this.trustAsset=!0);this.addressValid=!0,this.$wallet.isActivated(this.form.receiveAddress).then(function(e){t.addressActivated=e,t.addressActivated?t.$wallet.isTrustAsset(t.form.receiveAddress,t.asset.code,t.asset.issuer).then(function(e){t.trustAsset=e}):t.trustAsset=!0});var e=this.$wallet.isTradingPlatformAddress(this.form.receiveAddress);e?(e["memo_type"]&&(this.form.memoType=e["memo_type"]),this.isNeedMemo=!0,this.canSelectMemoType=!1):(this.isNeedMemo=!1,this.canSelectMemoType=!0)}else this.addressValid=!0,this.addressActivated=!0,this.isNeedMemo=!1,this.canSelectMemoType=!0,this.trustAsset=!0},displayPassword:function(){var t=this;this.showSecondStep&&(this.displayPassword?this.$nextTick(function(){t.$refs["visualPassword"].$refs["input"].focus()}):this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()}))}},computed:{balance:function(){var t=this.getBalance(this.asset.code,this.asset.issuer).value,e=this.getBalance(this.asset.code,this.asset.issuer).frozenNative;return e&&e<=t&&(t-=e),t},isValidMemo:function(){if(this.form.memo){var t=this.$wallet.isValidMemo(this.form.memoType,this.form.memo);return t?(console.log(t),this.memoErrMsg[this.form.memoType]):""}return""},firstBthDisabled:function(){return!(this.form.amt&&this.form.receiveAddress&&this.addressValid&&this.trustAsset)||(!(!this.asset.issuer||this.addressActivated)||!(!this.isNeedMemo||this.form.memo))},errMsg:function(){return{op_underfunded:this.$t("transaction.tecUnfundedPayment"),op_low_reserve:this.$t("transaction.opLowReserve")}},memoErrMsg:function(){var t;return t={},Object(Xt["a"])(t,he.a.MemoID,this.$t("transaction.memoExpectsNum")),Object(Xt["a"])(t,he.a.MemoText,this.$t("transaction.memoExpectsMax28Byte")),Object(Xt["a"])(t,he.a.MemoHash,this.$t("transaction.memoExpects32Byte")),t}},created:function(){},methods:{init:function(){this.showFirstStep=!1,this.showSecondStep=!1,this.displayPassword=!1,this.isNeedMemo=!1,this.canSelectMemoType=!0,this.form={amt:"",receiveAddress:"",memo:"",memoType:he.a.MemoText,remark:"",password:""},this.address&&""!==this.address&&(this.form.receiveAddress=this.address),this.transferAmt&&""!==this.transferAmt&&(this.form.amt=Number(this.transferAmt))},selectMemo:function(t){this.canSelectMemoType&&t!==this.form.memoType&&(this.form.memoType=t,this.form.memo="")},changeReceiveAddress:function(t){this.form.memoType=t.labelType,this.form.memo=t.labelValue},firstStep:function(){var t=new y.a(this.form.amt);t.lte(0)?this.$toast(this.$t("transaction.amountGreaterThanZero")):t.gt(this.balance)?this.$toast(this.$t("transaction.balanceTooLowTip")):this.addressActivated||!t.lt("1")?this.$wallet.isValidAddress(this.form.receiveAddress)?!this.isNeedMemo||this.form.memo?this.showFirstStep=!0:this.$toast(this.$t("transaction.requiredMemo")):this.$toast(this.$t("address.invalidAddressTip")):this.$toast(this.$t("transaction.stellarUnActivationAddressTip"))},secondStep:function(){var t=this;this.showSecondStep=!0,this.form.password="",this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()})},getErrMsg:function(t){var e=this.$t("common.transactionFail");if(t&&t.response&&t.response.data&&t.response.data.extras&&t.response.data.extras.result_codes){var s=t.response.data.extras.result_codes;return this.errMsg[s.operations[0]]?this.errMsg[s.operations[0]]:e}return e},submit:function(){var t=this,e=R["a"].encryptMD5(this.form.password);if(e===this.$store.state.account.password){var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("transaction.inTransactionMessage")}),a={memo:this.form.memo,memoType:this.form.memoType};this.asset&&this.asset.code&&this.asset.issuer&&(a.assetCode=this.asset.code,a.assetIssuer=this.asset.issuer),this.$wallet.sendTransaction(R["a"].decryptAES(this.$store.state.account.secret,this.form.password),this.form.receiveAddress,this.form.amt,a).then(function(e){console.info(e),s.message=t.$t("transaction.transactionBroadcastSuccess"),setTimeout(function(){s.clear(),t.$emit("done")},1e3)}).catch(function(e){console.error(e),t.$toast(t.getErrMsg(e)),setTimeout(function(){s.clear()},2e3)})}else this.$toast(this.$t("transaction.walletPwdError"))}}},fe=pe,me=(s("a5a5"),Object(m["a"])(fe,le,de,!1,null,null,null));me.options.__file="send-stellar.vue";var ve=me.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"transfer-container",staticStyle:{width:"100%"}},[s("pl-content-block",{attrs:{offsetTop:46,offsetBottom:45}},[s("div",{staticClass:"item-block",staticStyle:{"padding-bottom":"0"}},[s("pl-block",[s("div",{staticClass:"normal-font",staticStyle:{padding:"0 0 10px"}},[t._v("\n          "+t._s(t.asset.code)+"\n          "),s("span",{staticClass:"small-font pull-right"},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("transaction.balance"))+" ")]),s("span",{staticClass:"text-primary"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.balance,"","7")))+" "+t._s(t.asset.code))])])])]),s("van-field",{staticClass:"x-large-font",attrs:{type:"number",name:"amt",placeholder:t.$t("transaction.amtPlaceholder")},model:{value:t.form.amt,callback:function(e){t.$set(t.form,"amt",e)},expression:"form.amt"}},[s("span",{staticClass:"small-font",attrs:{slot:"button"},slot:"button"},[t._v("≈ "+t._s(t._f("market")(t.form.amt,t.asset.code,t.asset.issuer)))])])],1)],1),s("receive-address",{staticClass:"item-block",attrs:{accountType:t.ripple},on:{change:t.changeReceiveAddress},model:{value:t.form.receiveAddress,callback:function(e){t.$set(t.form,"receiveAddress",e)},expression:"form.receiveAddress"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("address.invalidAddressTip"))}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressActivated,expression:"!addressActivated"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("transaction.xrpUnActivationAddressMsg"))}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.trustAsset,expression:"!trustAsset"}],staticClass:"text-danger",domProps:{innerHTML:t._s(t.$t("transaction.notTrustAssetMsg",{code:t.asset.code}))}})]),s("div",{staticClass:"item-block"},[s("pl-block",[s("div",{staticStyle:{padding:"0 0 10px",overflow:"hidden"}},[s("div",{staticClass:"pull-left normal-font"},[t._v("Tag")])]),s("van-field",{attrs:{placeholder:t.$t("transaction.inputTagPlaceholder"),type:"number",clearable:""},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}}),s("small",{directives:[{name:"show",rawName:"v-show",value:t.isNeedTag&&!t.form.tag,expression:"isNeedTag && !form.tag"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("transaction.xrpExchangeAddress"))}})],1)],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:t.firstBthDisabled,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:t.firstStep}})],1)],1),s("van-actionsheet",{attrs:{"close-on-click-overlay":!1},model:{value:t.showFirstStep,callback:function(e){t.showFirstStep=e},expression:"showFirstStep"}},[s("div",{staticClass:"transfer-sub-warpper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSecondStep,expression:"!showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("transaction.confirmTransferAcctMsg")},on:{"click-left":function(e){t.showFirstStep=!1}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("van-icon",{attrs:{name:"close"}})],1)]),s("div",[s("div",{staticClass:"text-center x-x-large-font",staticStyle:{padding:"20px 0px"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(t.form.amt,"","7")))+" "),s("small",[t._v(t._s(t.asset.code))])]),s("van-cell-group",[s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.transferAcctType"))},slot:"title"}),t._v("\n              "+t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts"))+"\n            ")]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.receivablesAddress"))},slot:"title"}),s("div",[t._v(t._s(t.form.receiveAddress))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.paymentAddress"))},slot:"title"}),s("div",[t._v(t._s(t.$store.state.account.address))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},slot:"title"},[t._v("Tag")]),s("div",[t._v(t._s(t.form.tag))])])],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:function(e){t.secondStep()}}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSecondStep,expression:"showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("common.inputPwd"),"left-arrow":""},on:{"click-left":function(e){t.showSecondStep=!1}}}),s("van-cell-group",[s("van-field",{directives:[{name:"show",rawName:"v-show",value:!t.displayPassword,expression:"!displayPassword"}],ref:"password",attrs:{type:"password",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-not-view"},on:{"click-icon":function(e){t.displayPassword=!0}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),s("van-field",{directives:[{name:"show",rawName:"v-show",value:t.displayPassword,expression:"displayPassword"}],ref:"visualPassword",attrs:{type:"text",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-view"},on:{"click-icon":function(e){t.displayPassword=!1}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:!t.form.password,type:"primary"},domProps:{textContent:t._s(t.$t("transaction.submit"))},on:{click:t.submit}})],1)],1)])])],1)},be=[],ye={components:{receiveAddress:se},props:{asset:{type:Object,default:function(){return{}}},address:String,transferAmt:String},data:function(){return{showFirstStep:!1,showSecondStep:!1,displayPassword:!1,form:{amt:"",receiveAddress:"",tag:"",remark:"",password:""},loading:!1,addressValid:!0,addressActivated:!0,trustAsset:!0,ripple:l["a"].ripple}},watch:{"form.receiveAddress":function(){var t=this;if(this.form.receiveAddress){if(!this.$wallet.isValidAddress(this.form.receiveAddress))return this.addressValid=!1,this.addressActivated=!0,void(this.trustAsset=!0);this.addressValid=!0,this.$wallet.isActivated(this.form.receiveAddress).then(function(e){t.addressActivated=e,t.addressActivated?t.$wallet.isTrustAsset(t.form.receiveAddress,t.asset.code,t.asset.issuer).then(function(e){t.trustAsset=e}):t.trustAsset=!0})}else this.addressValid=!0,this.addressActivated=!0,this.trustAsset=!0},displayPassword:function(){var t=this;this.showSecondStep&&(this.displayPassword?this.$nextTick(function(){t.$refs["visualPassword"].$refs["input"].focus()}):this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()}))}},computed:{balance:function(){return this.getBalance(this.asset.code,this.asset.issuer).value},isNeedTag:function(){return!!this.form.receiveAddress&&this.$wallet.isTradingPlatformAddress(this.form.receiveAddress)},firstBthDisabled:function(){return!(this.form.amt&&this.form.receiveAddress&&this.addressValid&&this.trustAsset)||(!(!this.asset.issuer||this.addressActivated)||!(!this.isNeedTag||this.form.tag))},errMsg:function(){return{tecUNFUNDED_PAYMENT:this.$t("transaction.tecUnfundedPayment"),tecNO_DST_INSUF_XRP:this.$t("transaction.tecNoDstInsufXrp")}}},created:function(){},methods:{init:function(){this.showFirstStep=!1,this.showSecondStep=!1,this.displayPassword=!1,this.form={amt:"",receiveAddress:"",tag:"",remark:"",password:""},this.address&&""!==this.address&&(this.form.receiveAddress=this.address),this.transferAmt&&""!==this.transferAmt&&(this.form.amt=Number(this.transferAmt))},firstStep:function(){var t=new y.a(this.form.amt);t.lte(0)?this.$toast(this.$t("transaction.amountGreaterThanZero")):t.gt(this.balance)?this.$toast(this.$t("transaction.balanceTooLowTip")):this.addressActivated||!t.lt("20")?this.$wallet.isValidAddress(this.form.receiveAddress)?!this.isNeedTag||this.form.tag?this.showFirstStep=!0:this.$toast(this.$t("transaction.requiredTag")):this.$toast(this.$t("address.invalidAddressTip")):this.$toast(this.$t("transaction.xrpUnActivationAddressTip"))},secondStep:function(){var t=this;this.showSecondStep=!0,this.form.password="",this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()})},changeReceiveAddress:function(t){this.form.tag=t.labelValue},getErrMsg:function(t){var e=this.$t("common.transactionFail");return t&&t.resultCode&&this.errMsg[t.resultCode]?this.errMsg[t.resultCode]:e},submit:function(){var t=this,e=R["a"].encryptMD5(this.form.password);if(e===this.$store.state.account.password){var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("transaction.inTransactionMessage")}),a={tag:this.form.tag};this.asset&&this.asset.code&&this.asset.issuer&&(a.assetCode=this.asset.code,a.assetIssuer=this.asset.issuer),this.$wallet.sendTransaction(R["a"].decryptAES(this.$store.state.account.secret,this.form.password),this.form.receiveAddress,this.form.amt,a).then(function(e){e&&"tesSUCCESS"===e.resultCode?(console.info(e),s.message=t.$t("transaction.transactionBroadcastSuccess"),setTimeout(function(){s.clear(),t.$emit("done")},1e3)):(console.error(e),t.$toast(t.getErrMsg(e)),setTimeout(function(){s.clear()},2e3))}).catch(function(e){console.error(e),s.message=t.$t("common.transactionFail"),setTimeout(function(){s.clear()},2e3)})}else this.$toast(this.$t("transaction.walletPwdError"))}}},we=ye,xe=(s("89e0"),Object(m["a"])(we,ge,be,!1,null,null,null));xe.options.__file="send-ripple.vue";var $e=xe.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"transfer-container",staticStyle:{width:"100%"}},[s("pl-content-block",{attrs:{offsetTop:46,offsetBottom:45}},[s("div",{staticClass:"item-block",staticStyle:{"padding-bottom":"0"}},[s("pl-block",[s("div",{staticClass:"normal-font",staticStyle:{padding:"0 0 10px"}},[t._v("\n          "+t._s(t.asset.code)+"\n          "),s("span",{staticClass:"small-font pull-right"},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.$t("transaction.balance"))+" ")]),s("span",{staticClass:"text-primary"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.balance,"","7")))+" "+t._s(t.asset.code))])])])]),s("van-field",{staticClass:"x-large-font",attrs:{type:"number",name:"amt",placeholder:t.$t("transaction.amtPlaceholder")},model:{value:t.form.amt,callback:function(e){t.$set(t.form,"amt",e)},expression:"form.amt"}},[s("span",{staticClass:"small-font",attrs:{slot:"button"},slot:"button"},[t._v("≈ "+t._s(t._f("market")(t.form.amt,t.asset.code)))])])],1)],1),s("receive-address",{staticClass:"item-block",attrs:{accountType:t.bitcoin},model:{value:t.form.receiveAddress,callback:function(e){t.$set(t.form,"receiveAddress",e)},expression:"form.receiveAddress"}},[s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger",domProps:{textContent:t._s(t.$t("address.invalidAddressTip"))}})]),s("div",{staticClass:"item-block"},[s("pl-block",[s("div",{staticStyle:{padding:"0 0 10px",overflow:"hidden"}},[s("div",{staticClass:"pull-left normal-font"},[t._v(t._s(t.$t("transaction.minerFee")))]),s("div",{staticClass:"pull-right"},[t._v("\n            "+t._s(t.selectFee)+" sat/b\n          ")])]),s("van-radio-group",{model:{value:t.selectFee,callback:function(e){t.selectFee=e},expression:"selectFee"}},[s("van-cell-group",[t._l(t.frees,function(e,a){return s("van-cell",{key:a,attrs:{clickable:""}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name)+": "+t._s(e.value)+" sat/b")]),s("van-radio",{attrs:{name:e.value}})],1)}),s("van-field",{staticStyle:{"padding-left":"15px"},attrs:{type:"number",maxlength:"20",placeholder:t.$t("transaction.customerFeePlaceholder")},on:{focus:t.feeFocus},model:{value:t.customerFee,callback:function(e){t.customerFee=e},expression:"customerFee"}})],2)],1)],1)],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:t.firstBthDisabled,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:t.firstStep}})],1)],1),s("van-actionsheet",{attrs:{"close-on-click-overlay":!1},model:{value:t.showFirstStep,callback:function(e){t.showFirstStep=e},expression:"showFirstStep"}},[s("div",{staticClass:"transfer-sub-warpper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSecondStep,expression:"!showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("transaction.confirmTransferAcctMsg")},on:{"click-left":function(e){t.showFirstStep=!1}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("van-icon",{attrs:{name:"close"}})],1)]),s("div",[s("div",{staticClass:"text-center x-x-large-font",staticStyle:{padding:"20px 0px"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(t.form.amt,"","7")))+" "),s("small",[t._v(t._s(t.asset.code))])]),s("van-cell-group",[s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.transferAcctType"))},slot:"title"}),t._v("\n              "+t._s(t.asset.code)+" "+t._s(t.$t("common.transferAccounts"))+"\n            ")]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.receivablesAddress"))},slot:"title"}),s("div",[t._v(t._s(t.form.receiveAddress))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.paymentAddress"))},slot:"title"}),s("div",[t._v(t._s(t.$store.state.account.address))])]),s("van-cell",[s("span",{staticClass:"text-muted",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("transaction.minerFee"))},slot:"title"}),s("div",[t._v(t._s(t.selectFee)+" sat/b")])])],1)],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,type:"primary"},domProps:{textContent:t._s(t.$t("common.next"))},on:{click:function(e){t.secondStep()}}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSecondStep,expression:"showSecondStep"}]},[s("van-nav-bar",{attrs:{title:t.$t("common.inputPwd"),"left-arrow":""},on:{"click-left":function(e){t.showSecondStep=!1}}}),s("van-cell-group",[s("van-field",{directives:[{name:"show",rawName:"v-show",value:!t.displayPassword,expression:"!displayPassword"}],ref:"password",attrs:{type:"password",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-not-view"},on:{"click-icon":function(e){t.displayPassword=!0}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),s("van-field",{directives:[{name:"show",rawName:"v-show",value:t.displayPassword,expression:"displayPassword"}],ref:"visualPassword",attrs:{type:"text",placeholder:t.$t("transaction.walletPwdPlaceholder"),icon:"password-view"},on:{"click-icon":function(e){t.displayPassword=!1}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:!t.form.password,type:"primary"},domProps:{textContent:t._s(t.$t("transaction.submit"))},on:{click:t.submit}})],1)],1)])])],1)},_e=[],ke=s("7f43"),Ae=s.n(ke),Se={components:{receiveAddress:se},props:{asset:{type:Object,default:function(){return{}}},address:String,transferAmt:String},data:function(){return{showFirstStep:!1,showSecondStep:!1,displayPassword:!1,selectFee:"35",customerFee:"",frees:[{name:"Regular",value:"35"},{name:"Priority",value:"45"}],form:{amt:"",receiveAddress:"",tag:"",remark:"",password:""},loading:!1,addressValid:!0,bitcoin:l["a"].bitcoin}},watch:{"form.receiveAddress":function(){if(this.form.receiveAddress){if(!this.$wallet.isValidAddress(this.form.receiveAddress))return void(this.addressValid=!1);this.addressValid=!0}else this.addressValid=!0},displayPassword:function(){var t=this;this.showSecondStep&&(this.displayPassword?this.$nextTick(function(){t.$refs["visualPassword"].$refs["input"].focus()}):this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()}))},customerFee:function(){this.customerFee&&(this.selectFee=this.customerFee)}},computed:{balance:function(){return this.getBalance(this.asset.code).value},firstBthDisabled:function(){return!(this.form.amt&&this.form.receiveAddress&&this.addressValid&&this.selectFee)},errMsg:function(){return{"Invalid checksum":this.$t("transaction.invalidChecksum"),"Inconsistent network":this.$t("transaction.inconsistentNetwork"),"inputs and outputs are undefined because no solution was found":this.$t("transaction.balanceTooLowTip"),"no utxo":this.$t("transaction.utxosUnExist"),"fee too low":this.$t("transaction.feeTooLow"),"Network Error":this.$t("transaction.networkError")}}},created:function(){},methods:{init:function(){this.showFirstStep=!1,this.showSecondStep=!1,this.displayPassword=!1,this.selectFee="35",this.customerFee="",this.form={amt:"",receiveAddress:"",remark:"",password:""},this.address&&""!==this.address&&(this.form.receiveAddress=this.address),this.transferAmt&&""!==this.transferAmt&&(this.form.amt=Number(this.transferAmt))},firstStep:function(){var t=new y.a(this.form.amt);t.lte(0)?this.$toast(this.$t("transaction.amountGreaterThanZero")):t.gte(this.balance)?this.$toast(this.$t("transaction.balanceTooLowTip")):this.$wallet.isValidAddress(this.form.receiveAddress)?this.showFirstStep=!0:this.$toast(this.$t("address.invalidAddressTip"))},secondStep:function(){var t=this;this.showSecondStep=!0,this.form.password="",this.$nextTick(function(){t.$refs["password"].$refs["input"].focus()})},getErrMsg:function(t){var e=this.$t("common.transactionFail");return t&&this.errMsg[t.message]?this.errMsg[t.message]:e},feeFocus:function(){this.selectFee="",this.customerFee=""},httpPost:function(){return Ae.a.post},sendTransaction:function(t,e,s,a){var i=this.httpPost();i("".concat(t,"/pushtx?cors=true"),{tx:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t){var e="";for(var s in t)e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]);return e}]}).then(function(t){s(t)}).catch(function(t){a(t)})},submit:function(){var t=this,e=R["a"].encryptMD5(this.form.password);if(e===this.$store.state.account.password){var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("transaction.inTransactionMessage")}),a={feeRate:this.selectFee,amount:this.form.amt};this.$wallet.sendTransaction(R["a"].decryptAES(this.$store.state.account.secret,this.form.password),this.form.receiveAddress,a,this.sendTransaction).then(function(e){console.info(e),s.message=t.$t("transaction.transactionBroadcastSuccess"),setTimeout(function(){s.clear(),t.$emit("done")},1e3)}).catch(function(e){console.error(e),t.$toast(t.getErrMsg(e)),setTimeout(function(){s.clear()},2e3)})}else this.$toast(this.$t("transaction.walletPwdError"))}}},Te=Se,Pe=(s("9df2"),Object(m["a"])(Te,Ce,_e,!1,null,null,null));Pe.options.__file="send-bitcoin.vue";var He,De=Pe.exports,Me={data:function(){return{showPop:!1,asset:{},loading:!1,address:"",transferAmt:""}},components:(He={},Object(Xt["a"])(He,l["a"].ethereum,ce),Object(Xt["a"])(He,l["a"].stellar,ve),Object(Xt["a"])(He,l["a"].ripple,$e),Object(Xt["a"])(He,l["a"].bitcoin,De),He),computed:{sendType:function(){return this.$store.state.account.type?this.$store.state.account.type:""}},methods:{show:function(t,e,s){var a=this;this.asset=t,this.address=e&&""!==e?e:"",this.transferAmt=s&&""!==s?s:"",this.$nextTick(function(){a.$refs["component"]&&a.$refs["component"].init()}),this.showPop=!0},done:function(){this.$emit("done"),this.close()},close:function(){this.showPop=!1},toScan:function(){var t=this;B["a"].scan(this).then(function(e){e&&e.address&&""!==e.address?(t.address=e.address,e.transferAmt&&(t.transferAmt=e.transferAmt),t.$nextTick(function(){t.$refs["component"]&&t.$refs["component"].init()})):t.$toast("非钱包地址，请重新扫描")},function(e){t.$toast(e)})}}},Ee=Me,Oe=(s("e183"),Object(m["a"])(Ee,zt,Yt,!1,null,null,null));Oe.options.__file="send-transaction.vue";var Ie=Oe.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[s(t.type,{ref:"component",tag:"component",attrs:{tab:t.tab,asset:t.asset},on:{showDetail:t.showDetail,addAddress:t.addAddress}})],1)},Ne=[],Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{sticky:t.sticky,"offset-top":45},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[s("van-tab",{attrs:{title:t.$t("common.whole")}},[s("van-cell-group",t._l(t.history,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullOut")}},[s("van-cell-group",t._l(t.outHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullIn")}},[s("van-cell-group",t._l(t.inHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1)],1)],1)},Be=[],Re=(s("c55b"),s("e772"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return"3"!==t.item.txType&&"4"!==t.item.txType?s("van-cell",{attrs:{center:!0}},[s("div",{staticClass:"item"},[s("div",{staticClass:"icon"},[s("table",{staticStyle:{height:"100%",width:"100%"}},[s("tr",[s("td",[s("span",{staticClass:"icon-cls",class:t.type.cls},[s("img",{staticStyle:{width:"30px",height:"30px","vertical-align":"middle"},attrs:{src:t.dprImg(""+t.type.icon),alt:"图标"}})])])])])]),s("div",{staticClass:"content"},["1"===t.item.txType?s("div",{staticClass:"detail-card-line small-font"},[t._v(t._s(t._f("longStrAbbr")(t.item.from,8)))]):s("div",{staticClass:"detail-card-line small-font"},[t._v(t._s(t._f("longStrAbbr")(t.item.to,9)))]),s("div",{staticClass:"x-small-font text-muted detail-card-line"},[t._v(t._s(t._f("date")(t.item.txTime,"YYYY/MM/DD HH:mm:ss")))])]),s("div",{staticClass:"amount normal-font",class:t.type.cls},[s("table",{staticStyle:{height:"100%",width:"100%"}},[s("tr",[s("td",[t._v("\n             "+t._s(t.type.symbol)+" "+t._s(t._f("cutTail")(t._f("currency")(t.item.amount,"","7")))+"\n           ")])])])])]),t.showPercentage?s("div",[s("div",{staticClass:"text-right x-small-font",staticStyle:{"padding-right":"5px"}},[t._v("\n      "+t._s(t.tip)+"\n     ")]),s("div",{staticClass:"progressbar"},[s("div",{staticClass:"progressbar-stack",style:{width:t.percentage+"%"}})])]):t._e()]):s("history-path-item",{attrs:{item:t.item,maxConfirmations:t.maxConfirmations}})}),Le=[],je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-cell",{attrs:{center:!0}},[s("div",{staticClass:"item"},[s("div",{staticClass:"icon"},[s("table",{staticStyle:{height:"100%",width:"100%"}},[s("tr",[s("td",[s("span",{staticClass:"icon-cls",class:t.type.cls},[s("img",{staticStyle:{width:"30px",height:"30px","vertical-align":"middle"},attrs:{src:t.dprImg(""+t.type.icon),alt:"图标"}})])])])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"detail-card-line small-font"},[s("span",[t._v(t._s(t._f("cutTail")(t._f("currency")(t.item.data.source_amount,"","7")))+" ")]),s("span",[t._v(t._s("native"===t.item.data.source_asset_type?"XLM":t.item.data.source_asset_code))]),s("img",{staticStyle:{"vertical-align":"middle",transform:"translateY(-2px)"},attrs:{src:"static/img/path.png",width:"33",height:"22"}}),s("span",[t._v(t._s(t._f("cutTail")(t._f("currency")(t.item.data.amount,"","7")))+" ")]),s("span",[t._v(t._s("native"===t.item.data.asset_type?"XLM":t.item.data.asset_code))])]),s("div",{staticClass:"x-small-font text-muted detail-card-line"},[t._v(t._s(t._f("date")(t.item.txTime,"YYYY/MM/DD HH:mm:ss")))])])]),t.showPercentage?s("div",[s("div",{staticClass:"text-right x-small-font",staticStyle:{"padding-right":"5px"}},[t._v("\n      "+t._s(t.tip)+"\n     ")]),s("div",{staticClass:"progressbar"},[s("div",{staticClass:"progressbar-stack",style:{width:t.percentage+"%"}})])]):t._e()])},We=[],ze={props:{item:{type:Object,default:function(){return{}}},maxConfirmations:{type:Number,default:6}},data:function(){return{types:{0:{icon:"export.png",cls:"",symbol:"-"},1:{icon:"import.png",cls:"text-primary",symbol:"+"},2:{icon:"contract.png",cls:"",symbol:""},3:{icon:"import.png",cls:"",symbol:"+"},4:{icon:"export.png",cls:"",symbol:"-"}}}},computed:{tip:function(){return 0===this.item.confirmations?this.$t("history.unpackage"):this.$t("history.confirming")},showPercentage:function(){return void 0!==this.item.confirmations&&this.item.confirmations<=this.maxConfirmations},percentage:function(){return this.item.confirmations/this.maxConfirmations*100},type:function(){return this.item&&this.types[this.item.txType]?this.types[this.item.txType]:{}}},methods:{onClose:function(t,e){switch(t){case"left":this.$emit("leftClick"),e.close();break;case"cell":case"outside":e.close();break;case"right":this.$emit("rightClick"),e.close();break}}}},Ye=ze,Xe=(s("de53"),Object(m["a"])(Ye,je,We,!1,null,"1a109632",null));Xe.options.__file="tx-history-path-item.vue";var qe=Xe.exports,Ke={components:{historyPathItem:qe},props:{item:{type:Object,default:function(){return{}}},maxConfirmations:{type:Number,default:6}},data:function(){return{types:{0:{icon:"export.png",cls:"",symbol:"-"},1:{icon:"import.png",cls:"text-primary",symbol:"+"},2:{icon:"contract.png",cls:"",symbol:""},3:{icon:"import.png",cls:"",symbol:"+"},4:{icon:"export.png",cls:"",symbol:"-"}}}},computed:{tip:function(){return 0===this.item.confirmations?this.$t("history.unpackage"):this.$t("history.confirming")},showPercentage:function(){return void 0!==this.item.confirmations&&this.item.confirmations<=this.maxConfirmations},percentage:function(){return this.item.confirmations/this.maxConfirmations*100},type:function(){return this.item&&this.types[this.item.txType]?this.types[this.item.txType]:{}}},methods:{onClose:function(t,e){switch(t){case"left":this.$emit("leftClick"),e.close();break;case"cell":case"outside":e.close();break;case"right":this.$emit("rightClick"),e.close();break}}}},Ue=Ke,Qe=(s("bc14"),Object(m["a"])(Ue,Re,Le,!1,null,"5ef8a88e",null));Qe.options.__file="tx-history-item.vue";var Ge=Qe.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("van-loading",{staticStyle:{margin:"0px auto"}}):s("span",[t.hasNext?s("span",{staticClass:"x-small-font load-more",domProps:{textContent:t._s(t.$t("common.loadMore"))},on:{click:t.loadMore}}):s("span",{staticClass:"x-small-font"},[t._v("~")])])],1)},Je=[],ts={props:{hasNext:Boolean,loading:Boolean},methods:{loadMore:function(){this.$emit("load-more")}}},es=ts,ss=(s("44e5"),Object(m["a"])(es,Ze,Je,!1,null,null,null));ss.options.__file="load-more-btn.vue";var as=ss.exports,is={props:{asset:{type:Object,default:function(){return{}}},tab:Number},components:{txHistoryItem:Ge,loadMoreBtn:as},data:function(){return{tabActive:0,tempHistory:[],normalHistory:[],tempHistoryMap:{},lastHistory:null,firstHistory:null,timers:[],nextLoading:!1,limit:30,sticky:!0}},watch:{tab:function(){this.tabActive=this.tab},asset:function(){this.tabActive=0,this.tempHistory=[],this.normalHistory=[],this.tempHistoryMap={},this.setRegion()}},computed:{outHistory:function(){return this.history.filter(function(t){return"0"===t.txType||"2"===t.txType})},inHistory:function(){return this.history.filter(function(t){return"1"===t.txType})},hasNext:function(){return!(!this.firstHistory||this.firstHistory.firstHistory)},history:function(){return[].concat(Object(S["a"])(this.tempHistory),Object(S["a"])(this.normalHistory))}},beforeDestroy:function(){this.clearTimers()},methods:{showDetail:function(t){"3"!==t.txType&&"4"!==t.txType&&this.$emit("showDetail",t)},addAddress:function(t){var e={address:"1"===t.txType?t.from:t.to,type:t.acctType};this.$emit("addAddress",e)},getHistory:function(){var t=this.getLocalHistory();this.setRegion(),t&&0!==t.length?this.setRegion():this.getRemoteHistory()},clearTimers:function(){this.timers.forEach(function(t){clearInterval(t)}),this.timers=[]},updateConfirmations:function(){},getLocalHistory:function(){var t=this;this.normalHistory=this.$collecitons.history.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer),this.tempHistory=this.$collecitons.tempHistory.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer),this.tempHistoryMap={},this.tempHistory.forEach(function(e){t.tempHistoryMap[e.txHash]=e});var e=[].concat(Object(S["a"])(this.tempHistory),Object(S["a"])(this.normalHistory));return this.updateConfirmations(),e},getRemoteHistory:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",a=this.getOption(t,s);"up"!==s&&(this.nextLoading=!0),this.$wallet.getTransactions(this.$store.state.account.address,a).then(function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(a){var i,o,n,r,c,l,d,u,h,p,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i=!0,o=!1,n=void 0,t.prev=3,r=a[Symbol.iterator]();case 5:if(i=(c=r.next()).done){t.next=23;break}return l=c.value,t.next=9,e.toHistory(l);case 9:if(d=t.sent,d){t.next=12;break}return t.abrupt("continue",20);case 12:if(!(!e.history||0==e.history.length||"up"===s&&d.txTime>e.lastHistory.txTime||"up"!==s&&d.txTime<e.firstHistory.txTime)){t.next=20;break}if(u=e.$collecitons.history.findHistory(e.$store.state.account.type,e.$store.state.account.address,e.asset.code,e.asset.issuer,d.txHash),u&&0!==u.length||e.$collecitons.history.insertHistory(d),!e.toPathHistory){t.next=20;break}return t.next=18,e.toPathHistory(l);case 18:h=t.sent,h&&(p=e.$collecitons.history.findHistory(h.acctType,h.address,h.assetCode,h.assetIssuer,h.txHash),u&&0!==p.length||e.$collecitons.history.insertHistory(h));case 20:i=!0,t.next=5;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](3),o=!0,n=t.t0;case 29:t.prev=29,t.prev=30,i||null==r.return||r.return();case 32:if(t.prev=32,!o){t.next=35;break}throw n;case 35:return t.finish(32);case 36:return t.finish(29);case 37:f=!!e.firstHistory,e.getLocalHistory(),e.setRegion(),"up"===s&&f||a&&0!==a.length&&!(a.length<e.limit)||e.firstHistory&&(e.firstHistory.firstHistory=!0,e.$collecitons.history.updateHistory(e.firstHistory.txHash,function(t){return t.firstHistory=!0})),e.nextLoading=!1;case 42:case"end":return t.stop()}},t,this,[[3,25,29,37],[30,,32,36]])}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.nextLoading=!1,console.info(t)})}}},os={mixins:[is],methods:{setRegion:function(){this.normalHistory&&this.normalHistory.length>0?(this.lastHistory=this.normalHistory[0],this.firstHistory=this.normalHistory[this.normalHistory.length-1]):(this.lastHistory=null,this.firstHistory=null)},updateConfirmations:function(){var t=this,e=6;this.clearTimers(),this.tempHistory.forEach(function(s){var a=setInterval(Object(Ut["a"])(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$wallet.getConfirmations(s.txHash);case 2:o=i.sent,console.log("trxConfirmations:",o),-1===o&&(t.$collecitons.tempHistory.removeHistory({txHash:s.txHash}),t.getRemoteHistory()),o>e?(t.$collecitons.tempHistory.removeHistory({txHash:s.txHash}),clearInterval(a),t.$store.dispatch("setBalances",t.$store.state.account.address),t.getRemoteHistory()):(t.$collecitons.tempHistory.updateHistory(s.txHash,function(t){t.confirmations=o}),s.confirmations=o);case 6:case"end":return i.stop()}},i,this)})),2e4);t.timers.push(a)})},getOption:function(t,e){var s={sort:"desc",offset:this.limit,page:"1",assetCode:this.asset.code};return"up"===e?t&&void 0!==t.startblock||!this.lastHistory||(s.startblock=this.lastHistory.blockNumber):t&&void 0!==t.endblock||!this.firstHistory||(s.endblock=this.firstHistory.blockNumber),s},checkTempHistory:function(t,e){var s=this.$collecitons.tempHistory.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer,t.hash);if(s&&s.length>0)return this.$collecitons.tempHistory.updateHistory(t.hash,function(e){e.confirmations=t.confirmations}),this.tempHistory=this.$collecitons.tempHistory.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer),!0;var a="0";if(t.gasUsed&&t.gasPrice&&(a=new y.a(t.gasUsed).times(t.gasPrice).toFixed()),t.confirmations<=6){var i={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:this.asset.code,assetIssuer:this.asset.issuer,txHash:t.hash,amount:this.$wallet.getInstance().utils.fromWei(t.value,"ether"),blockNumber:t.blockNumber,to:t.to,from:t.from,fee:this.$wallet.getInstance().utils.fromWei(a,"ether"),txType:e?"2":t.to.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",txTime:(new ie.a).format("YYYYMMDD HH:mm:ss"),data:t,confirmations:t.confirmations};return this.$collecitons.tempHistory.insertHistory(i),!0}return!1},toHistory:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e){var s,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=!1,this.asset.code!==l["b"].ETH){t.next=5;break}return t.next=4,this.$wallet.isContract(e.to);case 4:s=t.sent;case 5:if(!this.checkTempHistory(e,s)){t.next=7;break}return t.abrupt("return",null);case 7:return a="0",e.gasUsed&&e.gasPrice&&(a=new y.a(e.gasUsed).times(e.gasPrice).toFixed()),i={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:this.asset.code,assetIssuer:this.asset.issuer||"",txHash:e.hash,amount:this.$wallet.getInstance().utils.fromWei(e.value,"ether"),blockNumber:e.blockNumber,to:e.to,from:e.from,txTime:ie()(1e3*e.timeStamp).format("YYYYMMDD HH:mm:ss"),fee:this.$wallet.getInstance().utils.fromWei(a,"ether"),txType:s?"2":e.to.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",data:e},t.abrupt("return",i);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},ns=os,rs=(s("0220"),Object(m["a"])(ns,Ve,Be,!1,null,null,null));rs.options.__file="tx-history-ethereum.vue";var cs=rs.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{sticky:t.sticky,"offset-top":45},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[s("van-tab",{attrs:{title:t.$t("common.whole")}},[s("van-cell-group",t._l(t.history,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullOut")}},[s("van-cell-group",t._l(t.outHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullIn")}},[s("van-cell-group",t._l(t.inHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1)],1)],1)},ds=[],us={mixins:[is],methods:{setRegion:function(){var t=this.$collecitons.history.findHistory(this.$store.state.account.type,this.$store.state.account.address);t&&t.length>0?(this.lastHistory=t[0],this.firstHistory=t[t.length-1]):(this.lastHistory=null,this.firstHistory=null)},getOption:function(t,e){var s={types:["payment"],limit:this.limit};return"up"===e?t&&void 0!==t.minLedgerVersion||!this.lastHistory||(s.minLedgerVersion=this.lastHistory.blockNumber):t&&void 0!==t.maxLedgerVersion||!this.firstHistory||(s.maxLedgerVersion=this.firstHistory.blockNumber),s},toHistory:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e){var s,a,i,o,n,r,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.specification.destination.address,a=e.outcome.deliveredAmount||{},i=a.counterparty,!a.currency||"XRP"===a.currency){t.next=13;break}o=e.outcome.balanceChanges[this.$store.state.account.address],n=0,r=o.length;case 6:if(!(n<r)){t.next=13;break}if(o[n].currency!==a.currency){t.next=10;break}return i=o[n].counterparty,t.abrupt("break",13);case 10:n++,t.next=6;break;case 13:return c={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:a.currency,assetIssuer:i,txHash:e.id,amount:a.value||"",blockNumber:e.outcome.ledgerVersion,to:s,from:e.specification.source.address,txTime:ie()(e.outcome.timestamp).format("YYYYMMDD HH:mm:ss"),fee:e.outcome.fee,txType:s.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",data:e},t.abrupt("return",c);case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},hs=us,ps=(s("2f8e"),Object(m["a"])(hs,ls,ds,!1,null,null,null));ps.options.__file="tx-history-ripple.vue";var fs=ps.exports,ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{sticky:t.sticky,"offset-top":45},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[s("van-tab",{attrs:{title:t.$t("common.whole")}},[s("van-cell-group",t._l(t.history,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullOut")}},[s("van-cell-group",t._l(t.outHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullIn")}},[s("van-cell-group",t._l(t.inHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.exchange")}},[s("van-cell-group",t._l(t.pathHistory,function(e,a){return s("history-path-item",{key:a,attrs:{item:e},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1)],1)],1)},vs=[],gs={components:{historyPathItem:qe},mixins:[is],computed:{pathHistory:function(){return this.history.filter(function(t){return"3"===t.txType||"4"===t.txType})}},methods:{setRegion:function(){var t=this.$collecitons.history.findHistory(this.$store.state.account.type,this.$store.state.account.address);t&&t.length>0?(this.lastHistory=t[0],this.firstHistory=t[t.length-1]):(this.lastHistory=null,this.firstHistory=null)},getOption:function(t,e){var s={limit:this.limit};return"up"===e?t&&void 0!==t.cursor||!this.lastHistory||(s.cursor=this.lastHistory.blockNumber,s.order="asc"):t&&void 0!==t.cursor||!this.firstHistory||(s.cursor=this.firstHistory.blockNumber,s.order="desc"),s},toHistory:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e){var s,a,i,o,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=null,"account_merge"!==e.type){t.next=3;break}return t.abrupt("return",null);case 3:return a="create_account"===e.type?e.account:e.to,i="create_account"===e.type?e.source_account:e.from,o="create_account"===e.type?e.starting_balance:e.amount,n={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:"native"===e.asset_type||"create_account"===e.type?"XLM":e.asset_code,assetIssuer:e.asset_issuer||"",txHash:e.transaction_hash,amount:o,blockNumber:e.paging_token,to:a,from:i,txTime:ie()(e.created_at).format("YYYYMMDD HH:mm:ss"),fee:s,txType:"path_payment"===e.type?"3":a.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",data:e},t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),toPathHistory:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("path_payment"!==e.type){t.next=3;break}return s={address:e.source_account,acctType:this.$store.state.account.type,assetCode:"native"===e.source_asset_type?"XLM":e.source_asset_code,assetIssuer:e.source_asset_issuer||"",txHash:e.transaction_hash,amount:e.source_amount,blockNumber:e.paging_token,to:e.to,from:e.from,txTime:ie()(e.created_at).format("YYYYMMDD HH:mm:ss"),fee:null,txType:"4",data:e},t.abrupt("return",s);case 3:return t.abrupt("return",null);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},bs=gs,ys=(s("29da"),Object(m["a"])(bs,ms,vs,!1,null,null,null));ys.options.__file="tx-history-stellar.vue";var ws=ys.exports,xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{sticky:t.sticky,"offset-top":45},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[s("van-tab",{attrs:{title:t.$t("common.whole")}},[s("van-cell-group",t._l(t.history,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullOut")}},[s("van-cell-group",t._l(t.outHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1),s("van-tab",{attrs:{title:t.$t("common.pullIn")}},[s("van-cell-group",t._l(t.inHistory,function(e,a){return s("tx-history-item",{key:a,attrs:{item:e},on:{leftClick:function(s){t.addAddress(e)},rightClick:function(s){t.showDetail(e)}},nativeOn:{click:function(s){t.showDetail(e)}}})}),1),s("div",{staticClass:"text-center"},[s("load-more-btn",{attrs:{loading:t.nextLoading,"has-next":t.hasNext},on:{"load-more":function(e){t.getRemoteHistory({},"down")}}}),s("br")],1)],1)],1)],1)},$s=[],Cs={mixins:[is],data:function(){return{page:1,total:0}},computed:{hasNext:function(){return this.total!==this.history.length}},methods:{clearHistory:function(){this.tempHistory=[],this.normalHistory=[]},getHistory:function(){this.getRemoteHistory()},getRemoteHistory:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"up",a=this.getOption(t,s);"up"!==s&&(this.nextLoading=!0),1===this.page&&this.clearHistory(),this.$wallet.getTransactions(this.$store.state.account.address,a).then(function(t){e.total=t.wallet.n_tx;var s=t.info.latest_block.height;t.txs.forEach(function(t){t.confirmations=0,t.block_height&&(t.confirmations=s-t.block_height+1);var a=e.toHistory(t);a&&e.normalHistory.push(a)}),e.nextLoading=!1}).catch(function(t){e.nextLoading=!1,console.info(t)})},setRegion:function(){},getOption:function(t,e){"up"===e?this.page=1:this.page++;var s={limit:this.limit,offset:this.limit*(this.page-1)};return s},updateConfirmations:function(){var t=this,e=6;this.clearTimers(),this.tempHistory.forEach(function(s){var a=setInterval(Object(Ut["a"])(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$wallet.getConfirmations(s);case 2:o=i.sent,console.log("trxConfirmations:",o),-1===o&&(t.$collecitons.tempHistory.removeHistory({txHash:s.txHash}),t.getRemoteHistory()),o>e?(t.$collecitons.tempHistory.removeHistory({txHash:s.txHash}),clearInterval(a),t.$store.dispatch("setBalances",t.$store.state.account.address),t.getRemoteHistory()):(t.$collecitons.tempHistory.updateHistory(s.txHash,function(t){t.confirmations=o}),s.confirmations=o);case 6:case"end":return i.stop()}},i,this)})),2e4);t.timers.push(a)})},checkTempHistory:function(t){var e=this.$collecitons.tempHistory.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer,t.hash);if(e&&e.length>0)return this.$collecitons.tempHistory.updateHistory(t.hash,function(e){e.confirmations=t.confirmations}),this.tempHistory=this.$collecitons.tempHistory.findHistory(this.$store.state.account.type,this.$store.state.account.address,this.asset.code,this.asset.issuer),this.updateConfirmations(),!0;var s="0";if(t.fee&&(s=this.$wallet.transfToBtc(t.fee)),t.confirmations<=6){var a={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:this.asset.code,txHash:t.hash,amount:Math.abs(this.$wallet.transfToBtc(t.result)),blockNumber:t.block_height,to:t.out[0].addr,from:t.inputs[0].prev_out.addr,txTime:ie.a.unix(t.time).format("YYYYMMDD HH:mm:ss"),fee:s,txType:t.out[0].addr.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",data:t,confirmations:t.confirmations};return this.$collecitons.tempHistory.insertHistory(a),this.tempHistory.push(a),this.updateConfirmations(),!0}return!1},toHistory:function(t){if(!this.checkTempHistory(t)){var e="0";t.fee&&(e=this.$wallet.transfToBtc(t.fee));var s={address:this.$store.state.account.address,acctType:this.$store.state.account.type,assetCode:this.asset.code,txHash:t.hash,amount:Math.abs(this.$wallet.transfToBtc(t.result)),blockNumber:t.block_height,to:t.out[0].addr,from:t.inputs[0].prev_out.addr,txTime:ie.a.unix(t.time).format("YYYYMMDD HH:mm:ss"),fee:e,txType:t.out[0].addr.toLowerCase()===this.$store.state.account.address.toLowerCase()?"1":"0",data:t};return s}}}},_s=Cs,ks=(s("49cd"),Object(m["a"])(_s,xs,$s,!1,null,null,null));ks.options.__file="tx-history-bitcoin.vue";var As,Ss=ks.exports,Ts={props:{asset:{type:Object,default:function(){return{}}}},data:function(){return{tab:0}},components:(As={},Object(Xt["a"])(As,l["a"].ethereum,cs),Object(Xt["a"])(As,l["a"].ripple,fs),Object(Xt["a"])(As,l["a"].stellar,ws),Object(Xt["a"])(As,l["a"].bitcoin,Ss),As),computed:{type:function(){return this.$store.state.account.type?this.$store.state.account.type:""}},watch:{type:function(){this.tab=0}},mounted:function(){this.getHistory()},methods:{showDetail:function(t){this.$emit("showDetail",t)},addAddress:function(t){this.$emit("addAddress",t)},getHistory:function(){this.tab=0;var t=this.$refs["component"];t&&(t.history&&t.history.length>0?t.getRemoteHistory():(t.getHistory(),t.history&&t.history.length>0&&t.getRemoteHistory()))}}},Ps=Ts,Hs=(s("ddec"),Object(m["a"])(Ps,Fe,Ne,!1,null,null,null));Hs.options.__file="tx-history.vue";var Ds=Hs.exports,Ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"tx-detail-popup",class:t.type,staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{staticClass:"tx-nav-bar",staticStyle:{background:"transparent"},on:{"click-left":t.goBack}},[s("span",{staticClass:"text-white",attrs:{slot:"title"},domProps:{textContent:t._s(t.$t("common.detail"))},slot:"title"}),s("span",{staticClass:"text-white",attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("div",{staticClass:"item-block",staticStyle:{overflow:"hidden"}},[s("pl-content-block",{attrs:{offsetTop:150}},[s(t.type,{ref:"component",tag:"component",attrs:{item:t.item},on:{"update:item":function(e){t.item=e}}})],1)],1),s("div",{staticClass:"text-center text-primary",on:{click:t.to}},[t._v(t._s(t.$t("history.searchMore"))+" >>")])],1)},Es=[],Os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("pl-block",{staticClass:"van-hairline--bottom"},[s("div",{staticClass:"text-center padding"},[s("van-icon",{staticClass:"text-primary",staticStyle:{"font-size":"40px","vertical-align":"middle"},attrs:{name:t.iconName}})],1),t.item.confirmations<6?s("div",[s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.txTip))])])]):s("div",["2"!==t.item.txType?s("div",["1"===t.item.txType?s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.receivableSuccess")))])]):s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.transferSuccess")))])])]):s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.contractSuccess")))])])]),s("div",{staticClass:"text-center text-muted small-font",staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("date")(t.item.txTime,"YYYY/MM/DD hh:mm:ss")))])]),s("pl-block",{staticStyle:{"padding-left":"0px"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6",type:"flex"}},[s("div",{staticClass:"text-muted small-font"},[t._v(t._s(t.$t("history.amount")))])]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"big-font"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.item.amount,"","7")))+"  "+t._s(t.item.assetCode))])])],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.transactionFee"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.fee)+"  ether")]),s("div",{staticClass:"text-muted x-small-font text-ellipsis"},[t._v("=Gas("+t._s(t.item.data.gas)+")*GasPrice("+t._s(t.item.data.gasPrice)+")")])])],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.receivablesAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.to,complete:""}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.paymentAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.from,complete:""}})],1)],1)],1)]),s("pl-block",{staticClass:"margin-top van-hairline--top",staticStyle:{"padding-left":"0px",position:"relative"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("history.transactionHash"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.txHash,length:6}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.block"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.blockNumber))])])],1)],1),s("div",{staticClass:"qrcode-parent"},[s("qrcode",{staticClass:"qrcode",attrs:{value:"https://etherscan.io/tx/"+t.item.txHash,options:{size:80}}})],1)]),s("br"),s("br")],1)},Is=[],Fs={components:{qrcode:ft["a"]},props:{item:{type:Object,default:function(){return{}}}},computed:{txTip:function(){return 0===this.item.confirmations?this.$t("history.unpackage"):this.$t("history.confirming")},iconName:function(){return this.item.confirmations<6?0===this.item.confirmations?"more":"underway":"checked"}},methods:{}},Ns=Fs,Vs=(s("2fc2"),Object(m["a"])(Ns,Os,Is,!1,null,"21d7fdb6",null));Vs.options.__file="tx-detail-ethereum.vue";var Bs=Vs.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"overflow-x":"hidden"}},[s("pl-block",{staticClass:"van-hairline--bottom"},[s("div",{staticClass:"text-center padding"},[s("van-icon",{staticClass:"text-primary",staticStyle:{"font-size":"40px","vertical-align":"middle"},attrs:{name:"checked"}})],1),"1"===t.item.txType?s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.receivableSuccess")))])]):s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.transferSuccess")))])]),s("div",{staticClass:"text-center text-muted small-font",staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("date")(t.item.txTime,"YYYY/MM/DD hh:mm:ss")))])]),s("pl-block",{staticStyle:{"padding-left":"0px"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6",type:"flex"}},[s("div",{staticClass:"text-muted small-font"},[t._v(t._s(t.$t("history.amount")))])]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"big-font"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.item.amount,"","7")))+"  "+t._s(t.item.assetCode))])])],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.transactionFee"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.fee)+"  XRP")])])],1)],1),t.item.data&&t.item.data.specification&&t.item.data.specification.destination&&t.item.data.specification.destination.tag?s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font"},[t._v("Tag")])]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.data.specification.destination.tag))])])],1)],1):t._e(),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.receivablesAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.to,complete:""}})],1)],1)],1),s("div",{staticClass:"text-black"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.paymentAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.from,complete:""}})],1)],1)],1)]),s("pl-block",{staticClass:"margin-top van-hairline--top",staticStyle:{"padding-left":"0px",position:"relative"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("history.transactionHash"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.txHash,length:6}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("history.ledgerNummber"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.blockNumber))])])],1)],1),s("div",{staticClass:"qrcode-parent"},[s("qrcode",{staticClass:"qrcode",attrs:{value:"https://wipple.devnull.network/live/transactions/"+t.item.txHash,options:{size:85}}})],1)]),s("br"),s("br")],1)},Ls=[],js={components:{qrcode:ft["a"]},props:{item:{type:Object,default:function(){return{}}}},methods:{}},Ws=js,zs=(s("2e37"),Object(m["a"])(Ws,Rs,Ls,!1,null,"0ac531ae",null));zs.options.__file="tx-detail-ripple.vue";var Ys=zs.exports,Xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"overflow-x":"hidden"}},[s("pl-block",{staticClass:"van-hairline--bottom"},[s("div",{staticClass:"text-center padding"},[s("van-icon",{staticClass:"text-primary",staticStyle:{"font-size":"40px","vertical-align":"middle"},attrs:{name:"checked"}})],1),"1"===t.tempItem.txType?s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.receivableSuccess")))])]):s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.transferSuccess")))])]),s("div",{staticClass:"text-center text-muted small-font",staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("date")(t.tempItem.txTime,"YYYY/MM/DD hh:mm:ss")))])]),s("pl-block",{staticStyle:{"padding-left":"0px"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6",type:"flex"}},[s("div",{staticClass:"text-muted small-font"},[t._v(t._s(t.$t("history.amount")))])]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"big-font"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.tempItem.amount,"","7")))+"  "+t._s(t.item.assetCode))])])],1)],1),t.tempItem&&t.tempItem.data&&t.tempItem.data.memo_type&&"none"!==t.tempItem.data.memo_type?s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6",type:"flex"}},[s("div",{staticClass:"text-muted small-font"},[t._v("Memo-"+t._s(t.tempItem.data.memo_type))])]),s("van-col",{attrs:{span:"18"}},[s("div",[t._v(t._s(t.tempItem.data.memo))])])],1)],1):t._e(),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.receivablesAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.tempItem.to,complete:""}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.paymentAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.tempItem.from,complete:""}})],1)],1)],1)]),s("pl-block",{staticClass:"margin-top van-hairline--top",staticStyle:{"padding-left":"0px",position:"relative"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("history.transactionHash"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{attrs:{address:t.tempItem.txHash,length:6}})],1)],1)],1),s("div",{staticClass:"qrcode-parent"},[s("qrcode",{staticClass:"qrcode",attrs:{value:"https://steexp.com/tx/"+t.item.txHash,options:{size:80}}})],1)]),s("br"),s("br")],1)},qs=[],Ks={components:{qrcode:ft["a"]},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{tempItem:{data:{memo:"",memo_type:""}}}},watch:{item:function(){this.setTx()}},methods:{setTx:function(){var t=this;this.tempItem=this.item,this.tempItem&&void 0===this.tempItem.data.memo_type&&this.$wallet.getTransaction(this.tempItem.txHash).then(function(e){t.tempItem.data.memo=e.memo||"",t.tempItem.data.memo_type=e.memo_type,t.$forceUpdate(),t.$collecitons.history.updateHistory(t.tempItem.txHash,function(t){t.data.memo=e.memo||"",t.data.memo_type=e.memo_type}),t.$emit("update:item",t.tempItem)})}},mounted:function(){this.setTx()}},Us=Ks,Qs=(s("7570"),Object(m["a"])(Us,Xs,qs,!1,null,"753fd473",null));Qs.options.__file="tx-detail-stellar.vue";var Gs=Qs.exports,Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"overflow-x":"hidden"}},[s("pl-block",{staticClass:"van-hairline--bottom"},[s("div",{staticClass:"text-center padding"},[s("van-icon",{staticClass:"text-primary",staticStyle:{"font-size":"40px","vertical-align":"middle"},attrs:{name:"checked"}})],1),"1"===t.item.txType?s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.receivableSuccess")))])]):s("div",{staticClass:"text-center big-font"},[s("strong",[t._v(t._s(t.$t("history.transferSuccess")))])]),s("div",{staticClass:"text-center text-muted small-font",staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("date")(t.item.txTime,"YYYY/MM/DD hh:mm:ss")))])]),s("pl-block",{staticStyle:{"padding-left":"0px"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6",type:"flex"}},[s("div",{staticClass:"text-muted small-font"},[t._v(t._s(t.$t("history.amount")))])]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"big-font"},[t._v(t._s(t._f("cutTail")(t._f("currency")(t.item.amount,"","7")))+"  BTC")])])],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.transactionFee"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.fee)+"  BTC")])])],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.receivablesAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.to,complete:""}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.paymentAddress"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.from,complete:""}})],1)],1)],1)]),s("pl-block",{staticClass:"margin-top van-hairline--top",staticStyle:{"padding-left":"0px",position:"relative"}},[s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("div",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("history.transactionHash"))}})]),s("van-col",{attrs:{span:"18"}},[s("pl-wallet-addr",{staticClass:"small-font",attrs:{address:t.item.txHash,length:6}})],1)],1)],1),s("div",{staticClass:"text-block"},[s("van-row",[s("van-col",{attrs:{span:"6"}},[s("p",{staticClass:"text-muted small-font",domProps:{textContent:t._s(t.$t("common.block"))}})]),s("van-col",{attrs:{span:"18"}},[s("div",{staticClass:"small-font"},[t._v(t._s(t.item.blockNumber))])])],1)],1),s("div",{staticClass:"qrcode-parent"},[s("qrcode",{staticClass:"qrcode",attrs:{value:"https://live.blockcypher.com/btc/tx/"+t.item.txHash,options:{size:80}}})],1)]),s("br"),s("br")],1)},Js=[],ta={components:{qrcode:ft["a"]},props:{item:{type:Object,default:function(){return{}}}},methods:{}},ea=ta,sa=(s("07d3"),Object(m["a"])(ea,Zs,Js,!1,null,"11f9cc88",null));sa.options.__file="tx-detail-bitcoin.vue";var aa=sa.exports,ia=s("9f23"),oa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gradient-bg"},[t._t("default")],2)},na=[],ra={},ca=ra,la=(s("44c7"),Object(m["a"])(ca,oa,na,!1,null,null,null));la.options.__file="gradient-bg.vue";var da,ua=la.exports,ha={components:(da={},Object(Xt["a"])(da,l["a"].ethereum,Bs),Object(Xt["a"])(da,l["a"].ripple,Ys),Object(Xt["a"])(da,l["a"].stellar,Gs),Object(Xt["a"])(da,l["a"].bitcoin,aa),Object(Xt["a"])(da,"gradientBg",ua),da),computed:{type:function(){return this.$store.state.account.type?this.$store.state.account.type:""}},data:function(){return{showPop:!1,item:{}}},methods:{goBack:function(){this.showPop=!1},show:function(t){this.showPop=!0,this.item=t},to:function(){var t="",e="";this.type===l["a"].ethereum?(t="https://etherscan.io/tx/".concat(this.item.txHash),e="Etherscan"):this.type===l["a"].ripple?(t="https://wipple.devnull.network/live/transactions/".concat(this.item.txHash),e="Wipple"):this.type===l["a"].stellar?(t="https://steexp.com/tx/".concat(this.item.txHash),e="Steexp"):this.type===l["a"].bitcoin&&(t="https://live.blockcypher.com/btc/tx/".concat(this.item.txHash),e="blockcypher"),t&&ia["a"].open(e,t)}}},pa=ha,fa=(s("6d428"),Object(m["a"])(pa,Ms,Es,!1,null,null,null));fa.options.__file="tx-detail.vue";var ma=fa.exports,va=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("exchange.inputTitle")},on:{"click-left":function(e){t.close()}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("div",{staticClass:"b-white padding exchange-coin border-radius"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("exchange.receive")))]),s("van-field",{staticClass:"large-font text-primary",staticStyle:{"padding-left":"20px"},attrs:{type:"number",readonly:t.loadingPath,placeholder:t.$t("exchange.inputPlaceholder")},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[s("span",{staticClass:"text-main large-font",attrs:{slot:"icon"},on:{click:t.toCurrencyType},slot:"icon"},[t._v(t._s(t.assetCode)+" "),s("van-icon",{staticStyle:{display:"inline-block"},attrs:{name:"arrow"}})],1)]),t.amount&&t.amount<=0?s("small",{staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("exchange.amountErrorTip")))]):t.errorMsg?s("small",{staticClass:"text-danger padding-left"},[t._v(t._s(t.errorMsg))]):t._e()],1),s("div",[t.loadingPath?s("div",[s("van-loading",{staticStyle:{margin:"0 auto"}})],1):s("van-radio-group",{staticClass:"margin-top",model:{value:t.selectPath,callback:function(e){t.selectPath=e},expression:"selectPath"}},[s("div",{staticClass:"path-list"},t._l(t.paths,function(e,a){return s("div",{key:a,staticClass:"path-list-item item-block",on:{click:function(e){t.pathClick(a)}}},[s("div",{staticClass:"content"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{attrs:{width:"25"}},[s("van-radio",{staticStyle:{overflow:"visible"},attrs:{name:a}})],1),s("td",{attrs:{width:"35"}},[s("span",{staticClass:"img-icon"},[e.srcLogo?s("img",{attrs:{src:e.srcLogo}}):s("img",{attrs:{src:"static/img/"+e.srcCode+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})])]),s("td",{attrs:{width:"90"}},[s("div",{staticClass:"big-font",staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.srcCode))]),e.srcName?s("span",{staticClass:"text-main"},["unknown"!==e.srcName?s("span",[t._v(t._s(e.srcName))]):s("span",[s("pl-wallet-addr",{staticClass:"x-small-font",attrs:{complete:!1,address:e.srcIssuer,length:4,"show-copy":!1}})],1)]):t._e()]),s("td",{staticClass:"text-right"},[s("div",{staticClass:"big-font"},[t._v("\n                      "+t._s(t._f("currency")(e.srcAmount,"",e.precise))+"\n                    ")]),s("div",{staticClass:"text-main small-font"},[t._v("\n                      "+t._s(t._f("currency")(e.price,"",e.precise))+" "+t._s(t.assetCode)+"\n                    ")])])])])])])}),0)])],1),s("pl-stick",{attrs:{"offset-bottom":0}},[s("van-button",{staticClass:"plat-btn",attrs:{size:"large",loading:t.loading,disabled:t.disabledBtn,type:"primary"},domProps:{textContent:t._s(t.$t("common.exchange"))},on:{click:t.showPasswordDialog}})],1)],1),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[s("van-picker",{ref:"exchangePicker",attrs:{"show-toolbar":"",columns:t.balances,"value-key":"code"},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1),s("password-dialog",{ref:"pwdDialog",on:{done:t.exchange}})],1)},ga=[],ba={mixins:[d],components:{passwordDialog:nt["a"]},data:function(){return{showPop:!1,amount:"",asset:{},assetCode:"",assetIssuer:"",loading:!1,showPicker:!1,loadingPath:!1,paths:{},selectPath:"",errorMsg:"",timer:""}},computed:{currentAccount:function(){return this.$store.state.account},balances:function(){var t=this.$store.state.account;return t?this.$store.state.balances[t.address]:[]},disabledBtn:function(){return!(this.assetCode&&this.amount&&this.selectPath)},errMsg:function(){return{"Bad Request":"Bad Request",NotFoundError:this.$t("exchange.notFoundError"),"Network Error":this.$t("transaction.networkError")}}},watch:{amount:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.getExchangePath()},700)}},methods:{show:function(t){this.resetData(),this.asset=t,this.assetCode=t.code,this.assetIssuer=t.issuer,this.showPop=!0},isEmptyPaths:function(){if(this.paths){var t=Object.keys(this.paths);return t.length<=0}return!0},resetData:function(){this.amount="",this.paths={},this.selectPath=""},close:function(){this.showPop=!1},pathClick:function(t){this.selectPath=t},getErrMsg:function(t){return t&&this.errMsg[t]?this.errMsg[t]:null},getExchangePath:function(){var t=this;this.paths={},this.selectPath="",this.errorMsg="",this.assetCode&&this.amount&&(this.loadingPath=!0,this.$wallet.getExchangePath(this.currentAccount.address,this.currentAccount.address,this.asset.code,this.asset.issuer,this.amount).then(function(e){var s=t.getConfigAssetsMap(t.currentAccount.type);e.records.forEach(function(e){var a={origin:e,dstCode:"native"==e.destination_asset_type?"XLM":e.destination_asset_code,dstIssuer:"native"==e.destination_asset_type?"":e.destination_asset_issuer,srcAmount:parseFloat(e.source_amount),srcCode:"native"==e.source_asset_type?"XLM":e.source_asset_code,srcIssuer:"native"==e.source_asset_type?"":e.source_asset_issuer};a.precise="BTC"==a.srcCode?6:3,a.price=a.srcAmount/e.destination_amount;var i=s[a.srcCode+(a.srcIssuer||"")];i&&(a.srcLogo=i.logo||"",a.srcName=i.name);var o=!0;if(a.srcAmount<=0)o=!1;else{var n=t.getColumnIndexByValue(a.srcCode,a.srcIssuer);t.balances[n].value-a.srcAmount<0&&(o=!1),a.srcCode==a.dstCode&&a.srcIssuer==a.dstIssuer&&a.price>=1&&(o=!1)}o&&(t.paths[a.srcCode+"."+a.srcIssuer]?t.paths[a.srcCode+"."+a.srcIssuer].srcAmount>a.srcAmount&&(t.paths[a.srcCode+"."+a.srcIssuer]=a):t.paths[a.srcCode+"."+a.srcIssuer]=a,t.$forceUpdate())}),t.isEmptyPaths()&&(t.errorMsg=t.$t("exchange.pathEmpty")),t.loadingPath=!1}).catch(function(e){t.errorMsg=t.getErrMsg(e),t.loadingPath=!1}))},getColumnIndexByValue:function(t,e){for(var s=this.balances,a=0,i=0;i<s.length;i++){var o=s[i];if(o.code===t&&o.issuer===e){a=i;break}}return a},toCurrencyType:function(){var t=this;this.showPicker=!0,this.$nextTick(function(){t.$refs.exchangePicker.setColumnIndex(0,t.getColumnIndexByValue(t.assetCode,t.assetIssuer))})},onCancel:function(){this.showPicker=!1},onConfirm:function(t){this.assetCode=t.code,this.assetIssuer=t.issuer,this.asset=t,this.getExchangePath(),this.showPicker=!1},showPasswordDialog:function(){this.$refs.pwdDialog.show()},exchange:function(t){var e=this;this.loading=!0;var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular",message:this.$t("exchange.converting")});this.$wallet.pathPayment(this.paths[this.selectPath],this.currentAccount.address,R["a"].decryptAES(this.currentAccount.secret,t)).then(function(t){t&&(s.message=e.$t("transaction.transactionBroadcastSuccess"),setTimeout(function(){s.clear(),e.close(),e.$emit("done")},1e3)),e.loading=!1}).catch(function(t){console.info(t);var a=e.getErrMsg(t);a?e.$toast(a):e.$toast(e.$t("exchange.exchangeFail")),setTimeout(function(){s.clear()},2e3),e.loading=!1})}}},ya=ba,wa=(s("0f12"),Object(m["a"])(ya,va,ga,!1,null,"df7f2b3a",null));wa.options.__file="stellar-exchange.vue";var xa=wa.exports,$a=s("f3ea"),Ca=(s("d3af"),s("2ad9")),_a={mixins:[Ca["a"]],computed:{style:function(){return this.animationDuration?{transition:"".concat(this.duration,"ms"),transform:"translate3d(0,".concat(this.height,"px, 0)")}:{}}}},ka={components:{receiveAsset:Wt,sendTransaction:Ie,txHistory:Ds,txDetail:ma,pullRefresh:_a,addressAdd:$a["a"],stellarExchange:xa},data:function(){return{showPop:!1,asset:{},tabActive:0,isLoading:!1,animationDuration:300}},computed:{balance:function(){return this.getBalance(this.asset.code,this.asset.issuer).value},reNavTitle:function(){return this.asset.code+this.$t("common.receivables")},isStellar:function(){return this.$store.state.account.type===l["a"].stellar}},methods:{isShowMarket:function(t,e,s){return Object(w["a"])(t,e,s)>0},addAddress:function(t){this.$refs.addressAdd.show(t)},showDetail:function(t){this.$refs.txDetail.show(t)},changeTab:function(){this.$refs.list&&this.$refs.list.reload()},show:function(t){var e=this;this.$refs.list&&this.$refs.list.reload(),this.asset=t,this.$refs["contentBlock"]&&setTimeout(function(){e.$refs["contentBlock"].$el.scrollTop=0},300),this.showPop=!0,setTimeout(function(){e.$refs["contentBlock"].$el.onscroll=function(){e.$refs["contentBlock"].$el.scrollTop>0?e.animationDuration=0:e.animationDuration=300}},800)},onRefresh:function(){var t=this;this.isLoading=!0,this.$refs["rxHistory"]&&this.$refs["rxHistory"].getHistory(),this.$store.dispatch("setBalances",this.$store.state.account.address).then(function(){t.isLoading=!1}).catch(function(e){console.info(e),t.isLoading=!1})},removeStyle:function(){this.$refs["pullRefresh"]&&(this.$refs["pullRefresh"].$el.querySelector(".van-pull-refresh__track").style="")},close:function(){this.showPop=!1},transfer:function(){this.$refs.sendTransaction.show(this.asset)},exchange:function(){this.$refs.stellarExchange.show(this.asset)},toScan:function(){var t=this;B["a"].scan(this).then(function(e){e&&e.address&&""!==e.address?t.$refs.sendTransaction.show(t.asset,e.address,e.transferAmt):t.$toast(t.$t("assets.scanFailTip"))},function(e){t.$toast(e)})},receiveAsset:function(){this.$refs.receiveAsset.showPopup(this.assetCode)}}},Aa=ka,Sa=(s("98c1"),Object(m["a"])(Aa,Ht,Dt,!1,null,"a89f4064",null));Sa.options.__file="asset-detail.vue";var Ta=Sa.exports,Pa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("assets.addAsset")},on:{"click-left":t.close,"click-right":t.addToken}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),t.showAddBtn?s("span",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.$t("common.add")))]):t._e()]),s(t.type,{ref:"component",tag:"component"})],1),s("token-add",{ref:"tokenAdd",on:{reload:t.reload}}),s("token-add-stellar",{ref:"tokenAddStellar",on:{reload:t.reload}})],1)},Ha=[],Da=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-search",{attrs:{placeholder:t.$t("common.searchPlaceholder")},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("pl-content-block",{attrs:{offsetTop:112}},t._l(t.filterBy(t.assets,t.searchValue,"code"),function(e,a){return s("div",{key:a,staticClass:"item-block assset-add-block"},[s("table",{staticStyle:{width:"100%","table-layout":"fixed"}},[s("tr",[s("td",{attrs:{width:"40px"}},[s("span",{staticClass:"img-icon"},[e.logo?s("img",{attrs:{src:e.logo}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})])]),s("td",[s("div",{staticClass:"text-ellipsis"},[s("span",[t._v(t._s(e.code))]),e.name?s("span",{staticClass:"small-font text-muted"},[t._v(" \n                    "+t._s(e.name)+"\n                  ")]):t._e()]),e.issuer?s("div",[s("pl-wallet-addr",{staticClass:"small-font text-muted",attrs:{complete:!1,"show-copy":!1,address:e.issuer}})],1):t._e()]),s("td",{attrs:{width:"50"}},[e.canSelect?s("van-switch",{attrs:{size:"25px"},on:{change:function(s){t.changeAssets(e)}},model:{value:e.selected,callback:function(s){t.$set(e,"selected",s)},expression:"asset.selected"}}):t._e()],1)])])])}),0)],1)},Ma=[],Ea={mixins:[d],data:function(){return{searchValue:"",assets:{},curreAcctountAddress:""}},computed:{listAsset:function(){var t=this.$store.state.balances[this.$store.state.account.address];return t.map(function(t){return t.code})}},methods:{init:function(){var t=this.$store.state.account;this.searchValue="",this.curreAcctountAddress=t.address,this.assets=this.getAssets(t.type)},getAssets:function(t){var e=c["a"][t],s=[{code:e.symbol,canSelect:!1}],a=this.$collecitons.asset.findByAddress(this.curreAcctountAddress),i=a.map(function(t){return t.code}).join(","),o=this.getConfigAssets(t);return o.forEach(function(t){var e=-1!==i.indexOf(t.code),a=Object(r["a"])({},t,{canSelect:!0,selected:e});s.push(a)}),s},changeAssets:function(t){if(t.selected)this.$collecitons.asset.insertAsset({address:this.curreAcctountAddress,code:t.code,issuer:t.issuer,name:t.name});else if(!1===t.selected){var e={code:t.code,address:this.curreAcctountAddress};this.$collecitons.asset.removAssetByAddressAndName(e)}this.$store.dispatch("setBalances",this.curreAcctountAddress)}}},Oa=Ea,Ia=(s("d6ce"),Object(m["a"])(Oa,Da,Ma,!1,null,"920deac8",null));Ia.options.__file="assets-add-ethereum-pop.vue";var Fa=Ia.exports,Na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assets-add"},[s("div",[s("van-search",{attrs:{placeholder:t.$t("common.searchPlaceholder")},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("pl-content-block",{attrs:{offsetTop:112}},t._l(t.filterBy(t.assets,t.searchValue,"code"),function(e,a){return s("div",{key:a,staticClass:"item-block assset-add-block"},[s("table",{staticStyle:{width:"100%","table-layout":"fixed"}},[s("tr",[s("td",{attrs:{width:"40px"}},[s("span",{staticClass:"img-icon"},[e.logo?s("img",{attrs:{src:e.logo}}):"XRP"===e.code?s("img",{attrs:{src:"static/img/"+e.code+"-1@3x.png"}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png"}})])]),s("td",[s("div",{staticClass:"text-ellipsis"},[s("span",[t._v(t._s(e.code))]),e.name?s("span",{staticClass:"small-font text-muted"},[t._v(" \n                        "+t._s(e.name)+"\n                      ")]):t._e()]),e.issuer?s("div",{staticClass:"text-ellipsis"},[s("pl-wallet-addr",{staticClass:"small-font text-muted",attrs:{complete:!1,"show-copy":!1,address:e.issuer}})],1):t._e()]),s("td",{attrs:{width:"50"}},[e.canSelect?s("van-switch",{attrs:{size:"25px",value:e.selected,loading:e.loading,disabled:!e.loading&&t.disabled},on:{input:function(s){t.changeAssets(e)}}}):t._e()],1)])])])}),0)],1),s("password-dialog",{ref:"pwdDialog",on:{done:t.changeTrust}})],1)},Va=[],Ba={mixins:[d],components:{passwordDialog:nt["a"]},data:function(){return{searchValue:"",assets:{},curreAcctountAddress:"",disabled:!1}},computed:{errMsg:function(){return{op_invalid_limit:this.$t("assets.changeTrustLowReserve"),tecNO_LINE_INSUF_RESERVE:this.$t("assets.changeTrustLowReserveXRP"),tecNO_DST:this.$t("assets.changeTrustNoIssuer")}}},methods:{init:function(){var t=this.$store.state.account;this.searchValue="",this.curreAcctountAddress&&this.curreAcctountAddress===t.address||(this.curreAcctountAddress=t.address,this.assets=this.getAssets(t.type))},getAssets:function(t){var e=c["a"][t],s=[{code:e.symbol,canSelect:!1,loading:!1}],a=this.$store.state.balances[this.curreAcctountAddress],i=a.map(function(t){return t.code+(t.issuer||"")}).join(","),o=this.getConfigAssets(t);return o.forEach(function(t){var e=-1!==i.indexOf(t.code+t.issuer),a=Object(r["a"])({},t,{canSelect:!0,selected:e,loading:!1});s.push(a)}),s},changeAssets:function(t){var e=this.getBalance(t.code,t.issuer).value;e=new y.a(e),t.selected&&e.gt(0)?this.$toast(this.$t("assets.trustRemoveTip")):this.$store.state.passwordMap[this.curreAcctountAddress]?this.changeTrust(this.$store.state.passwordMap[this.curreAcctountAddress],t):this.$refs["pwdDialog"].show(t)},getErrMsg:function(t){var e=this.$t("assets.changeTrustFail");return t&&this.errMsg[t.resultCode]?this.errMsg[t.resultCode]:e},changeTrust:function(t,e){var s=this,a={};a[this.curreAcctountAddress]=t,this.$store.dispatch("setPasswordMap",a);var i="0";e.selected||(i="100000000000");var o=R["a"].decryptAES(this.$store.state.account.secret,t);return e.loading=!0,this.disabled=!0,window.canBack=!1,this.$wallet.changeTrust(o,e.code,e.issuer,i).then(function(t){console.info(t),t&&"tesSUCCESS"===t.resultCode?s.checkedTrustState(e.selected,e).then(function(){e.selected=!e.selected,e.loading=!1,s.disabled=!1,window.canBack=!0,s.$store.dispatch("setBalances",s.curreAcctountAddress)}):(s.$toast(s.getErrMsg(t)),e.loading=!1,s.disabled=!1,window.canBack=!0)}).catch(function(t){console.info(t),s.$toast(s.$t("assets.changeTrustFail")),e.loading=!1,s.disabled=!1,window.canBack=!0})},checkedTrustState:function(){var t=Object(Ut["a"])(regeneratorRuntime.mark(function t(e,s){var a,i,o,n,r,c,l,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=!0,i=0,o=20;case 3:if(!a){t.next=31;break}return t.next=6,this.$wallet.getInstance().getTrustlines(this.$store.state.account.address);case 6:if(n=t.sent,n&&0!==n.length){t.next=10;break}return a=!e,t.abrupt("continue",3);case 10:if(!e){t.next=26;break}r=!1,c=0,l=n.length;case 13:if(!(c<l)){t.next=23;break}if(d=n[c],d.specification.counterparty!==s.issuer||d.specification.currency!==s.code){t.next=20;break}if(r=!0,"0"!==d.specification.limit){t.next=20;break}return a=!1,t.abrupt("break",23);case 20:c++,t.next=13;break;case 23:a&&!r&&(a=!1),t.next=27;break;case 26:a=!n.some(function(t){return t.specification.counterparty===s.issuer&&t.specification.currency===s.code&&"0"!==t.specification.limit});case 27:i++,i===o&&(a=!1),t.next=3;break;case 31:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}()}},Ra=Ba,La=(s("3ff5"),Object(m["a"])(Ra,Na,Va,!1,null,"032cb699",null));La.options.__file="assets-add-ripple-pop.vue";var ja=La.exports,Wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assets-add"},[s("div",[s("van-search",{attrs:{placeholder:t.$t("common.searchPlaceholder")},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("pl-content-block",{attrs:{offsetTop:112}},[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(t.filterBy(t.assets,t.searchValue,"code"),function(e,a){return s("div",{key:a,staticClass:"item-block assset-add-block"},[s("table",{staticStyle:{width:"100%","table-layout":"fixed"}},[s("tr",[s("td",{attrs:{width:"40px"}},[s("span",{staticClass:"img-icon"},[e.logo?s("img",{attrs:{src:e.logo}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png"}})])]),s("td",[s("div",{staticClass:"text-ellipsis"},[s("span",[t._v(t._s(e.code))]),e.name?s("span",{staticClass:"small-font text-muted"},[t._v(" \n                        "+t._s(e.name)+"\n                      ")]):t._e()]),e.issuer?s("div",{staticClass:"text-ellipsis"},[s("pl-wallet-addr",{staticClass:"small-font text-muted",attrs:{complete:!1,"show-copy":!1,address:e.issuer}})],1):t._e()]),s("td",{attrs:{width:"50"}},[e.canSelect?s("van-switch",{attrs:{size:"25px",value:e.selected,loading:e.loading,disabled:!e.loading&&t.disabled},on:{input:function(s){t.changeAssets(e)}}}):t._e()],1)])])])}),0)],1)],1),s("password-dialog",{ref:"pwdDialog",on:{done:t.changeTrust}})],1)},za=[],Ya=s("439f"),Xa={mixins:[d],components:{passwordDialog:nt["a"]},data:function(){return{searchValue:"",assets:{},curreAcctountAddress:"",disabled:!1,isLoading:!1}},computed:{errMsg:function(){return{op_invalid_limit:this.$t("assets.changeTrustLowReserve"),op_low_reserve:this.$t("assets.changeTrustLowReserve"),op_no_issuer:this.$t("assets.changeTrustNoIssuer")}}},methods:{init:function(){var t=this.$store.state.account;this.searchValue="",this.curreAcctountAddress=t.address,this.assets=this.getAssets(t.type)},getAssets:function(t){var e=c["a"][t],s=[{code:e.symbol,canSelect:!1,loading:!1}],a=this.$store.state.balances[this.curreAcctountAddress],i=a.map(function(t){return t.code+(t.issuer||"")}).join(","),o=this.getConfigAssets(t);return o.forEach(function(t){var e=-1!==i.indexOf(t.code+t.issuer);t.logo=t.logo&&""!==t.logo?t.logo:"static/img/unknown.png";var a=Object(r["a"])({},t,{canSelect:!0,selected:e,loading:!1});s.push(a)}),s},changeAssets:function(t){var e=this.getBalance(t.code,t.issuer).value;e=new y.a(e),t.selected&&e.gt(0)?this.$toast(this.$t("assets.trustRemoveTip")):this.$store.state.passwordMap[this.curreAcctountAddress]?this.changeTrust(this.$store.state.passwordMap[this.curreAcctountAddress],t):this.$refs["pwdDialog"].show(t)},getErrMsg:function(t){var e=this.$t("assets.changeTrustFail");if(t&&t.response&&t.response.data&&t.response.data.extras&&t.response.data.extras.result_codes){var s=t.response.data.extras.result_codes;return this.errMsg[s.operations[0]]?this.errMsg[s.operations[0]]:e}return e},changeTrust:function(t,e){var s=this,a={};a[this.curreAcctountAddress]=t,this.$store.dispatch("setPasswordMap",a);var i="0";e.selected||(i="100000000000");var o=this.$store.state.account,n=R["a"].decryptAES(o.secret,t);return e.loading=!0,this.disabled=!0,window.canBack=!1,this.$wallet.changeTrust(n,e.code,e.issuer,i).then(function(t){console.info(t),e.selected=!e.selected,s.$store.dispatch("setBalances",s.curreAcctountAddress),e.selected||s.$collecitons.tradepair.findAndRemoveTradepair(o.type,o.address,e.code,e.issuer),e.loading=!1,s.disabled=!1,window.canBack=!0}).catch(function(t){console.info(t),s.$toast(s.getErrMsg(t)),e.loading=!1,s.disabled=!1,window.canBack=!0})},onRefresh:function(){var t=this;this.$api.getTokenCofing().then(function(e){if(e){var s={version:t.$store.state.setting.tokenConfig.version,config:e};t.$store.dispatch("setTokenConfig",s),Ya["a"].set(e),t.init(),t.isLoading=!1}else t.isLoading=!1}).catch(function(){t.isLoading=!1})}}},qa=Xa,Ka=(s("dd6b"),Object(m["a"])(qa,Wa,za,!1,null,"6fafa280",null));Ka.options.__file="assets-add-stellar-pop.vue";var Ua=Ka.exports,Qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-search",{attrs:{placeholder:t.$t("common.searchPlaceholder")},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("pl-content-block",{attrs:{offsetTop:112}},t._l(t.filterBy(t.assets,t.searchValue,"code"),function(e,a){return s("div",{key:a,staticClass:"item-block assset-add-block"},[s("table",{staticStyle:{width:"100%","table-layout":"fixed"}},[s("tr",[s("td",{attrs:{width:"40px"}},[s("span",{staticClass:"img-icon"},[e.logo?s("img",{attrs:{src:e.logo}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png"}})])]),s("td",[s("div",{staticClass:"text-ellipsis"},[s("span",[t._v(t._s(e.code))]),e.name?s("span",{staticClass:"small-font text-muted"},[t._v(" \n                    "+t._s(e.name)+"\n                  ")]):t._e()]),e.issuer?s("div",[s("pl-wallet-addr",{staticClass:"small-font text-muted",attrs:{complete:!1,"show-copy":!1,address:e.issuer}})],1):t._e()]),s("td",{attrs:{width:"50"}},[e.canSelect?s("van-switch",{attrs:{size:"25px"},on:{change:function(s){t.changeAssets(e)}},model:{value:e.selected,callback:function(s){t.$set(e,"selected",s)},expression:"asset.selected"}}):t._e()],1)])])])}),0)],1)},Ga=[],Za={mixins:[d],data:function(){return{searchValue:"",assets:{},curreAcctountAddress:""}},methods:{init:function(){var t=this.$store.state.account;this.curreAcctountAddress=t.address,this.assets=this.getAssets(t.type)},getAssets:function(t){var e=c["a"][t],s=[{code:e.symbol,canSelect:!1}],a=this.$collecitons.asset.findByAddress(this.curreAcctountAddress),i=a.map(function(t){return t.code}).join(","),o=this.getConfigAssets(t);return o.forEach(function(t){var e=-1!==i.indexOf(t.code),a=Object(r["a"])({},t,{canSelect:!0,selected:e});s.push(a)}),s},changeAssets:function(t){if(t.selected)this.$collecitons.asset.insertAsset({address:this.curreAcctountAddress,code:t.code,issuer:t.issuer,name:t.name});else if(!1===t.selected){var e={code:t.code,address:this.curreAcctountAddress};this.$collecitons.asset.removAssetByAddressAndName(e)}this.$store.dispatch("setBalances",this.curreAcctountAddress)}}},Ja=Za,ti=(s("6a3d"),Object(m["a"])(Ja,Qa,Ga,!1,null,"660c37d6",null));ti.options.__file="assets-add-btcion-pop.vue";var ei=ti.exports,si=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("common.add")},on:{"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("van-cell-group",{staticClass:"margin-top item-block"},[s("van-field",{attrs:{maxlength:"80",placeholder:t.$t("assets.contractName"),clearable:"",name:"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),s("van-field",{attrs:{maxlength:"80",placeholder:t.$t("assets.contractSymbol"),clearable:"",name:"symbol"},model:{value:t.form.symbol,callback:function(e){t.$set(t.form,"symbol",e)},expression:"form.symbol"}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.assetExist,expression:"!assetExist"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.contractAssetExist")))]),s("van-field",{attrs:{maxlength:"36",type:"number",placeholder:t.$t("assets.contractDecimals"),clearable:"",name:"decimals"},model:{value:t.form.decimals,callback:function(e){t.$set(t.form,"decimals",e)},expression:"form.decimals"}}),s("van-field",{staticClass:"no-border",attrs:{type:"textarea",autosize:"",maxlength:"80",placeholder:t.$t("assets.contractAddress"),clearable:"",name:"address"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.contractAddressValid")))]),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressExist,expression:"!addressExist"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.contractAddressExist")))])],1),s("div",{staticClass:"single-btn",staticStyle:{"margin-top":"30px"}},[s("van-button",{attrs:{size:"large",round:"",loading:t.loading,type:"primary"},on:{click:t.saveToken}},[t._v(t._s(t.$t("common.save")))])],1)],1)},ai=[],ii={data:function(){return{showPop:!1,form:{address:"",name:"",symbol:"",decimals:""},addressValid:!0,addressExist:!0,assetExist:!0,loading:!1}},watch:{"form.address":function(){var t=this;if(this.form.address)if(this.addressExist=!0,c["a"][l["a"].ethereum].wallet.isValidAddress(this.form.address)){this.addressValid=!0;var e=c["a"][l["a"].ethereum].tokens();Object.keys(e).forEach(function(s){var a=e[s];a.address===t.form.address.toLocaleLowerCase()&&(t.addressExist=!1)})}else this.addressValid=!1;else this.addressExist=!0,this.addressValid=!0},"form.symbol":function(){if(this.form.symbol){var t=c["a"][l["a"].ethereum].tokens();t&&t[this.form.symbol]?this.assetExist=!1:this.assetExist=!0}else this.assetExist=!0}},computed:{errMsg:function(){return{"Contract source code not verified":this.$t("assets.contractERC-20Valid")}}},methods:{show:function(){this.resetForm(),this.showPop=!0},close:function(){this.showPop=!1},resetForm:function(){this.form.address="",this.form.name="",this.form.symbol="",this.form.decimals=""},saveAssetConfig:function(t){var e={address:this.form.address,symbol:this.form.symbol,name:this.form.name,decimals:Number(this.form.decimals),type:l["a"].ethereum,abi:t};this.$collecitons.assetConfig.insertAssetConfig(e)},setTokens:function(t){var e=Ya["a"].get(l["a"].ethereum);e[this.form.symbol]={symbol:this.form.symbol,name:this.form.name,displayName:this.form.name,decimals:Number(this.form.decimals),address:this.form.address.toLocaleLowerCase(),abi:t},Ya["a"].set(e)},saveToken:function(){var t=this;this.form.address?this.form.name?this.form.symbol?this.form.decimals?this.addressValid&&this.addressExist&&this.assetExist&&(this.loading=!0,c["a"][l["a"].ethereum].wallet.getContractAbi(this.form.address).then(function(e){e&&e.length>0?(t.saveAssetConfig(e),t.setTokens(e),t.loading=!1,t.$emit("reload"),t.close()):(t.loading=!1,t.$toast(t.$t("assets.contractAddressFail")))}).catch(function(e){t.loading=!1,e&&t.errMsg[e]?t.$toast(t.errMsg[e]):t.$toast(e)})):this.$toast(this.$t("assets.contractDecimalsTip")):this.$toast(this.$t("assets.contractSymbolTip")):this.$toast(this.$t("assets.contractNameTip")):this.$toast(this.$t("assets.contractAddressTip"))}}},oi=ii,ni=(s("e1c7"),Object(m["a"])(oi,si,ai,!1,null,"0a8710aa",null));ni.options.__file="token-add-pop.vue";var ri=ni.exports,ci=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("common.add")},on:{"click-left":t.close}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("van-cell-group",{staticClass:"margin-top item-block"},[s("van-field",{attrs:{maxlength:"80",placeholder:t.$t("assets.assetCode"),clearable:"",name:"name"},model:{value:t.form.symbol,callback:function(e){t.$set(t.form,"symbol",e)},expression:"form.symbol"}}),s("van-field",{attrs:{maxlength:"80",placeholder:t.$t("assets.contractAssetExist"),clearable:"",name:"symbol"},model:{value:t.form.issuer,callback:function(e){t.$set(t.form,"issuer",e)},expression:"form.issuer"}}),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.symbolValid,expression:"!symbolValid"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.assetCodeValid")))]),s("small",{directives:[{name:"show",rawName:"v-show",value:t.assetExist,expression:"assetExist"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.assetExit")))]),s("small",{directives:[{name:"show",rawName:"v-show",value:!t.addressValid,expression:"!addressValid"}],staticClass:"text-danger padding-left"},[t._v(t._s(t.$t("assets.addressValid")))])],1),s("div",{staticClass:"single-btn",staticStyle:{"margin-top":"30px"}},[s("van-button",{attrs:{size:"large",round:"",loading:t.loading,type:"primary"},on:{click:t.saveToken}},[t._v(t._s(t.$t("common.save")))])],1)],1)},li=[],di={data:function(){return{showPop:!1,form:{symbol:"",issuer:"",decimals:"4"},symbolValid:!0,addressValid:!0,assetExist:!1,loading:!1}},watch:{"form.issuer":function(){this.form.issuer?(this.addressValid=c["a"][l["a"].stellar].wallet.isValidAddress(this.form.issuer),this.isAssetExist()):this.addressValid=!0},"form.symbol":function(){if(this.form.symbol){var t=/^[0-9a-zA-Z_]{1,}$/;this.symbolValid=t.test(this.form.symbol),this.isAssetExist()}else this.symbolValid=!1}},computed:{errMsg:function(){return{"Contract source code not verified":this.$t("assets.contractERC-20Valid")}}},methods:{show:function(){this.resetForm(),this.showPop=!0},close:function(){this.showPop=!1},resetForm:function(){this.form.issuer="",this.form.symbol=""},isAssetExist:function(){if(this.addressValid&&this.symbolValid){var t=c["a"][l["a"].stellar].tokens(),e=this.form,s=!1;Object.keys(t).forEach(function(a){var i=t[a];i.assets.forEach(function(t){t.code===e.symbol&&t.issuer.toLocaleLowerCase()===e.issuer.toLocaleLowerCase()&&(s=!0)})}),this.assetExist=s}},saveAssetConfig:function(){var t={address:this.form.issuer,symbol:this.form.symbol,name:"",decimals:Number(this.form.decimals),type:l["a"].stellar};this.$collecitons.assetConfig.insertAssetConfig(t)},setTokens:function(){var t=Ya["a"].get(l["a"].stellar);t[this.form.symbol]={name:"",logo:"",assets:[{code:this.form.symbol,issuer:this.form.issuer,list:!0}]},Ya["a"].set(t)},saveToken:function(){this.form.issuer?this.form.symbol?(this.loading=!0,this.saveAssetConfig(),this.setTokens(),this.loading=!1,this.$emit("reload"),this.close()):this.$toast(this.$t("assets.assetCodeTip")):this.$toast(this.$t("assets.addressValid"))}}},ui=di,hi=(s("aef9"),Object(m["a"])(ui,ci,li,!1,null,"17104d41",null));hi.options.__file="token-add-stellar-pop.vue";var pi,fi=hi.exports,mi={data:function(){return{showPop:!1,ethereum:l["a"].ethereum,stellar:l["a"].stellar}},components:(pi={},Object(Xt["a"])(pi,l["a"].bitcoin,ei),Object(Xt["a"])(pi,l["a"].ethereum,Fa),Object(Xt["a"])(pi,l["a"].stellar,Ua),Object(Xt["a"])(pi,l["a"].ripple,ja),Object(Xt["a"])(pi,"tokenAdd",ri),Object(Xt["a"])(pi,"tokenAddStellar",fi),pi),computed:{type:function(){return this.$store.state.account.type?this.$store.state.account.type:""}},methods:{show:function(){var t=this;this.showPop=!0,this.$nextTick(function(){t.$refs["component"].init()})},showAddBtn:function(){return this.type()===this.ethereum||this.type()===this.stellar},addToken:function(){switch(this.type){case l["a"].ethereum:this.$refs.tokenAdd.show();break;case l["a"].stellar:this.$refs.tokenAddStellar.show();break;default:break}},close:function(){this.showPop=!1},reload:function(){this.$refs["component"].init()}}},vi=mi,gi=(s("9b53"),Object(m["a"])(vi,Pa,Ha,!1,null,null,null));gi.options.__file="assets-add-pop.vue";var bi=gi.exports,yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trade",on:{click:function(e){return e.stopPropagation(),t.bindClick(e)}}},[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{on:{"click-left":function(e){t.close()}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(t.tradepair.baseCode))]),s("span",[t._v("/")]),s("span",[t._v(t._s(t.tradepair.counterCode))])]),s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})]),s("i",{staticClass:"ultfont ult-plus",attrs:{slot:"right"},on:{click:function(e){return e.stopPropagation(),t.toAddTradepair(e)}},slot:"right"})]),s("pl-content-block",{attrs:{offsetTop:46}},[s("div",{staticStyle:{"padding-top":"10px","padding-left":"20px","text-align":"center"}},[s("span",{staticClass:"bs-btn buy-btn",class:t.bsFlag,domProps:{textContent:t._s(t.$t("trade.buying"))},on:{click:function(e){e.stopPropagation(),t.toBs("buy")}}}),s("span",{staticClass:"bs-btn sell-btn",class:t.bsFlag,domProps:{textContent:t._s(t.$t("trade.selling"))},on:{click:function(e){e.stopPropagation(),t.toBs("sell")}}})]),s("div",{on:{touchstart:function(e){return e.stopPropagation(),t.onTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.onTouchMove(e)},touchend:function(e){return e.stopPropagation(),t.onTouchEnd(e)},touchcancel:function(e){return e.stopPropagation(),t.onTouchEnd(e)}}},[s("div",{staticClass:"bs-block item-block"},[s("div",{staticClass:"text-muted b-white item"},[s("span",[t._v(t._s(t.$t("trade.youAsset"))+"   "+t._s(t._f("cutTail")(t.balances[t.bsCode+t.bsIssuer]))+" "+t._s(t.bsCode))])]),s("div",{staticClass:"item"},[s("van-row",[s("van-col",{staticClass:"small-font",attrs:{span:"11"}},["buy"===t.bsFlag?s("span",{domProps:{textContent:t._s(t.$t("trade.buyPrice"))}}):"sell"===t.bsFlag?s("span",{domProps:{textContent:t._s(t.$t("trade.sellPrice"))}}):t._e(),t._v("("+t._s(t.tradepair.counterCode)+")\n            ")]),s("van-col",{staticClass:"small-font",attrs:{span:"11",offset:"2"}},[t._v("\n              "+t._s(t.$t("trade.amount"))+"("+t._s(t.tradepair.baseCode)+")\n            ")])],1),s("van-row",[s("van-col",{attrs:{span:"11"}},["buy"===t.bsFlag?s("van-field",{staticClass:"small-font text-primary",staticStyle:{background:"#f1f8fb"},attrs:{type:"number",placeholder:t.$t("trade.buyPrice")+"("+t.tradepair.counterCode+")"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}):t._e(),"sell"===t.bsFlag?s("van-field",{staticClass:"small-font text-primary",staticStyle:{background:"#f1f8fb"},attrs:{type:"number",placeholder:t.$t("trade.sellPrice")+"("+t.tradepair.counterCode+")"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}}):t._e()],1),s("van-col",{attrs:{span:"11",offset:"2"}},[s("van-field",{staticClass:"small-font text-primary",staticStyle:{background:"#f1f8fb"},attrs:{type:"number",placeholder:t.$t("trade.amount")+"("+t.tradepair.baseCode+")"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",t._n(e))},expression:"form.amount"}})],1)],1)],1),s("div",{staticClass:"item"},[s("van-row",[s("van-col",{staticClass:"small-font text-muted",attrs:{span:"11"},domProps:{textContent:t._s(t.$t("trade.estVal"))}})],1),s("van-row",[s("van-col",{staticClass:"text-muted",attrs:{span:"11"}},[t._v("\n              "+t._s(t._f("cutTail")(t.expectedTradePrice))+" "+t._s(t.tradepair.counterCode)+"\n            ")]),s("van-col",{attrs:{span:"11",offset:"2"}},[s("vue-slider",{staticStyle:{position:"relative",top:"-12px"},attrs:{debug:!1,height:2,tooltip:!1,interval:t.step,max:t.maxVal},on:{"update:interval":function(e){t.step=e},"update:max":function(e){t.maxVal=e}},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],1)],1)],1)]),s("div",{staticClass:"single-btn margin-top margin-bottom"},["buy"===t.bsFlag?s("van-button",{attrs:{size:"large",round:"",type:"primary"},on:{click:t.toInputPassword}},[t._v(t._s(t.$t("trade.buying"))+t._s(t.tradepair.baseCode))]):"sell"===t.bsFlag?s("van-button",{attrs:{size:"large",round:"",type:"danger"},on:{click:t.toInputPassword}},[t._v(t._s(t.$t("trade.selling"))+t._s(t.tradepair.baseCode))]):t._e()],1),s("van-tabs",{attrs:{sticky:""},on:{change:t.tabChange},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[s("van-tab",{attrs:{title:t.$t("trade.marketDepth")}},[s("market-dept",{ref:"marketDept",attrs:{tradePair:t.tradepair},on:{viewLastBooks:t.viewLastBooks,viewMyBooks:t.viewMyBooks,"update:tradePair":function(e){t.tradepair=e}},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),s("van-tab",{attrs:{title:t.$t("trade.myOffer")}},[s("my-offers",{ref:"myOffers",attrs:{tradePair:t.tradepair,address:t.currentAccount.address,secret:t.currentAccount.secret},on:{"update:tradePair":function(e){t.tradepair=e},"update:address":function(e){t.$set(t.currentAccount,"address",e)},"update:secret":function(e){t.$set(t.currentAccount,"secret",e)},savePasswordInMemory:t.savePasswordInMemory}})],1)],1)],1)])],1),s("trade-last-book-pop",{ref:"tradeLastBookPop"}),s("tradepair-add-pop",{ref:"tradepairAddPop",on:{done:t.pairAddDone}}),s("password-dialog",{ref:"pwdDialog",on:{done:t.tradeTx}})],1)},wi=[],xi=(s("6134"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.title},on:{"click-left":function(e){t.close()}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("pl-content-block",{attrs:{offsetTop:46}},[s("div",{staticClass:"b-white padding trade-offers"},[s("table",{staticStyle:{height:"100%",width:"100%","border-collapse":"collapse"}},[s("tr",[s("th",{staticClass:"small-font text-muted text-left",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(t.$t("trade.amount"))+"("+t._s(t.tradepair.baseCode)+")\n            ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(t.$t("trade.price"))+"("+t._s(t.tradepair.counterCode)+")\n            ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"},domProps:{textContent:t._s(t.$t("trade.direction"))}}),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"},domProps:{textContent:t._s(t.$t("trade.time"))}})]),t._l(t.lastBooks,function(e,a){return s("tr",{key:a},[s("td",{staticClass:"small-font",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(e.baseAmount)+"\n            ")]),s("td",{staticClass:"text-right small-font",class:e.baseIsSeller?"text-success":"text-danger",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(t._f("cutTail")(t._f("currency")(e.price,"","7")))+"\n            ")]),s("td",{staticClass:"text-right small-font",class:e.baseIsSeller?"text-success":"text-danger",attrs:{colspan:"1",rowspan:"1"}},[e.baseIsSeller?s("span",{domProps:{textContent:t._s(t.$t("trade.buying"))}}):s("span",{domProps:{textContent:t._s(t.$t("trade.selling"))}})]),s("td",{staticClass:"text-right small-font text-muted",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(e.ledgerCloseTime)+"\n            ")])])})],2)])])],1)],1)}),$i=[],Ci={round:function(t,e){return t=e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t),t}},_i={data:function(){return{title:"",showPop:!1,lastBooks:[],tradepair:{}}},methods:{show:function(t,e){this.showPop=!0,this.tradepair=t,this.getLastBooks(e)},getLastBooks:function(t){var e=this;this.lastBooks=[];var s={code:this.tradepair.baseCode,issuer:this.tradepair.baseIssuer},a={code:this.tradepair.counterCode,issuer:this.tradepair.counterIssuer},i={limit:50};t?(i.forAccount=t,this.title=this.$t("trade.myExec")):(i.forAccount=null,this.title=this.$t("trade.lastExec")),this.$wallet.queryLastBook(s,a,i).then(function(t){t.forEach(function(t){e.lastBooks.push(e.processLastBooks(t))})}).catch(function(t){console.info(t),e.$toast(e.$t("trade.networkError")),e.lastBooks=[]})},processLastBooks:function(t){var e=Ci.round(t.counter_amount/t.base_amount,2),s=ie()().format("YYYY-MM-DD"),a=ie()(t.ledger_close_time).format("YYYY-MM-DD"),i=ie()(t.ledger_close_time).format("HH:mm:SS");ie()(a).isSame(s)||(i=ie()(t.ledger_close_time).format("MM-DD HH:mm:SS"));var o={baseCode:"native"===t.base_asset_type?"XLM":t.base_asset_code,baseAmount:t.base_amount,baseIsSeller:t.base_is_seller,counterAmount:t.counter_amount,counterCode:"native"===t.counter_asset_type?"XLM":t.counter_asset_code,ledgerCloseTime:i,price:e};return o},close:function(){this.showPop=!1}}},ki=_i,Ai=(s("d1f5"),Object(m["a"])(ki,xi,$i,!1,null,"1bacf9d4",null));Ai.options.__file="trade-last-books-pop.vue";var Si=Ai.exports,Ti=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:t.$t("trade.addTradePair")},on:{"click-left":function(e){t.close()}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("div",{staticClass:"b-white padding exchange-coin border-radius"},[s("van-row",[s("van-col",{attrs:{span:"10"}},[s("div",{staticClass:"text-muted small-font title",domProps:{textContent:t._s(t.$t("trade.baseCoin"))}}),s("van-row",{staticClass:"select-van-row",nativeOn:{click:function(e){t.selectTradepair("1")}}},[s("van-col",{attrs:{span:"5"}},[t.pairs.baseLogo?s("img",{attrs:{src:t.pairs.baseLogo}}):s("img",{attrs:{src:"static/img/"+t.pairs.baseCode+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})]),s("van-col",{attrs:{span:"16"}},[t._v("\n               "),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.pairs.baseCode))])]),s("van-col",{attrs:{span:"3"}},[s("i",{staticClass:"ultfont ult-down small-font"})])],1)],1),s("van-col",{staticClass:"text-center x-large-font",staticStyle:{"margin-top":"32px"},attrs:{span:"4"}},[s("img",{attrs:{src:"static/img/exchange.png",width:"20",height:"20"},on:{click:t.exchangePair}})]),s("van-col",{attrs:{span:"10"}},[s("div",{staticClass:"text-muted small-font title",domProps:{textContent:t._s(t.$t("trade.counterCoin"))}}),s("van-row",{staticClass:"select-van-row",nativeOn:{click:function(e){t.selectTradepair("2")}}},[s("van-col",{attrs:{span:"5"}},[t.pairs.counterLogo?s("img",{attrs:{src:t.pairs.counterLogo}}):s("img",{attrs:{src:"static/img/"+t.pairs.counterCode+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})]),s("van-col",{attrs:{span:"16"}},[t._v("\n               "),s("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.pairs.counterCode))])]),s("van-col",{attrs:{span:"3"}},[s("i",{staticClass:"ultfont ult-down small-font"})])],1)],1)],1),s("div",{staticClass:"btn"},[s("van-button",{attrs:{size:"large",loading:t.loading,disabled:t.disabledBtn,round:"",type:"primary"},domProps:{textContent:t._s(t.$t("common.sure"))},on:{click:function(e){t.sure()}}})],1)],1)],1),s("van-actionsheet",{model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[s("div",{staticClass:"van-hairline--top-bottom van-picker__toolbar b-white"},[s("div",{staticClass:"van-picker__cancel",domProps:{textContent:t._s(t.$t("common.cancelText"))},on:{click:t.onCancel}}),s("div",{staticClass:"van-picker__confirm",domProps:{textContent:t._s(t.$t("common.sure"))},on:{click:t.onConfirm}})]),s("van-radio-group",{model:{value:t.pickerPair,callback:function(e){t.pickerPair=e},expression:"pickerPair"}},[s("van-cell-group",t._l(t.pickerBalances,function(e,a){return s("van-cell",{key:a,attrs:{clickable:""},on:{click:function(s){t.pickerPair=e.code+e.issuer}}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{attrs:{width:"35"}},[s("span",{staticClass:"img-icon"},[e.srcLogo?s("img",{attrs:{src:e.srcLogo}}):s("img",{attrs:{src:"static/img/"+e.code+"@3x.png",onerror:"this.src='static/img/unknown.png'"}})])]),s("td",{attrs:{width:"90"}},[s("div",{staticClass:"big-font",staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.code))]),e.srcName?s("span",{staticClass:"text-main"},["unknown"!==e.srcName?s("span",[t._v(t._s(e.srcName))]):s("span",[s("pl-wallet-addr",{staticClass:"x-small-font",attrs:{complete:!1,address:e.issuer,length:4,"show-copy":!1}})],1)]):t._e()]),s("td",{staticClass:"text-right"},[s("van-radio",{attrs:{name:e.code+e.issuer}})],1)])])])])}),1)],1)],1)],1)},Pi=[],Hi={mixins:[d],data:function(){return{pairs:{},showPop:!1,showPicker:!1,pairType:"",loading:!1,pickerBalances:[],pickerPair:""}},computed:{disabledBtn:function(){return!(Object.keys(this.pairs).length>0)},balances:function(){var t=this.$store.state.account;if(t){var e=this.$store.state.balances[t.address],s=this.getConfigAssetsMap(t.type);return e.forEach(function(t){var e=s[t.code+(t.issuer||"")];e&&(t.srcLogo=e.logo||"",t.srcName=e.name)}),e}return[]}},methods:{show:function(t){this.pairs=Object(r["a"])({},t),this.resetData(),this.showPop=!0},resetData:function(){this.pickerPair="";var t=this.$store.state.account;if(t){var e=this.getConfigAssetsMap(t.type),s=e[this.pairs.baseCode+(this.pairs.baseIssuer||"")];s&&(this.pairs.baseLogo=s.logo||"",this.pairs.baseName=s.name);var a=e[this.pairs.counterCode+(this.pairs.counterIssuer||"")];a&&(this.pairs.counterLogo=a.logo||"",this.pairs.counterName=a.name)}},close:function(){this.showPop=!1},exchangePair:function(){var t=Object(r["a"])({},this.pairs);t.baseCode=this.pairs.counterCode,t.baseIssuer=this.pairs.counterIssuer,t.counterCode=this.pairs.baseCode,t.counterIssuer=this.pairs.baseIssuer,t.baseLogo=this.pairs.counterLogo,t.counterLogo=this.pairs.baseLogo,this.pairs=t},sure:function(){var t=this;this.$collecitons.tradepair.findAndUpdateTradepair({acctType:this.pairs.acctType,acctAddress:this.pairs.acctAddress},function(e){return e.baseCode=t.pairs.baseCode,e.baseIssuer=t.pairs.baseIssuer,e.counterIssuer=t.pairs.counterIssuer,e.counterCode=t.pairs.counterCode}),this.$emit("done",this.pairs),this.close()},selectTradepair:function(t){var e=this;this.pairType=t,"1"===this.pairType?this.pickerBalances=this.balances.filter(function(t){var s=t.code+(t.issuer||"");return s!=e.pairs.counterCode+e.pairs.counterIssuer}):"2"===this.pairType&&(this.pickerBalances=this.balances.filter(function(t){var s=t.code+(t.issuer||"");return s!=e.pairs.baseCode+e.pairs.baseIssuer})),this.pickerBalances.length>0&&(this.showPicker=!0)},onCancel:function(){this.showPicker=!1},onConfirm:function(){var t=this,e=this.pickerBalances.filter(function(e){return e.code+e.issuer===t.pickerPair}),s=this.getConfigAssetsMap(this.$store.state.account.type);if("1"===this.pairType){this.pairs.baseLogo="",this.pairs.baseName="",this.pairs.baseCode=e[0].code,this.pairs.baseIssuer=e[0].issuer||"";var a=s[this.pairs.baseCode+(this.pairs.baseIssuer||"")];a&&(this.pairs.baseLogo=a.logo||"",this.pairs.baseName=a.name)}else if("2"===this.pairType){this.pairs.counterLogo="",this.pairs.counterName="",this.pairs.counterCode=e[0].code,this.pairs.counterIssuer=e[0].issuer||"";var i=s[this.pairs.counterCode+(this.pairs.counterIssuer||"")];i&&(this.pairs.counterLogo=i.logo||"",this.pairs.counterName=i.name)}this.showPicker=!1}}},Di=Hi,Mi=(s("0dec"),Object(m["a"])(Di,Ti,Pi,!1,null,"7a81de0c",null));Mi.options.__file="tradepair-add-pop.vue";var Ei=Mi.exports,Oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"b-white padding trade-offers"},[s("van-row",[s("van-col",{staticClass:"van-hairline--right",staticStyle:{"padding-right":"3px"},attrs:{span:"12"}},[s("div",{staticClass:"offer-table"},[s("div",{staticClass:"text-muted small-font header"},[s("div",{staticClass:"text-left",domProps:{textContent:t._s(t.$t("trade.buyAmount"))}}),s("div",{staticClass:"text-right",domProps:{textContent:t._s(t.$t("trade.buyPrice"))}})]),t._l(t.bids,function(e,a){return s("div",{key:a,staticClass:"small-font row",style:"background: linear-gradient(to left, #dcf6de "+e.pct+"%, #fff "+e.pct+"%)",on:{click:function(s){s.stopPropagation(),t.selectOnePrice(e)}}},[s("div",{staticClass:"text-left text-muted"},[t._v(" "+t._s(t._f("currency")(e.amount,"","2")))]),s("div",{staticClass:"text-right small-font"},[t._v(" "+t._s(t._f("currency")(e.price,"","7")))])])})],2)]),s("van-col",{staticStyle:{"padding-left":"3px"},attrs:{span:"12"}},[s("div",{staticClass:"offer-table"},[s("div",{staticClass:"text-muted small-font header"},[s("div",{staticClass:"text-left",domProps:{textContent:t._s(t.$t("trade.sellPrice"))}}),s("div",{staticClass:"text-right",domProps:{textContent:t._s(t.$t("trade.sellAmount"))}})]),t._l(t.asks,function(e,a){return s("div",{key:a,staticClass:"small-font row",style:"background: linear-gradient(to right, #fed6d8 "+e.pct+"%, #fff "+e.pct+"%)",on:{click:function(s){s.stopPropagation(),t.selectOnePrice(e)}}},[s("div",{staticClass:"text-left"},[t._v(t._s(t._f("currency")(e.price,"","7")))]),s("div",{staticClass:"text-muted text-right small-font"},[t._v(" "+t._s(t._f("currency")(e.amount,"","2")))])])})],2)])],1),s("van-row",[s("van-col",{staticClass:"text-left",attrs:{span:"12"}},[s("div",{staticClass:"text-primary x-small-font",staticStyle:{"margin-top":"10px"},on:{click:function(e){return e.stopPropagation(),t.viewLastBooks(e)}}},[t._v(t._s(t.$t("trade.lastExec"))),s("i",{staticClass:"ultfont ult-right x-small-font"})])]),s("van-col",{staticClass:"text-right",attrs:{span:"12"}},[s("div",{staticClass:"x-small-font dept-dw"},[s("div",{on:{click:function(e){e.stopPropagation(),t.selectPage=!t.selectPage}}},[t._v("\n            "+t._s(t.pageNo)+" "),s("i",{staticClass:"ultfont ult-down small-font"})]),t.selectPage?s("div",{staticClass:"selectUl x-small-font"},t._l(t.pageNos,function(e){return s("div",{key:e,staticClass:"selectLi",class:{select:t.pageNo==e},on:{click:function(s){s.stopPropagation(),t.toSelectPageNo(e)}}},[t._v(t._s(e))])}),0):t._e()]),s("div",{staticClass:"text-primary x-small-font",staticStyle:{"margin-top":"10px",display:"inline-block"},on:{click:function(e){return e.stopPropagation(),t.viewMyBooks(e)}}},[t._v(t._s(t.$t("trade.myExec"))),s("i",{staticClass:"ultfont ult-right x-small-font"})])])],1)],1)])},Ii=[],Fi={props:{tradePair:{type:Object,default:function(){return{}}}},data:function(){return{pageNos:[100,50,30,10],pageNo:10,selectPage:!1,marketTimer:null,books:[],asks:[],bids:[]}},methods:{toSelectPageNo:function(t){this.pageNo=t,this.selectPage=!1,this.getBooks()},initSelectPage:function(){this.selectPage=!1},initMarketDept:function(){this.selectPage=!1,this.pageNo=10},clearTimer:function(){this.marketTimer&&(window.clearInterval(this.marketTimer),this.marketTimer=null)},startTimer:function(){var t=this;this.marketTimer||(this.marketTimer=window.setInterval(function(){t.getBooks()},3e4))},getBooks:function(){var t=this,e={code:this.tradePair.baseCode,issuer:this.tradePair.baseIssuer},s={code:this.tradePair.counterCode,issuer:this.tradePair.counterIssuer};this.$wallet.queryBook(e,s).then(function(e){t.books=e,t.asks=e.asks,t.bids=e.bids,t.processBooks(),t.startTimer()}).catch(function(){t.books=[],t.asks=[],t.bids=[],t.startTimer()})},processBooks:function(){var t=this.pageNo;this.asks.length>t&&(this.asks=this.asks.slice(0,t)),this.bids.length>t&&(this.bids=this.bids.slice(0,t));for(var e=0,s=0;s<this.asks.length;s++)this.asks[s].volumn=this.asks[s].amount*this.asks[s].price,e+=parseFloat(this.asks[s].volumn),this.asks[s].depth=e;e=0;for(var a=0;a<this.bids.length;a++)this.bids[a].volumn=this.bids[a].amount*this.bids[a].price,e+=parseFloat(this.bids[a].volumn),this.bids[a].depth=e;var i=0;this.asks.length>0&&(i=this.asks[this.asks.length-1].depth),this.bids.length>0&&this.bids[this.bids.length-1].depth>i&&(i=this.bids[this.bids.length-1].depth);for(var o=0;o<this.asks.length;o++)this.asks[o].pct=Ci.round(this.asks[o].depth/i*100,2);for(var n=0;n<this.bids.length;n++)this.bids[n].pct=Ci.round(this.bids[n].depth/i*100,2)},viewLastBooks:function(){this.initSelectPage(),this.$emit("viewLastBooks")},viewMyBooks:function(){this.initSelectPage(),this.$emit("viewMyBooks")},selectOnePrice:function(t){this.$emit("input",t.price)}}},Ni=Fi,Vi=(s("5391"),Object(m["a"])(Ni,Oi,Ii,!1,null,"568d1e1d",null));Vi.options.__file="market-dept.vue";var Bi=Vi.exports,Ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"b-white padding trade-offers"},t._l(t.offers,function(e,a){return s("div",{key:a,class:{"van-hairline--bottom":a!==t.offers.length-1}},[s("van-row",{staticClass:"margin-bottom"},[s("van-col",{attrs:{span:"3"}},[e.isSelling?s("span",{staticClass:"text-danger",domProps:{textContent:t._s(t.$t("trade.selling"))}}):s("span",{staticClass:"text-primary",domProps:{textContent:t._s(t.$t("trade.buying"))}})]),s("van-col",{staticClass:"text-muted",attrs:{span:"15"}},[t._v(t._s(e.tradeTime))]),s("van-col",{staticClass:"text-right",attrs:{span:"6"},nativeOn:{click:function(s){t.toCancel(e)}}},[s("span",{staticClass:"normal-font text-primary",domProps:{textContent:t._s(t.$t("trade.cancel"))}})])],1),s("table",{staticStyle:{height:"100%",width:"100%","border-collapse":"collapse"}},[s("tr",[s("th",{staticClass:"small-font text-muted text-left",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            "+t._s(t.$t("trade.price"))+"("+t._s(t.tradePair.counterCode)+")\n          ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            "+t._s(t.$t("trade.amount"))+"("+t._s(t.tradePair.baseCode)+")\n          ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            "+t._s(t.$t("trade.unexecuted"))+"("+t._s(t.tradePair.baseCode)+")\n          ")])]),s("tr",[s("td",{staticClass:"small-font",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(e.price,"","7")))+"\n          ")]),s("td",{staticClass:"text-right small-font text-muted",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            "+t._s(t._f("cutTail")(t._f("currency")(e.amount,"","7")))+"\n          ")]),s("td",{staticClass:"text-right small-font text-muted",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n            0\n          ")])])])],1)}),0),s("password-dialog",{ref:"pwdDialog",on:{done:t.cancelOffer}}),s("offer-history",{ref:"offerHistory"})],1)},Li=[],ji=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-popup",{staticClass:"popup-wapper",staticStyle:{width:"100%",height:"100%"},attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[s("van-nav-bar",{attrs:{title:"历史记录"},on:{"click-left":function(e){t.close()}}},[s("span",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"ultfont ult-left"})])]),s("pl-content-block",{attrs:{offsetTop:46}},[s("div",{staticClass:"b-white padding trade-offers"},[s("table",{staticStyle:{height:"100%",width:"100%","border-collapse":"collapse"}},[s("tr",[s("th",{staticClass:"small-font text-muted text-left",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              数量("+t._s(t.tradepair.baseCode)+")\n            ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              价格("+t._s(t.tradepair.counterCode)+")\n            ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              方向\n            ")]),s("th",{staticClass:"small-font text-muted text-right ",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              时间\n            ")])]),t._l(t.historyOffers,function(e,a){return s("tr",{key:a},[s("td",{staticClass:"small-font",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(e.baseAmount)+"\n            ")]),s("td",{staticClass:"text-right small-font",class:e.baseIsSeller?"text-success":"text-danger",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(t._f("currency")(e.price,"","4"))+"\n            ")]),s("td",{staticClass:"text-right small-font",class:e.baseIsSeller?"text-success":"text-danger",attrs:{colspan:"1",rowspan:"1"}},[e.baseIsSeller?s("span",[t._v("买入")]):s("span",[t._v("卖出")])]),s("td",{staticClass:"text-right small-font text-muted",attrs:{colspan:"1",rowspan:"1"}},[t._v("\n              "+t._s(e.ledgerCloseTime)+"\n            ")])])})],2)])])],1)],1)},Wi=[],zi={data:function(){return{showPop:!1,historyOffers:[],tradepair:{}}},methods:{show:function(t){this.showPop=!0,this.tradepair=t,this.getHistoryOffers()},getHistoryOffers:function(){var t=this;this.historyOffers=[],this.$wallet.queryOfferHistorys(this.$store.state.account.address).then(function(e){console.info(e),e.forEach(function(e){t.historyOffers.push(t.processHistoryOffers(e))})}).catch(function(e){console.info(e),t.$toast("网络请求失败"),t.historyOffers=[]})},processHistoryOffers:function(t){var e=Ci.round(t.counter_amount/t.base_amount,2),s=ie()().format("YYYY-MM-DD"),a=ie()(t.ledger_close_time).format("YYYY-MM-DD"),i=ie()(t.ledger_close_time).format("HH:mm:SS");ie()(a).isSame(s)||(i=ie()(t.ledger_close_time).format("MM-DD HH:mm:SS"));var o={baseCode:"native"===t.base_asset_type?"XLM":t.base_asset_code,baseAmount:t.base_amount,baseIsSeller:t.base_is_seller,counterAmount:t.counter_amount,counterCode:"native"===t.counter_asset_type?"XLM":t.counter_asset_code,ledgerCloseTime:i,price:e};return o},close:function(){this.showPop=!1}}},Yi=zi,Xi=(s("de6fe"),Object(m["a"])(Yi,ji,Wi,!1,null,"6de89bc2",null));Xi.options.__file="offer-history-pop.vue";var qi=Xi.exports,Ki={components:{passwordDialog:nt["a"],offerHistory:qi},props:{tradePair:{type:Object,default:function(){return{}}},address:String,secret:String},data:function(){return{offers:[],offerTimer:null}},methods:{clearTimer:function(){this.offerTimer&&(window.clearInterval(this.offerTimer),this.offerTimer=null)},startTimer:function(){var t=this;this.offerTimer||(this.offerTimer=window.setInterval(function(){t.getOffers()},6e4))},isSameAsset:function(t,e,s,a){return"XLM"==t?t==s:t==s&&e==a},processOffers:function(t){var e=this,s=[];return t.forEach(function(t){var a="native"===t.buying.asset_type?"XLM":t.buying.asset_code,i="native"==t.buying.asset_type?"":t.buying.asset_issuer,o="native"===t.selling.asset_type?"XLM":t.selling.asset_code,n="native"==t.selling.asset_type?"":t.selling.asset_issuer,r=Number(t.amount),c=parseFloat(t.price),l=Number(new y.a(t.amount).times(t.price).toString()),d=!1;e.isSameAsset(o,n,e.tradePair.baseCode,e.tradePair.baseIssuer)&&e.isSameAsset(a,i,e.tradePair.counterCode,e.tradePair.counterIssuer)?(d=!0,c=parseFloat(t.price).toFixed(7),s.push({id:t.id,isSelling:d,buyCode:a,buyIssuer:i,sellCode:o,sellIssuer:n,amount:r,price:c,volume:l,tradeTime:ie()(t.last_modified_time).format("HH:mm MM/DD")})):e.isSameAsset(o,n,e.tradePair.counterCode,e.tradePair.counterIssuer)&&e.isSameAsset(a,i,e.tradePair.baseCode,e.tradePair.baseIssuer)&&(r=parseFloat(t.amount),c=Number(new y.a(1).div(t.price).toString()),s.push({id:t.id,isSelling:d,buyCode:a,buyIssuer:i,sellCode:o,sellIssuer:n,amount:r,price:c,volume:l,tradeTime:ie()(t.last_modified_time).format("HH:mm MM/DD")}))}),s},getOffers:function(){var t=this;this.$wallet.queryOffers(this.address).then(function(e){t.offers=t.processOffers(e),t.startTimer()}).catch(function(){t.offers=[],t.startTimer()})},toCancel:function(t){this.$store.state.passwordMap[this.address]?this.cancelOffer(this.$store.state.passwordMap[this.address],t):this.$refs.pwdDialog.show(t)},cancelOffer:function(t,e){var s=this;this.$emit("savePasswordInMemory",t);var a=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular"}),i={id:e.id,price:e.price};e.isSelling?(i.selling={code:e.sellCode,issuer:e.sellIssuer},i.buying={code:e.buyCode,issuer:e.buyIssuer}):(i.selling={code:e.buyCode,issuer:e.buyIssuer},i.buying={code:e.sellCode,issuer:e.sellIssuer}),this.$wallet.cancelOffer(i,this.address,R["a"].decryptAES(this.secret,t)).then(function(t){t&&(a.message=s.$t("trade.cancelSuccess"),setTimeout(function(){a.clear(),s.getOffers()},1e3))}).catch(function(t){console.info(t);var e=s.getErrMsg(t);e?s.$toast(e):s.$toast(s.$t("trade.cancelFail")),setTimeout(function(){a.clear()},2e3)})},viewOfferHistory:function(){this.$refs.offerHistory.show(this.tradePair)}}},Ui=Ki,Qi=(s("5353"),Object(m["a"])(Ui,Ri,Li,!1,null,"137d50ce",null));Qi.options.__file="my-offers.vue";var Gi=Qi.exports,Zi=s("98dc"),Ji=s.n(Zi),to={components:{tradepairAddPop:Ei,passwordDialog:nt["a"],vueSlider:Ji.a,marketDept:Bi,myOffers:Gi,tradeLastBookPop:Si},data:function(){return{showPop:!1,tabActive:0,bsFlag:"buy",bsCode:"",bsIssuer:"",tradepair:{},form:{price:"",amount:""},startX:0,startY:0,deltaX:0,deltaY:0,offsetX:0,offsetY:0}},computed:{currentAccount:function(){return this.$store.state.account},balances:function(){var t=this.$store.state.account;if(t){var e=this.$store.state.balances[t.address];if(e){var s={};return e.forEach(function(t){var e=t.issuer?t.issuer:"";s[t.code+e]=t.value}),s}}return{}},expectedTradePrice:function(){return this.form.price&&this.form.amount?new y.a(this.form.price).times(this.form.amount).toFixed(8):0},errMsg:function(){return{"Bad Request":"Bad Request",NotFoundError:this.$t("exchange.notFoundError"),"Network Error":this.$t("transaction.networkError"),manageOfferSellNoTrust:this.$t("trade.manageOfferNoTrust"),manageOfferBuyNoTrust:this.$t("trade.manageOfferNoTrust"),manageOfferMalformed:this.$t("trade.manageOfferMalformed"),manageOfferUnderfunded:this.$t("trade.balancesTip")}},maxVal:function(){if("buy"===this.bsFlag&&this.form.price>0){var t=this.balances[this.bsCode+this.bsIssuer];if(t)return Number(new y.a(t).div(this.form.price).toFixed(8))}else if("sell"===this.bsFlag)return Number(this.balances[this.bsCode+this.bsIssuer]);return 100},step:function(){return this.maxVal>0?Number(new y.a(this.maxVal).div(10).toFixed(8)):1}},watch:{showPop:function(){this.$refs.marketDept&&this.$refs.marketDept.clearTimer(),this.$refs.myOffers&&this.$refs.myOffers.clearTimer()},"form.price":function(){this.form.price&&(this.form.price=this.form.price.toString().match(/^\d*(\.?\d{0,7})/g)[0]||null)},"form.amount":function(){this.form.amount&&(this.form.amount=this.form.amount.toString().match(/^\d*(\.?\d{0,7})/g)[0]||null)}},methods:{show:function(){this.showPop=!0,this.init()},bindClick:function(){this.$refs.marketDept.initSelectPage()},init:function(){var t=this;this.toBs("buy"),this.form.price="";var e=this.$store.state.account;if(e){var s=this.$collecitons.tradepair.findByAcctTypeAndAddress(e.type,e.address);s&&s.length>0?this.tradepair=s[0]:this.saveDefaultTradepair(e),this.bsCode=this.tradepair.counterCode,this.bsIssuer=this.tradepair.counterIssuer?this.tradepair.counterIssuer:"",this.$nextTick(function(){t.$refs.marketDept.initMarketDept(),t.$refs.marketDept.getBooks()})}},onTouchStart:function(t){this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},onTouchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY)},onTouchEnd:function(){var t=50;this.offsetX>this.offsetY&&this.offsetX>10&&this.offsetX>=t&&(this.deltaX>0&&"buy"!==this.bsFlag?this.toBs("buy"):this.deltaX<0&&"sell"!==this.bsFlag&&this.toBs("sell"))},saveDefaultTradepair:function(t){var e=this.$store.state.balances[t.address];if(e&&e.length>1){var s=e[1];this.tradepair={acctType:t.type,acctAddress:t.address,baseCode:"XLM",baseIssuer:"",counterCode:s.code,counterIssuer:s.issuer?s.issuer:""},this.$collecitons.tradepair.insertTradepair(this.tradepair)}else this.tradepair={acctType:t.type,acctAddress:t.address,baseCode:"XLM",baseIssuer:"",counterCode:"CNY",counterIssuer:"GAREELUB43IRHWEASCFBLKHURCGMHE5IF6XSE7EXDLACYHGRHM43RFOX"}},toAddTradepair:function(){this.$refs.tradepairAddPop.show(this.tradepair)},toBs:function(t){this.form.amount="",this.bsFlag=t,"buy"===t?(this.bsCode=this.tradepair.counterCode,this.bsIssuer=this.tradepair.counterIssuer?this.tradepair.counterIssuer:""):"sell"===t&&(this.bsCode=this.tradepair.baseCode,this.bsIssuer=this.tradepair.baseIssuer?this.tradepair.baseIssuer:"")},pairAddDone:function(t){var e=this;this.tradepair=t,this.bsCode=this.tradepair.counterCode,this.bsIssuer=this.tradepair.counterIssuer?this.tradepair.counterIssuer:"",this.tabActive=0,this.toBs("buy"),this.$nextTick(function(){e.$refs.marketDept.getBooks()})},checkForm:function(){return this.form.price?this.form.amount?"buy"===this.bsFlag?!(Number(this.balances[this.bsCode+this.bsIssuer])<Number(this.expectedTradePrice))||(this.$toast(this.$t("trade.balancesTip")),!1):"sell"!==this.bsFlag||(!(Number(this.balances[this.bsCode+this.bsIssuer])<Number(this.form.amount))||(this.$toast(this.$t("trade.balancesTip")),!1)):(this.$toast(this.$t("trade.amountTip")),!1):(this.$toast(this.$t("trade.priceTip")),!1)},toInputPassword:function(){this.checkForm()&&(this.$store.state.passwordMap[this.currentAccount.address]?this.tradeTx(this.$store.state.passwordMap[this.currentAccount.address]):this.$refs.pwdDialog.show())},getErrMsg:function(t){return t&&this.errMsg[t]?this.errMsg[t]:null},savePasswordInMemory:function(t){var e={};e[this.currentAccount.address]=t,this.$store.dispatch("setPasswordMap",e)},tradeTx:function(t){var e=this;this.savePasswordInMemory(t),this.loading=!0;var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"circular"}),a={},i={},o="",n="";"buy"===this.bsFlag?(a.code=this.tradepair.counterCode,a.issuer=this.tradepair.counterIssuer,i.code=this.tradepair.baseCode,i.issuer=this.tradepair.baseIssuer,o=this.form.amount,n=1/this.form.price):"sell"===this.bsFlag&&(a.code=this.tradepair.baseCode,a.issuer=this.tradepair.baseIssuer,i.code=this.tradepair.counterCode,i.issuer=this.tradepair.counterIssuer,o=this.form.amount,n=this.form.price),this.$wallet.sendOffer(a,i,o,n,this.currentAccount.address,R["a"].decryptAES(this.currentAccount.secret,t)).then(function(t){t&&(s.message=e.$t("trade.offerSuccess"),setTimeout(function(){s.clear(),e.tabActive=1,e.tabChange()},1e3)),e.loading=!1}).catch(function(t){console.info(t);var a=e.getErrMsg(t);a?e.$toast(a):e.$toast(e.$t("trade.offerFail")+":"+t),setTimeout(function(){s.clear()},2e3),e.loading=!1})},tabChange:function(){var t=this;0===this.tabActive?this.$nextTick(function(){t.$refs.myOffers.clearTimer(),t.$refs.marketDept.getBooks()}):1===this.tabActive&&this.$nextTick(function(){t.$refs.marketDept.clearTimer(),t.$refs.myOffers.getOffers()})},viewLastBooks:function(){this.$refs.tradeLastBookPop.show(this.tradepair)},viewMyBooks:function(){this.$refs.tradeLastBookPop.show(this.tradepair,this.$store.state.account.address)},close:function(){this.showPop=!1}}},eo=to,so=(s("f94c"),Object(m["a"])(eo,yi,wi,!1,null,"49ce1560",null));so.options.__file="trade.vue";var ao=so.exports,io={name:"assets",data:function(){return{index:0,isLoading:!1,wallets:[],walletIndexMap:{},showActions:!1,shortCode:""}},components:{assetItem:_,acctDetail:yt,viewAccounts:Pt,assetsAdd:bi,receiveAsset:Wt,assetDetail:Ta,sendTransaction:Ie,addressAdd:$a["a"],trade:ao},computed:{actions:function(){return[{name:this.$t("common.transferAccounts"),action:"transfer"},{name:this.$t("common.addContacts"),action:"addContract"}]}},watch:{index:function(){this.wallets&&this.wallets.length>0&&this.$refs["assetItem"]&&this.$refs["assetItem"][this.index]&&this.$refs["assetItem"][this.index].setActive()}},methods:{shortType:function(t){return c["a"][t].symbol||t},swipeChange:function(t){var e=this;this.index=t,this.$refs["contentBlock"]&&setTimeout(function(){e.$refs["contentBlock"].$el.scrollTop=0},300)},viewAccounts:function(){this.$refs.viewAccounts.show()},selectWallet:function(t){this.$store.dispatch("setAccount",t),this.index=this.walletIndexMap[t.address],this.$refs["swipe"].swipeTo(this.index),this.$refs.viewAccounts.close()},setWallets:function(){var t=this;this.wallets=this.$collecitons.account.findAllSoryByType(),this.wallets.forEach(function(e,s){t.walletIndexMap[e.address]=s});var e=this.$collecitons.setting.findSetting();this.index=this.walletIndexMap[e.defaultAddress]||0},onRefresh:function(){var t=this;this.$store.dispatch("setBalances",this.$store.state.account.address).then(function(){t.isLoading=!1}).catch(function(e){console.info(e),t.isLoading=!1})},onSelect:function(t){this.showActions=!1;var e={code:this.shortType(this.$store.state.account.type)};switch(t.action){case"transfer":this.$refs.sendTransaction.show(e,this.address,this.transferAmt);break;case"addContract":this.$refs.addressAdd.show(this.address);break;default:break}},toScan:function(){var t=this;B["a"].scan(this).then(function(e){e&&e.address&&""!==e.address?(t.address=e.address,e.transferAmt&&(t.transferAmt=e.transferAmt),t.showActions=!0):t.$toast(t.$t("assets.scanFailTip"))},function(e){console.log(e),t.$toast(e)})},showAssetDetail:function(t){this.$refs.assetDetail.show(t)},viewAcctDetail:function(){this.$refs.acctDetail.show(this.$store.state.account)},showQRcode:function(t){this.shortCode=t,this.$refs.receiveAsset.showPopup()},addAssets:function(){this.$refs.assetsAdd.show(this.assets)},toTrade:function(){this.$refs.trade.show()}},activated:function(){var t=this,e=this.$route.params;e&&e.refresh&&(this.wallets=[],this.index=-1,this.$nextTick(function(){t.setWallets()})),this.$refs["swipe"]&&this.$refs["swipe"].onResize()},mounted:function(){},created:function(){this.setWallets()}},oo=io,no=(s("d46b"),s("3b88"),Object(m["a"])(oo,a,i,!1,null,"2f15504a",null));no.options.__file="assets.vue";e["default"]=no.exports},a5a5:function(t,e,s){"use strict";var a=s("9d12"),i=s.n(a);i.a},a99e:function(t,e,s){"use strict";var a=s("6259"),i=s.n(a);i.a},ab8c:function(t,e,s){},aef9:function(t,e,s){"use strict";var a=s("ab8c"),i=s.n(a);i.a},b40b:function(t,e,s){},bc14:function(t,e,s){"use strict";var a=s("506f"),i=s.n(a);i.a},bd776:function(t,e,s){},c11f:function(t,e,s){},c1c0:function(t,e,s){},c626:function(t,e,s){},c68e:function(t,e,s){},c7ac:function(t,e,s){},d0ff:function(t,e,s){},d1f5:function(t,e,s){"use strict";var a=s("e24a"),i=s.n(a);i.a},d46b:function(t,e,s){"use strict";var a=s("c7ac"),i=s.n(a);i.a},d6ce:function(t,e,s){"use strict";var a=s("c11f"),i=s.n(a);i.a},d6df:function(t,e,s){},dd1c:function(t,e,s){"use strict";var a=s("e08f"),i=s.n(a);i.a},dd41:function(t,e,s){},dd6b:function(t,e,s){"use strict";var a=s("a1fa"),i=s.n(a);i.a},ddec:function(t,e,s){"use strict";var a=s("9663"),i=s.n(a);i.a},de34:function(t,e,s){},de53:function(t,e,s){"use strict";var a=s("c68e"),i=s.n(a);i.a},de6fe:function(t,e,s){"use strict";var a=s("234e"),i=s.n(a);i.a},e08f:function(t,e,s){},e183:function(t,e,s){"use strict";var a=s("c1c0"),i=s.n(a);i.a},e1c7:function(t,e,s){"use strict";var a=s("eb93"),i=s.n(a);i.a},e24a:function(t,e,s){},e4b7:function(t,e,s){"use strict";var a=s("d0ff"),i=s.n(a);i.a},e90e:function(t,e,s){},ea15:function(t,e,s){},eb93:function(t,e,s){},f6df:function(t,e,s){"use strict";var a=s("977b"),i=s.n(a);i.a},f6e2:function(t,e,s){},f820:function(t,e,s){},f94c:function(t,e,s){"use strict";var a=s("9679"),i=s.n(a);i.a}}]);